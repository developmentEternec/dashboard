{"ast":null,"code":"/*!\n    *\n    * Wijmo Library 5.20211.794\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(e, t) {\n    return (_extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var l in t) {\n        t.hasOwnProperty(l) && (e[l] = t[l]);\n      }\n    })(e, t);\n  };\n\n  return function (e, t) {\n    _extendStatics(e, t);\n\n    function __() {\n      this.constructor = e;\n    }\n\n    e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n  };\n}();\n\nimport { _getModule, _registerModule } from \"@grapecity/wijmo\";\nimport * as wjcCore from \"@grapecity/wijmo\";\nimport * as wjcGrid from \"@grapecity/wijmo.grid\";\nimport * as selfModule from \"@grapecity/wijmo.interop.grid\";\nexport function softInput() {\n  return _getModule(\"wijmo.input\");\n}\nexport function softGridDetail() {\n  return _getModule(\"wijmo.grid.detail\");\n}\n\nvar __gridCFRef = wjcGrid && wjcGrid.CellFactory;\n\nif (!__gridCFRef) {\n  window.wijmo.grid = {};\n\n  window.wijmo.grid.CellFactory = function () {};\n}\n\nvar DirectiveCellFactoryBase = function (e) {\n  __extends(DirectiveCellFactoryBase, e);\n\n  function DirectiveCellFactoryBase(t) {\n    var l = e.call(this) || this;\n    l._lastApplyTimeStamp = 0;\n    l._noApplyLag = !1;\n    l._startingEditing = !1;\n    l._cellStampCounter = 0;\n    l._composing = !1;\n    l.grid = t;\n\n    if (!DirectiveCellFactoryBase._templateTypes) {\n      DirectiveCellFactoryBase._templateTypes = [];\n\n      for (var i in GridCellTemplateType) {\n        isNaN(i) && DirectiveCellFactoryBase._templateTypes.push(i);\n      }\n    }\n\n    var r = l;\n    l._baseCf = t.cellFactory;\n    t.cellFactory = l;\n    l._evtInput = document.createEvent(\"HTMLEvents\");\n\n    l._evtInput.initEvent(\"input\", !0, !1);\n\n    l._evtBlur = document.createEvent(\"HTMLEvents\");\n\n    l._evtBlur.initEvent(\"blur\", !1, !1);\n\n    t.prepareCellForEdit.addHandler(function (e, t) {\n      r._noApplyLag = !0;\n    });\n    t.cellEditEnded.addHandler(function (e, l) {\n      var i = l.range,\n          o = i.col;\n      (o < 0 || o < t.columns.length && !t._getBindingColumn(t.cells, i.row, t.columns[o])[DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType.CellEdit)]) && (r._editChar = null);\n      setTimeout(function () {\n        r._noApplyLag = !1;\n      }, 300);\n    });\n    t.beginningEdit.addHandler(function (e, t) {\n      r._startingEditing = !0;\n    });\n    t.hostElement.addEventListener(\"keydown\", function (e) {\n      r._startingEditing = !1;\n    }, !0);\n    t.hostElement.addEventListener(\"keypress\", function (e) {\n      var l = e.charCode > 32 ? String.fromCharCode(e.charCode) : null;\n      if (l && wjcCore.closest(e.target, \".wj-flexgrid\") === t.hostElement) if (!t.activeEditor || r._startingEditing) {\n        r._editChar = l;\n        setTimeout(function () {\n          t.activeEditor || (r._editChar = null);\n        }, 0);\n      } else r._editChar && (r._editChar += l);\n    }, !0);\n    t.hostElement.addEventListener(\"compositionstart\", function (e) {\n      r._composing = !0;\n    }, !0);\n    t.hostElement.addEventListener(\"compositionend\", function (e) {\n      r._composing = !1;\n    }, !0);\n    return l;\n  }\n\n  DirectiveCellFactoryBase.prototype.updateCell = function (e, t, l, i, r) {\n    var o = this;\n    this._cellStampCounter = (this._cellStampCounter + 1) % 1e7;\n    var n = i[DirectiveCellFactoryBase._cellStampProp] = this._cellStampCounter;\n    i.style.overflow && (i.style.overflow = \"\");\n    var a = t,\n        c = l;\n\n    if (r && !r.isSingleCell) {\n      t = r.row;\n      l = r.col;\n    }\n\n    var s,\n        d = this,\n        p = e.grid,\n        u = p.editRange,\n        C = e.rows[t],\n        m = C.dataItem,\n        f = !1,\n        v = !1,\n        y = !1,\n        g = !1;\n\n    switch (e.cellType) {\n      case wjcGrid.CellType.Cell:\n        if (u && u.row === t && u.col === l) {\n          s = GridCellTemplateType.CellEdit;\n          v = y = !0;\n        } else if (C instanceof wjcGrid.GroupRow) {\n          var _ = !((g = m instanceof wjcCore.CollectionViewGroup) || C.hasChildren);\n\n          if (l == e.columns.firstVisibleIndex) s = _ ? GridCellTemplateType.Cell : GridCellTemplateType.GroupHeader;else {\n            s = _ ? GridCellTemplateType.Cell : GridCellTemplateType.Group;\n            v = !0;\n          }\n        } else C instanceof wjcGrid._NewRowTemplate ? s = GridCellTemplateType.NewCellTemplate : softGridDetail() && softGridDetail().DetailRow && C instanceof softGridDetail().DetailRow || (s = GridCellTemplateType.Cell);\n\n        break;\n\n      case wjcGrid.CellType.ColumnHeader:\n        s = GridCellTemplateType.ColumnHeader;\n        break;\n\n      case wjcGrid.CellType.RowHeader:\n        s = p.collectionView && p.collectionView.currentEditItem === m ? GridCellTemplateType.RowHeaderEdit : GridCellTemplateType.RowHeader;\n        f = !0;\n        break;\n\n      case wjcGrid.CellType.TopLeft:\n        s = GridCellTemplateType.TopLeft;\n        f = !0;\n        break;\n\n      case wjcGrid.CellType.ColumnFooter:\n        s = GridCellTemplateType.ColumnFooter;\n        v = !0;\n        break;\n\n      case wjcGrid.CellType.BottomLeft:\n        s = GridCellTemplateType.BottomLeft;\n        f = !0;\n    }\n\n    var w = !1;\n\n    if (null != s) {\n      var E = g && s == GridCellTemplateType.GroupHeader ? p.getColumn(m.groupDescription.propertyName) : l >= 0 && l < e.columns.length ? p._getBindingColumn(e, t, e.columns[l]) : null;\n\n      if (E) {\n        var h = DirectiveCellFactoryBase.getTemplContextProp,\n            T = h(s),\n            F = (f ? p : E)[T];\n        if (!F) if (s === GridCellTemplateType.RowHeaderEdit) {\n          T = h(s = GridCellTemplateType.RowHeader);\n          F = p[T];\n        } else if ((s === GridCellTemplateType.Group || s === GridCellTemplateType.GroupHeader) && !g) {\n          T = h(s = GridCellTemplateType.Cell);\n          F = E[T];\n        }\n\n        if (F) {\n          var D;\n          v && (D = e.getCellData(t, l, !1));\n          w = !0;\n          var G = i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),\n              j = G && \"true\" === G.toLowerCase();\n\n          if (y) {\n            this.clearCell(i);\n\n            this._baseCf.updateCell(e, a, c, i, r, !0);\n          }\n\n          var B,\n              I = y && p.imeEnabled,\n              H = I && this._composing,\n              S = i[T],\n              x = {\n            cell: i,\n            column: E,\n            row: C,\n            panel: e,\n            rng: r,\n            isEdit: y,\n            isImeInput: I,\n            isTrueImeInput: H,\n            templateContext: F,\n            templateCache: S,\n            templateContextProperty: T,\n            cellStamp: n,\n            cellValue: D\n          };\n\n          if (this.shouldInstantiate(x)) {\n            if (y) {\n              var R = i.firstElementChild;\n\n              if (R) {\n                I || i.focus();\n                R.style.display = \"none\";\n              }\n            } else this.clearCell(i);\n\n            this._doDisposeCell(i);\n\n            this.renderTemplate(x, !0);\n            x.templateCache = S = i[T];\n            B = x.cellBindingsData;\n          } else {\n            this.renderTemplate(x, !1);\n            B = x.cellBindingsData;\n          }\n\n          F.cellOverflow && (i.style.overflow = F.cellOverflow);\n          j ? this.applyImmediately(x) : F.autoSizeRows && !I ? this.checkHeight(x) : y && setTimeout(function () {\n            I ? o._initImeEditInput(S, F) : o._initEditInput(S, F, null);\n          }, 0);\n\n          if (y) {\n            d._cellEditorVars = B.localVars;\n\n            var editEndingEH = function editEndingEH(e, t) {\n              p.cellEditEnding.removeHandler(editEndingEH);\n\n              if (!t.stayInEditMode) {\n                var l = wjcCore.getActiveElement();\n                l && l.dispatchEvent(d._evtBlur);\n                wjcCore.contains(i, wjcCore.getActiveElement()) && i.focus();\n              }\n\n              d._triggerEditorEvents(i);\n\n              if (!t.cancel && !t.stayInEditMode) for (var r = B.localVars, o = 0, n = Object.getOwnPropertyNames(B.bindings); o < n.length; o++) {\n                var a = n[o];\n                B.bindings[a].setValue(r, B.localVars.values[a]);\n              }\n              var c = i.querySelectorAll(\".wj-dropdown\");\n              [].forEach.call(c, function (e) {\n                var t = wjcCore.Control.getControl(e);\n                t && softInput() && t instanceof softInput().DropDown && (t.isDroppedDown = !1);\n              });\n            },\n                editEndedEH_1 = function editEndedEH_1(e, t) {\n              p.cellEditEnded.removeHandler(editEndedEH_1);\n              d._cellEditorVars = null;\n            };\n\n            p.cellEditEnding.addHandler(editEndingEH);\n            p.cellEditEnded.addHandler(editEndedEH_1);\n          } else this._baseCf.updateCell(e, a, c, i, r, !1);\n        }\n      }\n    }\n\n    if (!w) {\n      this._doDisposeCell(i);\n\n      this._baseCf.updateCell(e, a, c, i, r);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype.getEditorValue = function (t) {\n    if (this._cellEditorVars) {\n      var l = t.editRange;\n      l && l.isValid && this._triggerEditorEvents(t.cells.getCellElement(l.row, l.col));\n      return this._cellEditorVars.value;\n    }\n\n    return e.prototype.getEditorValue.call(this, t);\n  };\n\n  DirectiveCellFactoryBase.prototype.disposeCell = function (e) {\n    this._doDisposeCell(e);\n  };\n\n  DirectiveCellFactoryBase.prototype.disposeTemplate = function (e, t, l) {\n    if (t) {\n      t.rootElement = null;\n      t.column = null;\n      e[t.templateContextProperty] = null;\n      t.templateContextProperty = null;\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype.setBindingsData = function (e, t, l, i, r, o) {\n    e.row = t;\n    e.col = l;\n    e.item = i;\n    var n = {},\n        a = e.cell || {},\n        c = {},\n        s = {\n      localVars: a,\n      bindings: c\n    };\n    a.row = t;\n    a.col = l;\n    a.item = i;\n    a.value = r;\n    a.values = n;\n    if (o) for (var d = 0, p = Object.getOwnPropertyNames(o); d < p.length; d++) {\n      var u = p[d],\n          C = new wjcCore.Binding(o[u]);\n      c[u] = C;\n      n[u] = C.getValue(a);\n    }\n    e.cell !== a && (e.cell = a);\n    return s;\n  };\n\n  DirectiveCellFactoryBase.prototype.checkHeight = function (e) {\n    var t = this;\n    setTimeout(function () {\n      var l = e.cell;\n\n      if (e.cellStamp === l[DirectiveCellFactoryBase._cellStampProp]) {\n        var i = l.scrollHeight,\n            r = e.panel.rows,\n            o = e.row.index,\n            n = e.rng,\n            a = n && n.rowSpan || 1,\n            c = e.isEdit;\n        null != r.maxSize && (i = Math.min(i, r.maxSize));\n\n        if (o < r.length && r[o].renderHeight * a < i - 1) {\n          r.defaultSize = i / a;\n\n          if (c) {\n            var s = t._isFullEdit(),\n                d = t.grid;\n\n            d.refresh();\n            d.startEditing(s);\n            return;\n          }\n        } else c && (e.isImeInput ? t._initImeEditInput(e.templateCache, e.templateContext) : t._initEditInput(e.templateCache, e.templateContext, null));\n      }\n    }, 0);\n  };\n\n  DirectiveCellFactoryBase.prototype.doDisposeCell = function (e) {\n    for (var t = DirectiveCellFactoryBase._templateTypes, l = 0; l < t.length; l++) {\n      var i = DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType[t[l]]),\n          r = e[i];\n\n      if (r) {\n        var o = (r.column || this.grid)[i];\n        this.disposeTemplate(e, r, o);\n      }\n    }\n  };\n\n  DirectiveCellFactoryBase.getTemplContextProp = function (e) {\n    return \"$__cellTempl\" + GridCellTemplateType[e];\n  };\n\n  DirectiveCellFactoryBase.prototype._doDisposeCell = function (e) {\n    this.doDisposeCell(e);\n  };\n\n  DirectiveCellFactoryBase.prototype._initEditInput = function (e, t, l) {\n    var i = this,\n        r = !1 !== this.getEditorFocusFlag();\n    this.setEditorFocusFlag(null);\n\n    this._setFullEdit(t);\n\n    if (r) {\n      var o = this._findInitialInput(e);\n\n      if (o) {\n        var inpFocusEh = function inpFocusEh() {\n          o.removeEventListener(\"focus\", inpFocusEh);\n          setTimeout(function () {\n            setTimeout(function () {\n              var e = null != l ? l : i._editChar;\n\n              if (e) {\n                o.value = e;\n                i._editChar = null;\n\n                DirectiveCellFactoryBase._setSelectionRange(o, e.length, e.length);\n\n                o.dispatchEvent(i._evtInput);\n              }\n            }, 0);\n          }, DirectiveCellFactoryBase._FOCUS_INTERVAL);\n        };\n\n        o.addEventListener(\"focus\", inpFocusEh);\n        o.focus();\n      }\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype._initImeEditInput = function (e, t) {\n    var l = this,\n        i = wjcCore.getActiveElement();\n\n    if (i && (i instanceof HTMLInputElement || i instanceof HTMLTextAreaElement) && wjcCore.hasClass(i, \"wj-grid-ime\")) {\n      var r = this._findInitialInput(e),\n          o = r && r.style.color,\n          n = this._composing,\n          compEndEh_1 = function compEndEh_1() {\n        i.removeEventListener(\"compositionend\", compEndEh_1);\n        wjcCore.setCss(i, wjcGrid._ImeHandler._cssHidden);\n        l.setEditorFocusFlag(!0);\n        r && (r.style.color = o);\n\n        l._initEditInput(e, t, n ? i.value : null);\n      };\n\n      if (n) {\n        i.addEventListener(\"compositionend\", compEndEh_1);\n\n        if (r) {\n          var a = r.getBoundingClientRect(),\n              c = i.getBoundingClientRect(),\n              s = window.getComputedStyle(i),\n              d = parseFloat(s.left),\n              p = parseFloat(s.top);\n          wjcCore.setCss(i, {\n            left: d + a.left - c.left + \"px\",\n            top: p + a.top - c.top + \"px\",\n            width: a.width + \"px\",\n            height: a.height + \"px\"\n          });\n          r.style.color = \"transparent\";\n        }\n      } else setTimeout(function () {\n        return compEndEh_1();\n      }, DirectiveCellFactoryBase._FOCUS_INTERVAL);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype._findInitialInput = function (e) {\n    var t = e && e.rootElement && e.rootElement.querySelectorAll(\"input,textarea\");\n    if (t) for (var l = 0; l < t.length; l++) {\n      var i = t[l],\n          r = window.getComputedStyle(i);\n      if (\"none\" !== r.display && \"visible\" === r.visibility) return i;\n    }\n    return null;\n  };\n\n  DirectiveCellFactoryBase._setSelectionRange = function (e, t, l) {\n    void 0 === l && (l = t);\n    if (wjcCore.contains(document.body, e) && !e.disabled && \"none\" != e.style.display) try {\n      e.setSelectionRange(wjcCore.asNumber(t), wjcCore.asNumber(l), wjcCore.isIE() ? null : \"backward\");\n      e.focus();\n    } catch (e) {}\n  };\n\n  DirectiveCellFactoryBase.prototype._triggerEditorEvents = function (e) {\n    if (e) for (var t = e.querySelectorAll(\".wj-control\"), l = 0; l < t.length; l++) {\n      var i = t[l],\n          r = wjcCore.Control.getControl(i);\n      r && this.flushPendingEvents(r);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype._isFullEdit = function () {\n    var e = this.grid;\n    return !e.activeEditor || e._edtHdl._fullEdit;\n  };\n\n  DirectiveCellFactoryBase.prototype._setFullEdit = function (e) {\n    var t = this.grid;\n    e.forceFullEdit && t.activeEditor && (t._edtHdl._fullEdit = !0);\n  };\n\n  DirectiveCellFactoryBase._cellStampProp = \"__wjCellStamp\";\n  DirectiveCellFactoryBase._FOCUS_INTERVAL = wjcCore.Control._FOCUS_INTERVAL + 20;\n  return DirectiveCellFactoryBase;\n}(wjcGrid.CellFactory);\n\nexport { DirectiveCellFactoryBase };\n__gridCFRef || (window.wijmo.grid = null);\nexport var GridCellTemplateType;\n!function (e) {\n  e[e.Cell = 0] = \"Cell\";\n  e[e.CellEdit = 1] = \"CellEdit\";\n  e[e.ColumnHeader = 2] = \"ColumnHeader\";\n  e[e.RowHeader = 3] = \"RowHeader\";\n  e[e.RowHeaderEdit = 4] = \"RowHeaderEdit\";\n  e[e.TopLeft = 5] = \"TopLeft\";\n  e[e.GroupHeader = 6] = \"GroupHeader\";\n  e[e.Group = 7] = \"Group\";\n  e[e.NewCellTemplate = 8] = \"NewCellTemplate\";\n  e[e.ColumnFooter = 9] = \"ColumnFooter\";\n  e[e.BottomLeft = 10] = \"BottomLeft\";\n}(GridCellTemplateType || (GridCellTemplateType = {}));\n\n_registerModule(\"wijmo.interop.grid\", selfModule);","map":{"version":3,"sources":["C:/Users/Osvaldo/Desktop/Web/Front Angular/frontBovedaOriginal/node_modules/@grapecity/wijmo.interop.grid/es5-esm.js"],"names":["__extends","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","l","hasOwnProperty","__","constructor","prototype","create","_getModule","_registerModule","wjcCore","wjcGrid","selfModule","softInput","softGridDetail","__gridCFRef","CellFactory","window","wijmo","grid","DirectiveCellFactoryBase","call","_lastApplyTimeStamp","_noApplyLag","_startingEditing","_cellStampCounter","_composing","_templateTypes","i","GridCellTemplateType","isNaN","push","r","_baseCf","cellFactory","_evtInput","document","createEvent","initEvent","_evtBlur","prepareCellForEdit","addHandler","cellEditEnded","range","o","col","columns","length","_getBindingColumn","cells","row","getTemplContextProp","CellEdit","_editChar","setTimeout","beginningEdit","hostElement","addEventListener","charCode","String","fromCharCode","closest","target","activeEditor","updateCell","n","_cellStampProp","style","overflow","a","c","isSingleCell","s","d","p","u","editRange","C","rows","m","dataItem","f","v","y","g","cellType","CellType","Cell","GroupRow","_","CollectionViewGroup","hasChildren","firstVisibleIndex","GroupHeader","Group","_NewRowTemplate","NewCellTemplate","DetailRow","ColumnHeader","RowHeader","collectionView","currentEditItem","RowHeaderEdit","TopLeft","ColumnFooter","BottomLeft","w","E","getColumn","groupDescription","propertyName","h","T","F","D","getCellData","G","getAttribute","FlexGrid","_WJS_MEASURE","j","toLowerCase","clearCell","B","I","imeEnabled","H","S","x","cell","column","panel","rng","isEdit","isImeInput","isTrueImeInput","templateContext","templateCache","templateContextProperty","cellStamp","cellValue","shouldInstantiate","R","firstElementChild","focus","display","_doDisposeCell","renderTemplate","cellBindingsData","cellOverflow","applyImmediately","autoSizeRows","checkHeight","_initImeEditInput","_initEditInput","_cellEditorVars","localVars","editEndingEH","cellEditEnding","removeHandler","stayInEditMode","getActiveElement","dispatchEvent","contains","_triggerEditorEvents","cancel","getOwnPropertyNames","bindings","setValue","values","querySelectorAll","forEach","Control","getControl","DropDown","isDroppedDown","editEndedEH_1","getEditorValue","isValid","getCellElement","value","disposeCell","disposeTemplate","rootElement","setBindingsData","item","Binding","getValue","scrollHeight","index","rowSpan","maxSize","Math","min","renderHeight","defaultSize","_isFullEdit","refresh","startEditing","doDisposeCell","getEditorFocusFlag","setEditorFocusFlag","_setFullEdit","_findInitialInput","inpFocusEh","removeEventListener","_setSelectionRange","_FOCUS_INTERVAL","HTMLInputElement","HTMLTextAreaElement","hasClass","color","compEndEh_1","setCss","_ImeHandler","_cssHidden","getBoundingClientRect","getComputedStyle","parseFloat","left","top","width","height","visibility","body","disabled","setSelectionRange","asNumber","isIE","flushPendingEvents","_edtHdl","_fullEdit","forceFullEdit"],"mappings":"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","sourcesContent":["/*!\n    *\n    * Wijmo Library 5.20211.794\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\n\nvar __extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();import{_getModule,_registerModule}from\"@grapecity/wijmo\";import*as wjcCore from\"@grapecity/wijmo\";import*as wjcGrid from\"@grapecity/wijmo.grid\";import*as selfModule from\"@grapecity/wijmo.interop.grid\";export function softInput(){return _getModule(\"wijmo.input\")}export function softGridDetail(){return _getModule(\"wijmo.grid.detail\")}var __gridCFRef=wjcGrid&&wjcGrid.CellFactory;if(!__gridCFRef){window.wijmo.grid={};window.wijmo.grid.CellFactory=function(){}}var DirectiveCellFactoryBase=function(e){__extends(DirectiveCellFactoryBase,e);function DirectiveCellFactoryBase(t){var l=e.call(this)||this;l._lastApplyTimeStamp=0;l._noApplyLag=!1;l._startingEditing=!1;l._cellStampCounter=0;l._composing=!1;l.grid=t;if(!DirectiveCellFactoryBase._templateTypes){DirectiveCellFactoryBase._templateTypes=[];for(var i in GridCellTemplateType)isNaN(i)&&DirectiveCellFactoryBase._templateTypes.push(i)}var r=l;l._baseCf=t.cellFactory;t.cellFactory=l;l._evtInput=document.createEvent(\"HTMLEvents\");l._evtInput.initEvent(\"input\",!0,!1);l._evtBlur=document.createEvent(\"HTMLEvents\");l._evtBlur.initEvent(\"blur\",!1,!1);t.prepareCellForEdit.addHandler((function(e,t){r._noApplyLag=!0}));t.cellEditEnded.addHandler((function(e,l){var i=l.range,o=i.col;(o<0||o<t.columns.length&&!t._getBindingColumn(t.cells,i.row,t.columns[o])[DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType.CellEdit)])&&(r._editChar=null);setTimeout((function(){r._noApplyLag=!1}),300)}));t.beginningEdit.addHandler((function(e,t){r._startingEditing=!0}));t.hostElement.addEventListener(\"keydown\",(function(e){r._startingEditing=!1}),!0);t.hostElement.addEventListener(\"keypress\",(function(e){var l=e.charCode>32?String.fromCharCode(e.charCode):null;if(l&&wjcCore.closest(e.target,\".wj-flexgrid\")===t.hostElement)if(!t.activeEditor||r._startingEditing){r._editChar=l;setTimeout((function(){t.activeEditor||(r._editChar=null)}),0)}else r._editChar&&(r._editChar+=l)}),!0);t.hostElement.addEventListener(\"compositionstart\",(function(e){r._composing=!0}),!0);t.hostElement.addEventListener(\"compositionend\",(function(e){r._composing=!1}),!0);return l}DirectiveCellFactoryBase.prototype.updateCell=function(e,t,l,i,r){var o=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var n=i[DirectiveCellFactoryBase._cellStampProp]=this._cellStampCounter;i.style.overflow&&(i.style.overflow=\"\");var a=t,c=l;if(r&&!r.isSingleCell){t=r.row;l=r.col}var s,d=this,p=e.grid,u=p.editRange,C=e.rows[t],m=C.dataItem,f=!1,v=!1,y=!1,g=!1;switch(e.cellType){case wjcGrid.CellType.Cell:if(u&&u.row===t&&u.col===l){s=GridCellTemplateType.CellEdit;v=y=!0}else if(C instanceof wjcGrid.GroupRow){var _=!((g=m instanceof wjcCore.CollectionViewGroup)||C.hasChildren);if(l==e.columns.firstVisibleIndex)s=_?GridCellTemplateType.Cell:GridCellTemplateType.GroupHeader;else{s=_?GridCellTemplateType.Cell:GridCellTemplateType.Group;v=!0}}else C instanceof wjcGrid._NewRowTemplate?s=GridCellTemplateType.NewCellTemplate:softGridDetail()&&softGridDetail().DetailRow&&C instanceof softGridDetail().DetailRow||(s=GridCellTemplateType.Cell);break;case wjcGrid.CellType.ColumnHeader:s=GridCellTemplateType.ColumnHeader;break;case wjcGrid.CellType.RowHeader:s=p.collectionView&&p.collectionView.currentEditItem===m?GridCellTemplateType.RowHeaderEdit:GridCellTemplateType.RowHeader;f=!0;break;case wjcGrid.CellType.TopLeft:s=GridCellTemplateType.TopLeft;f=!0;break;case wjcGrid.CellType.ColumnFooter:s=GridCellTemplateType.ColumnFooter;v=!0;break;case wjcGrid.CellType.BottomLeft:s=GridCellTemplateType.BottomLeft;f=!0}var w=!1;if(null!=s){var E=g&&s==GridCellTemplateType.GroupHeader?p.getColumn(m.groupDescription.propertyName):l>=0&&l<e.columns.length?p._getBindingColumn(e,t,e.columns[l]):null;if(E){var h=DirectiveCellFactoryBase.getTemplContextProp,T=h(s),F=(f?p:E)[T];if(!F)if(s===GridCellTemplateType.RowHeaderEdit){T=h(s=GridCellTemplateType.RowHeader);F=p[T]}else if((s===GridCellTemplateType.Group||s===GridCellTemplateType.GroupHeader)&&!g){T=h(s=GridCellTemplateType.Cell);F=E[T]}if(F){var D;v&&(D=e.getCellData(t,l,!1));w=!0;var G=i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),j=G&&\"true\"===G.toLowerCase();if(y){this.clearCell(i);this._baseCf.updateCell(e,a,c,i,r,!0)}var B,I=y&&p.imeEnabled,H=I&&this._composing,S=i[T],x={cell:i,column:E,row:C,panel:e,rng:r,isEdit:y,isImeInput:I,isTrueImeInput:H,templateContext:F,templateCache:S,templateContextProperty:T,cellStamp:n,cellValue:D};if(this.shouldInstantiate(x)){if(y){var R=i.firstElementChild;if(R){I||i.focus();R.style.display=\"none\"}}else this.clearCell(i);this._doDisposeCell(i);this.renderTemplate(x,!0);x.templateCache=S=i[T];B=x.cellBindingsData}else{this.renderTemplate(x,!1);B=x.cellBindingsData}F.cellOverflow&&(i.style.overflow=F.cellOverflow);j?this.applyImmediately(x):F.autoSizeRows&&!I?this.checkHeight(x):y&&setTimeout((function(){I?o._initImeEditInput(S,F):o._initEditInput(S,F,null)}),0);if(y){d._cellEditorVars=B.localVars;var editEndingEH=function(e,t){p.cellEditEnding.removeHandler(editEndingEH);if(!t.stayInEditMode){var l=wjcCore.getActiveElement();l&&l.dispatchEvent(d._evtBlur);wjcCore.contains(i,wjcCore.getActiveElement())&&i.focus()}d._triggerEditorEvents(i);if(!t.cancel&&!t.stayInEditMode)for(var r=B.localVars,o=0,n=Object.getOwnPropertyNames(B.bindings);o<n.length;o++){var a=n[o];B.bindings[a].setValue(r,B.localVars.values[a])}var c=i.querySelectorAll(\".wj-dropdown\");[].forEach.call(c,(function(e){var t=wjcCore.Control.getControl(e);t&&softInput()&&t instanceof softInput().DropDown&&(t.isDroppedDown=!1)}))},editEndedEH_1=function(e,t){p.cellEditEnded.removeHandler(editEndedEH_1);d._cellEditorVars=null};p.cellEditEnding.addHandler(editEndingEH);p.cellEditEnded.addHandler(editEndedEH_1)}else this._baseCf.updateCell(e,a,c,i,r,!1)}}}if(!w){this._doDisposeCell(i);this._baseCf.updateCell(e,a,c,i,r)}};DirectiveCellFactoryBase.prototype.getEditorValue=function(t){if(this._cellEditorVars){var l=t.editRange;l&&l.isValid&&this._triggerEditorEvents(t.cells.getCellElement(l.row,l.col));return this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)};DirectiveCellFactoryBase.prototype.disposeCell=function(e){this._doDisposeCell(e)};DirectiveCellFactoryBase.prototype.disposeTemplate=function(e,t,l){if(t){t.rootElement=null;t.column=null;e[t.templateContextProperty]=null;t.templateContextProperty=null}};DirectiveCellFactoryBase.prototype.setBindingsData=function(e,t,l,i,r,o){e.row=t;e.col=l;e.item=i;var n={},a=e.cell||{},c={},s={localVars:a,bindings:c};a.row=t;a.col=l;a.item=i;a.value=r;a.values=n;if(o)for(var d=0,p=Object.getOwnPropertyNames(o);d<p.length;d++){var u=p[d],C=new wjcCore.Binding(o[u]);c[u]=C;n[u]=C.getValue(a)}e.cell!==a&&(e.cell=a);return s};DirectiveCellFactoryBase.prototype.checkHeight=function(e){var t=this;setTimeout((function(){var l=e.cell;if(e.cellStamp===l[DirectiveCellFactoryBase._cellStampProp]){var i=l.scrollHeight,r=e.panel.rows,o=e.row.index,n=e.rng,a=n&&n.rowSpan||1,c=e.isEdit;null!=r.maxSize&&(i=Math.min(i,r.maxSize));if(o<r.length&&r[o].renderHeight*a<i-1){r.defaultSize=i/a;if(c){var s=t._isFullEdit(),d=t.grid;d.refresh();d.startEditing(s);return}}else c&&(e.isImeInput?t._initImeEditInput(e.templateCache,e.templateContext):t._initEditInput(e.templateCache,e.templateContext,null))}}),0)};DirectiveCellFactoryBase.prototype.doDisposeCell=function(e){for(var t=DirectiveCellFactoryBase._templateTypes,l=0;l<t.length;l++){var i=DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType[t[l]]),r=e[i];if(r){var o=(r.column||this.grid)[i];this.disposeTemplate(e,r,o)}}};DirectiveCellFactoryBase.getTemplContextProp=function(e){return\"$__cellTempl\"+GridCellTemplateType[e]};DirectiveCellFactoryBase.prototype._doDisposeCell=function(e){this.doDisposeCell(e)};DirectiveCellFactoryBase.prototype._initEditInput=function(e,t,l){var i=this,r=!1!==this.getEditorFocusFlag();this.setEditorFocusFlag(null);this._setFullEdit(t);if(r){var o=this._findInitialInput(e);if(o){var inpFocusEh=function(){o.removeEventListener(\"focus\",inpFocusEh);setTimeout((function(){setTimeout((function(){var e=null!=l?l:i._editChar;if(e){o.value=e;i._editChar=null;DirectiveCellFactoryBase._setSelectionRange(o,e.length,e.length);o.dispatchEvent(i._evtInput)}}),0)}),DirectiveCellFactoryBase._FOCUS_INTERVAL)};o.addEventListener(\"focus\",inpFocusEh);o.focus()}}};DirectiveCellFactoryBase.prototype._initImeEditInput=function(e,t){var l=this,i=wjcCore.getActiveElement();if(i&&(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement)&&wjcCore.hasClass(i,\"wj-grid-ime\")){var r=this._findInitialInput(e),o=r&&r.style.color,n=this._composing,compEndEh_1=function(){i.removeEventListener(\"compositionend\",compEndEh_1);wjcCore.setCss(i,wjcGrid._ImeHandler._cssHidden);l.setEditorFocusFlag(!0);r&&(r.style.color=o);l._initEditInput(e,t,n?i.value:null)};if(n){i.addEventListener(\"compositionend\",compEndEh_1);if(r){var a=r.getBoundingClientRect(),c=i.getBoundingClientRect(),s=window.getComputedStyle(i),d=parseFloat(s.left),p=parseFloat(s.top);wjcCore.setCss(i,{left:d+a.left-c.left+\"px\",top:p+a.top-c.top+\"px\",width:a.width+\"px\",height:a.height+\"px\"});r.style.color=\"transparent\"}}else setTimeout((function(){return compEndEh_1()}),DirectiveCellFactoryBase._FOCUS_INTERVAL)}};DirectiveCellFactoryBase.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll(\"input,textarea\");if(t)for(var l=0;l<t.length;l++){var i=t[l],r=window.getComputedStyle(i);if(\"none\"!==r.display&&\"visible\"===r.visibility)return i}return null};DirectiveCellFactoryBase._setSelectionRange=function(e,t,l){void 0===l&&(l=t);if(wjcCore.contains(document.body,e)&&!e.disabled&&\"none\"!=e.style.display)try{e.setSelectionRange(wjcCore.asNumber(t),wjcCore.asNumber(l),wjcCore.isIE()?null:\"backward\");e.focus()}catch(e){}};DirectiveCellFactoryBase.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(\".wj-control\"),l=0;l<t.length;l++){var i=t[l],r=wjcCore.Control.getControl(i);r&&this.flushPendingEvents(r)}};DirectiveCellFactoryBase.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit};DirectiveCellFactoryBase.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)};DirectiveCellFactoryBase._cellStampProp=\"__wjCellStamp\";DirectiveCellFactoryBase._FOCUS_INTERVAL=wjcCore.Control._FOCUS_INTERVAL+20;return DirectiveCellFactoryBase}(wjcGrid.CellFactory);export{DirectiveCellFactoryBase};__gridCFRef||(window.wijmo.grid=null);export var GridCellTemplateType;!function(e){e[e.Cell=0]=\"Cell\";e[e.CellEdit=1]=\"CellEdit\";e[e.ColumnHeader=2]=\"ColumnHeader\";e[e.RowHeader=3]=\"RowHeader\";e[e.RowHeaderEdit=4]=\"RowHeaderEdit\";e[e.TopLeft=5]=\"TopLeft\";e[e.GroupHeader=6]=\"GroupHeader\";e[e.Group=7]=\"Group\";e[e.NewCellTemplate=8]=\"NewCellTemplate\";e[e.ColumnFooter=9]=\"ColumnFooter\";e[e.BottomLeft=10]=\"BottomLeft\"}(GridCellTemplateType||(GridCellTemplateType={}));_registerModule(\"wijmo.interop.grid\",selfModule);"]},"metadata":{},"sourceType":"module"}