{"ast":null,"code":"/*!\n    *\n    * Wijmo Library 5.20211.794\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\nvar _a,\n    __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(e, t) {\n    return (_extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var i in t) {\n        t.hasOwnProperty(i) && (e[i] = t[i]);\n      }\n    })(e, t);\n  };\n\n  return function (e, t) {\n    _extendStatics(e, t);\n\n    function __() {\n      this.constructor = e;\n    }\n\n    e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n  };\n}();\n\nimport { isInt, asInt, _addCultureInfo, tryCast, format, Size, CancelEventArgs, asType, asBoolean, isNumber, isString, assert, getActiveElement, closest, Control, ObservableArray, changeType, setAttribute, isIE, isFirefox, setCss, createElement, asNumber, getType, hasClass, toggleClass, removeChild, DateTime, DataType, Point, Rect, Globalize, CollectionView, CollectionViewGroup, NotifyCollectionChangedAction, NotifyCollectionChangedEventArgs, Aggregate, getAggregate, copy, asString, asArray, toHeaderCase, _getModule, Event, _MaskProvider, isArray, asCollectionView, toPlainText, culture, escapeHtml, isBoolean, addClass, contains, setChecked, setAriaLabel, disableAutoComplete, evalTemplate, mouseToPage, SortDescription, isSafari, isIE9, closestClass, removeClass, _startDrag, clamp, Key, setSelectionRange, isDate, isUndefined, showPopup, hidePopup, Clipboard, isiOS, Tooltip, Binding, isFunction, isPrimitive, enable, asFunction, asEnum, setText, getTypes, hasItems, getElementRect, supportsFocusOptions, _deprecated, isIE10, isMobile, _registerModule } from \"@grapecity/wijmo\";\nimport * as mInput from \"@grapecity/wijmo.input\";\nimport * as selfModule from \"@grapecity/wijmo.grid\";\nexport var DataMapEditor;\n!function (e) {\n  e[e.AutoComplete = 0] = \"AutoComplete\";\n  e[e.DropDownList = 1] = \"DropDownList\";\n  e[e.RadioButtons = 2] = \"RadioButtons\";\n}(DataMapEditor || (DataMapEditor = {}));\n\nvar DataMap = function () {\n  function DataMap(e, t, i) {\n    this._keyPath = \"\";\n    this._displayPath = \"\";\n    this._sortByVal = !0;\n    this._editable = !1;\n    this.mapChanged = new Event();\n\n    if (isArray(e) && !t && !i) {\n      e = e.map(function (e) {\n        return {\n          value: e\n        };\n      });\n      t = i = \"value\";\n    }\n\n    this._cv = asCollectionView(e);\n    this._keyPath = asString(t, !1);\n    this._displayPath = asString(i, !1);\n\n    this._cv.collectionChanged.addHandler(this.onMapChanged, this);\n  }\n\n  Object.defineProperty(DataMap.prototype, \"sortByDisplayValues\", {\n    get: function get() {\n      return this._sortByVal;\n    },\n    set: function set(e) {\n      this._sortByVal = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"collectionView\", {\n    get: function get() {\n      return this._cv;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"selectedValuePath\", {\n    get: function get() {\n      return this._keyPath;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"displayMemberPath\", {\n    get: function get() {\n      return this._displayPath;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  DataMap.prototype.getDataItem = function (e) {\n    var t = this;\n\n    if (!this._hash) {\n      var i = this._cv.sourceCollection,\n          o = {};\n      isArray(i) && this._keyPath && i.forEach(function (e) {\n        var i = e[t._keyPath];\n        null == o[i] && (o[i] = e);\n      });\n      this._hash = o;\n    }\n\n    return this._hash[e];\n  };\n\n  DataMap.prototype.getDisplayValue = function (e) {\n    var t = this._displayPath,\n        i = this.getDataItem(e);\n    return t && i ? i[t] : e;\n  };\n\n  DataMap.prototype.getKeyValue = function (e, t) {\n    var i = this._displayPath,\n        o = this._indexOf(e, i, t, !0);\n\n    o < 0 && (o = this._indexOf(e, i, t, !1));\n    return o > -1 ? this._cv.sourceCollection[o][this._keyPath] : null;\n  };\n\n  DataMap.prototype.getDisplayValues = function (e) {\n    var t = this;\n    return this._cv && this._displayPath ? this._cv.items.map(function (e) {\n      return e[t._displayPath];\n    }) : [];\n  };\n\n  DataMap.prototype.getKeyValues = function () {\n    var e = this;\n    return this._cv && this._keyPath ? this._cv.items.map(function (t) {\n      return t[e._keyPath];\n    }) : [];\n  };\n\n  Object.defineProperty(DataMap.prototype, \"isEditable\", {\n    get: function get() {\n      return this._editable;\n    },\n    set: function set(e) {\n      this._editable = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  DataMap.prototype.onMapChanged = function (e) {\n    this._hash = null;\n    this.mapChanged.raise(this, e);\n  };\n\n  DataMap.prototype._indexOf = function (e, t, i, o) {\n    var n = -1,\n        r = -1;\n\n    if (this._cv && t) {\n      var l = null != e ? e.toString() : \"\";\n      l && i && (e = toPlainText(l));\n\n      for (var s = o ? l : l.toLowerCase(), a = this._cv.sourceCollection, d = 0; d < a.length; d++) {\n        var c = a[d],\n            u = c[t];\n        i && isString(u) && (u = toPlainText(u));\n        u == e ? n = d : o || u.length != s.length || u.toLowerCase() != s ? null != u && u.toString() == l && (n = d) : n = d;\n\n        if (n == d) {\n          if (!this._cv.filter || this._cv.filter(c)) return n;\n          r < 0 && (r = n);\n        }\n      }\n    }\n\n    return r;\n  };\n\n  return DataMap;\n}();\n\nexport { DataMap };\n\nvar CellRange = function () {\n  function CellRange(e, t, i, o) {\n    void 0 === e && (e = -1);\n    void 0 === t && (t = -1);\n    void 0 === i && (i = e);\n    void 0 === o && (o = t);\n    this.setRange(e, t, i, o);\n  }\n\n  CellRange.prototype.setRange = function (e, t, i, o) {\n    void 0 === e && (e = -1);\n    void 0 === t && (t = -1);\n    void 0 === i && (i = e);\n    void 0 === o && (o = t);\n    this._row = asInt(e);\n    this._col = asInt(t);\n    this._row2 = asInt(i);\n    this._col2 = asInt(o);\n  };\n\n  Object.defineProperty(CellRange.prototype, \"row\", {\n    get: function get() {\n      return this._row;\n    },\n    set: function set(e) {\n      this._row = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"col\", {\n    get: function get() {\n      return this._col;\n    },\n    set: function set(e) {\n      this._col = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"row2\", {\n    get: function get() {\n      return this._row2;\n    },\n    set: function set(e) {\n      this._row2 = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"col2\", {\n    get: function get() {\n      return this._col2;\n    },\n    set: function set(e) {\n      this._col2 = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRange.prototype.clone = function () {\n    return new CellRange(this._row, this._col, this._row2, this._col2);\n  };\n\n  CellRange.prototype.copy = function (e) {\n    this.setRange(e._row, e._col, e._row2, e._col2);\n  };\n\n  Object.defineProperty(CellRange.prototype, \"rowSpan\", {\n    get: function get() {\n      return Math.abs(this._row2 - this._row) + 1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"columnSpan\", {\n    get: function get() {\n      return Math.abs(this._col2 - this._col) + 1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"topRow\", {\n    get: function get() {\n      return Math.min(this._row, this._row2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"bottomRow\", {\n    get: function get() {\n      return Math.max(this._row, this._row2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"leftCol\", {\n    get: function get() {\n      return Math.min(this._col, this._col2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"rightCol\", {\n    get: function get() {\n      return Math.max(this._col, this._col2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"isValid\", {\n    get: function get() {\n      return this._row > -1 && this._col > -1 && this._row2 > -1 && this._col2 > -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"isSingleCell\", {\n    get: function get() {\n      return this._row == this._row2 && this._col == this._col2;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRange.prototype.contains = function (e, t) {\n    var i = tryCast(e, CellRange);\n    if (i) return i.topRow >= this.topRow && i.bottomRow <= this.bottomRow && i.leftCol >= this.leftCol && i.rightCol <= this.rightCol;\n    if (isInt(e) && isInt(t)) return e >= this.topRow && e <= this.bottomRow && t >= this.leftCol && t <= this.rightCol;\n    throw \"contains expects a CellRange or row/column indices.\";\n  };\n\n  CellRange.prototype.containsRow = function (e) {\n    return asInt(e) >= this.topRow && e <= this.bottomRow;\n  };\n\n  CellRange.prototype.containsColumn = function (e) {\n    return asInt(e) >= this.leftCol && e <= this.rightCol;\n  };\n\n  CellRange.prototype.intersects = function (e) {\n    return this.intersectsRow(e) && this.intersectsColumn(e);\n  };\n\n  CellRange.prototype.intersectsRow = function (e) {\n    return e && !(this.bottomRow < e.topRow || this.topRow > e.bottomRow);\n  };\n\n  CellRange.prototype.intersectsColumn = function (e) {\n    return e && !(this.rightCol < e.leftCol || this.leftCol > e.rightCol);\n  };\n\n  CellRange.prototype.getRenderSize = function (e) {\n    var t = new Size(0, 0);\n\n    if (this.isValid) {\n      for (var i = this.topRow; i <= this.bottomRow; i++) {\n        t.height += e.rows[i].renderSize;\n      }\n\n      for (var o = this.leftCol; o <= this.rightCol; o++) {\n        t.width += e.columns[o].renderSize;\n      }\n    }\n\n    return t;\n  };\n\n  CellRange.prototype.equals = function (e) {\n    return e instanceof CellRange && this._row == e._row && this._col == e._col && this._row2 == e._row2 && this._col2 == e._col2;\n  };\n\n  CellRange.prototype.combine = function (e) {\n    return e ? new CellRange(Math.min(this.topRow, e.topRow), Math.min(this.leftCol, e.leftCol), Math.max(this.bottomRow, e.bottomRow), Math.max(this.rightCol, e.rightCol)) : this;\n  };\n\n  CellRange.prototype.toString = function () {\n    return format(\"({row}, {col})-({row2}, {col2})\", this);\n  };\n\n  return CellRange;\n}();\n\nexport { CellRange };\nexport var CellType;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cell = 1] = \"Cell\";\n  e[e.ColumnHeader = 2] = \"ColumnHeader\";\n  e[e.RowHeader = 3] = \"RowHeader\";\n  e[e.TopLeft = 4] = \"TopLeft\";\n  e[e.ColumnFooter = 5] = \"ColumnFooter\";\n  e[e.BottomLeft = 6] = \"BottomLeft\";\n}(CellType || (CellType = {}));\n\nvar GridPanel = function () {\n  function GridPanel(e, t, i, o, n) {\n    this._offsetY = 0;\n    this._rng = new CellRange();\n    this._g = asType(e, FlexGrid);\n    this._ct = asInt(t);\n    this._rows = asType(i, RowCollection);\n    this._cols = asType(o, ColumnCollection);\n    this._e = asType(n, HTMLElement);\n    this._vrb = new CellRange();\n  }\n\n  Object.defineProperty(GridPanel.prototype, \"grid\", {\n    get: function get() {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"cellType\", {\n    get: function get() {\n      return this._ct;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"viewRange\", {\n    get: function get() {\n      return this._getViewRange();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"width\", {\n    get: function get() {\n      return this._cols.getTotalSize();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"height\", {\n    get: function get() {\n      return this._rows.getTotalSize();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"rows\", {\n    get: function get() {\n      return this._rows;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"columns\", {\n    get: function get() {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GridPanel.prototype.getCellData = function (e, t, i) {\n    var o,\n        n = this._g,\n        r = this._rows[asNumber(e, !1, !0)],\n        l = null;\n\n    if (!r) return null;\n    t = this._toIndex(t);\n    o = this._cols[asNumber(t, !1, !0)];\n    var s = n ? n._getBindingColumn(this, e, o) : o,\n        a = null;\n    r instanceof GroupRow && r.dataItem instanceof CollectionViewGroup && !n.childItemsPath && (a = r.dataItem);\n    s.binding && r.dataItem && !a ? l = s._binding.getValue(r.dataItem) : r._ubv && (l = r._ubv[o._hash]);\n\n    if (null == l) {\n      var d = CellType;\n\n      switch (this._ct) {\n        case d.TopLeft:\n        case d.ColumnHeader:\n          e != this._rows.length - 1 && s == o || (l = s.header);\n          break;\n\n        case d.ColumnFooter:\n          if (r instanceof GroupRow && s.aggregate != Aggregate.None) {\n            var c = this._g.collectionView;\n\n            if (c) {\n              var u = tryCast(c, CollectionView);\n              l = u ? u.getAggregate(s.aggregate, s.binding) : getAggregate(s.aggregate, c.items, s.binding);\n            }\n          }\n\n          break;\n\n        case d.Cell:\n          r instanceof GroupRow && (t == this._cols.firstVisibleIndex ? l = r.getGroupHeader() : a && s.aggregate != Aggregate.None && (l = a.getAggregate(s.aggregate, s.binding, this._g.collectionView)));\n      }\n    }\n\n    if (i) {\n      var h = s.dataMap || r.dataMap;\n      this.cellType == CellType.Cell && h && (l = h.getDisplayValue(l));\n      l = null != l ? Globalize.format(l, s.format || r.format) : \"\";\n    }\n\n    return l;\n  };\n\n  GridPanel.prototype.setCellData = function (e, t, i, o, n) {\n    void 0 === o && (o = !0);\n    void 0 === n && (n = !0);\n\n    var r = this._g,\n        l = this._rows[asNumber(e, !1, !0)],\n        s = this._cols[asNumber(this._toIndex(t), !1, !0)],\n        a = DataType;\n\n    if (!l) return !1;\n    var d = r ? r._getBindingColumn(this, e, s) : s;\n\n    if (this._ct == CellType.Cell) {\n      var c = d.dataMap || l.dataMap,\n          u = d.getIsRequired(l),\n          h = d.isContentHtml || l.isContentHtml;\n\n      if (c && null != i) {\n        var p = c.getKeyValue(i, h);\n\n        if (null == p && null == c.getDisplayValue(null)) {\n          if (c.getDisplayValue(i) != i) ;else if (!c.isEditable || c.displayMemberPath != c.selectedValuePath) {\n            if (\"\" != i || u) return !1;\n            i = null;\n          }\n        } else i = p;\n      }\n\n      var g = a.Object,\n          f = d.dataType || l.dataType,\n          _ = this.getCellData(e, t, !1);\n\n      g = f || getType(_);\n      var m = null == i || \"\" === i && !c;\n\n      if (!u && m) {\n        g != a.String && (i = null);\n        o = !1;\n      } else if (u && m && o) return !1;\n\n      if (o) {\n        var w = d.format || l.format;\n        w || g != a.Date || (w = \"d\");\n        d.mask && isString(i) && g != a.String && (i = i.replace(/_/g, \"\"));\n        i = changeType(i, g, w, _);\n        if (g != a.Object && getType(i) != g) return !1;\n      }\n    }\n\n    if (l.dataItem && d.binding) {\n      var C = d._binding,\n          v = l.dataItem,\n          y = C.getValue(v);\n\n      if (i !== y && !DateTime.equals(i, y)) {\n        var b = r.collectionView,\n            R = b instanceof CollectionView && v != b.currentEditItem && b.trackChanges,\n            E = null;\n        R && (E = b._extend({}, v));\n        C.setValue(v, i);\n\n        if (R) {\n          var x = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change, v, b.items.indexOf(v));\n          b.onCollectionChanged(x);\n\n          b._trackItemChanged(v, E);\n        }\n      }\n    } else {\n      l._ubv || (l._ubv = {});\n      l._ubv[s._hash] = i;\n    }\n\n    n && r && r.invalidate();\n    return !0;\n  };\n\n  GridPanel.prototype.getCellBoundingRect = function (e, t, i) {\n    var o = this._g,\n        n = this.rows[e],\n        r = this.columns[this._toIndex(t)],\n        l = new Rect(r.pos, n.pos, r.renderSize, n.renderSize);\n\n    if (o.rightToLeft) {\n      l.left = this.hostElement.clientWidth - l.right;\n      isIE() || (l.left -= o._root.offsetWidth - o._root.clientWidth);\n    }\n\n    if (!i) {\n      var s = this.hostElement.getBoundingClientRect();\n      l.left += s.left;\n      l.top += s.top - this._offsetY;\n    }\n\n    e < this.rows.frozen && (l.top -= o.scrollPosition.y);\n    t < this.columns.frozen && (l.left -= o.scrollPosition.x * (o.rightToLeft ? -1 : 1));\n    return l;\n  };\n\n  GridPanel.prototype.getCellElement = function (e, t) {\n    var i = this.hostElement.children,\n        o = Math.min(e + 2, i.length);\n    t = this._toIndex(t);\n\n    for (var n = 0; n < o; n++) {\n      for (var r = i[n].children, l = Math.min(t + 2, r.length), s = 0; s < l; s++) {\n        var a = r[s],\n            d = a[GridPanel._INDEX_KEY];\n        if (d && (d.row == e && d.col == t || d.rng && d.rng.contains(e, t))) return a;\n      }\n    }\n\n    return null;\n  };\n\n  GridPanel.prototype.getSelectedState = function (e, t, i) {\n    var o = this._g,\n        n = o.selectionMode,\n        r = o._selHdl.selection,\n        l = SelectionMode,\n        s = SelectedState;\n    if (n == l.None) return s.None;\n    t = this._toIndex(t);\n\n    switch (this._ct) {\n      case CellType.Cell:\n        i || (i = o.getMergedRange(this, e, t));\n\n        if (i) {\n          if (i.contains(r.row, r.col)) return o.showMarquee ? s.Active : s.Cursor;\n          if (i.intersects(r) && n != l.ListBox) return s.Selected;\n\n          for (var a = i.leftCol; a <= i.rightCol; a++) {\n            if (o.columns[a].isSelected) return s.Selected;\n          }\n\n          for (var d = i.topRow; d <= i.bottomRow; d++) {\n            if (o.rows[d].isSelected) return s.Selected;\n          }\n        }\n\n        if (r.row == e && r.col == t) return o.showMarquee ? s.Active : s.Cursor;\n        if (o.rows[e].isSelected || o.columns[t].isSelected) return s.Selected;\n        if (n == l.MultiRange) for (var c = o._selHdl.extendedSelection, u = 0; u < c.length; u++) {\n          if (c[u].contains(e, t) || i && i.intersects(c[u])) return s.Selected;\n        }\n        if (i) switch (n) {\n          case l.Row:\n          case l.RowRange:\n            if (i.containsRow(r.row)) return s.Selected;\n        }\n        return n == l.ListBox ? s.None : (r = this._getAdjustedSelection(r)).containsRow(e) && r.containsColumn(t) ? s.Selected : s.None;\n\n      case CellType.ColumnHeader:\n        if (o.showSelectedHeaders & HeadersVisibility.Column && (o.columns[t].isSelected || r.containsColumn(t) || r.intersectsColumn(i))) {\n          i && (e = i.bottomRow);\n          if (e == this.rows.length - 1) return s.Selected;\n        }\n\n        break;\n\n      case CellType.RowHeader:\n        if (o.showSelectedHeaders & HeadersVisibility.Row && (o.rows[e].isSelected || r.containsRow(e) || r.intersectsRow(i))) {\n          i && (t = i.rightCol);\n          if (t == this.columns.length - 1) return s.Selected;\n        }\n\n    }\n\n    return s.None;\n  };\n\n  Object.defineProperty(GridPanel.prototype, \"hostElement\", {\n    get: function get() {\n      return this._e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GridPanel.prototype._toIndex = function (e) {\n    if (isString(e) && (e = this._cols.indexOf(e)) < 0) throw \"Invalid column name or binding.\";\n    return e;\n  };\n\n  GridPanel.prototype._getAdjustedSelection = function (e) {\n    var t = this._g,\n        i = this._rng,\n        o = SelectionMode;\n\n    switch (t.selectionMode) {\n      case o.Cell:\n        i.setRange(e.row, e.col, e.row, e.col);\n        break;\n\n      case o.Row:\n        i.setRange(e.row, 0, e.row, t.columns.length - 1);\n        break;\n\n      case o.RowRange:\n      case o.ListBox:\n        i.setRange(e.row, 0, e.row2, t.columns.length - 1);\n        break;\n\n      default:\n        i.copy(e);\n    }\n\n    return i;\n  };\n\n  GridPanel.prototype._getOffsetY = function () {\n    return this._offsetY;\n  };\n\n  GridPanel.prototype._updateContent = function (e, t, i) {\n    var o = this._g,\n        n = this._e,\n        r = this._rows,\n        l = this._cols,\n        s = this._ct;\n\n    if (s == CellType.ColumnHeader || s == CellType.ColumnFooter || s == CellType.RowHeader) {\n      var a = o._ptScrl,\n          d = n.style;\n      s == CellType.RowHeader ? d.top = a.y + \"px\" : o.rightToLeft ? d.right = a.x + \"px\" : d.left = a.x + \"px\";\n    }\n\n    if (this._offsetY != i) {\n      e = !1;\n      this._offsetY = i;\n    }\n\n    var c = this._getViewRange(),\n        u = c;\n\n    if (u.isValid) {\n      var h = r.length <= o._vtRows ? r.length : 0,\n          p = l.length <= o._vtCols ? l.length : 0;\n      u = new CellRange(Math.max(c.row - h, r.frozen), Math.max(c.col - p, l.frozen), Math.min(c.row2 + h, r.length - 1), Math.min(c.col2 + p, l.length - 1));\n    }\n\n    if (e && !t && this._vrb.contains(c) && !r.frozen && !l.frozen) return this._activeCell;\n    e && u.equals(this._vrb) || (t = !1);\n    e && !t && this._ct != CellType.TopLeft && this._reorderCells(u, this._vrb);\n    this._activeCell = null;\n    this._vru = c;\n    this._vrb = u;\n    this._recycle = e;\n    var g = 0;\n    this._ct == CellType.Cell && (g = this._renderColHdrRow(u, t));\n\n    for (var f = 0; f < r.frozen && f < r.length; f++) {\n      g = this._renderRow(f, u, t, g);\n    }\n\n    for (f = u.topRow; f <= u.bottomRow && f > -1; f++) {\n      g = this._renderRow(f, u, t, g);\n    }\n\n    for (; n.childElementCount > g;) {\n      var _ = n.lastElementChild;\n      removeChild(_);\n\n      this._removeExtraCells(_, 0);\n    }\n\n    return this._activeCell;\n  };\n\n  GridPanel.prototype._clearCells = function () {\n    for (var e = this.hostElement, t = this._g.cellFactory, i = e.childElementCount - 1; i >= 0; i--) {\n      var o = e.children[i];\n      removeChild(o);\n\n      for (var n = o.childElementCount - 1; n >= 0; n--) {\n        t.disposeCell(o.children[n]);\n      }\n    }\n  };\n\n  GridPanel.prototype._reorderCells = function (e, t) {\n    if (this._g._reorderCells && t.isValid && e.isValid && e.intersects(t)) {\n      if (e.row != t.row) {\n        var i = this._e;\n\n        if (0 != (l = e.row - t.row)) {\n          var o = this._ct == CellType.Cell ? 1 : 0;\n          o += this.rows.frozen;\n          if (l > 0) for (var n = 0; n < l; n++) {\n            removeChild(i.children[o]);\n          } else if (l < 0) {\n            var r = i.children[o];\n\n            for (n = 0; n < -l; n++) {\n              (s = document.createElement(\"div\")).className = \"wj-row\";\n              i.insertBefore(s, r);\n            }\n          }\n        }\n      }\n\n      if (e.col != t.col) {\n        var l;\n        i = this._e;\n\n        if (0 != (l = e.col - t.col)) {\n          o = this._ct == CellType.Cell && this._g.rowHeaderPath ? 1 : 0;\n          o += this.columns.frozen;\n\n          for (n = 0; n < i.children.length; n++) {\n            var s = i.children[n];\n            if (hasClass(s, \"wj-row\")) if (l > 0) for (var a = 0; a < l; a++) {\n              removeChild(s.children[o]);\n            } else if (l < 0) {\n              r = s.children[o];\n\n              for (var d = 0; d < -l; d++) {\n                var c = document.createElement(\"div\");\n                c.className = \"wj-cell\";\n                s.insertBefore(c, r);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  GridPanel.prototype._renderColHdrRow = function (e, t) {\n    if (t) return 1;\n    var i = this._e.children[0];\n    i || (i = createElement('<div class=\"wj-row\" role=\"row\"></div>', this._e));\n    var o = this._g,\n        n = o ? o.columnHeaders.rows.ariaLabel : null;\n    setAttribute(i, \"aria-label\", n);\n    setAttribute(i, \"aria-selected\", null);\n\n    var r = 0,\n        l = this._g._getRowHeaderPath();\n\n    l && (r = this._renderRowHdrCell(i, -1, l.path));\n\n    for (var s = 0; s < this.columns.frozen && s < this.columns.length; s++) {\n      r = this._renderColHdrCell(i, s, e, t, r);\n    }\n\n    for (s = e.leftCol; s <= e.rightCol && s > -1; s++) {\n      r = this._renderColHdrCell(i, s, e, t, r);\n    }\n\n    this._removeExtraCells(i, r);\n\n    return 1;\n  };\n\n  GridPanel.prototype._renderColHdrCell = function (e, t, i, o, n) {\n    var r = this.grid,\n        l = this.columns[t];\n    if (l.renderSize <= 0) return n;\n    if (o) return n + 1;\n    var s = e.children[n];\n    s || (s = createElement(GridPanel._HTML_CELL, e));\n    setAttribute(s, \"role\", \"columnheader\");\n\n    if (s && this._recycle && r._lazyRender) {\n      var a = s[GridPanel._INDEX_KEY];\n      if (a && -1 == a.row && a.col == t && t >= this.columns.frozen) return n + 1;\n    }\n\n    s.textContent = this.columns[t].header;\n    setCss(s, {\n      position: \"fixed\",\n      left: l.pos,\n      top: -32e3,\n      width: l.renderSize,\n      height: .1,\n      overflow: \"hidden\",\n      opacity: \"0\",\n      pointerEvents: \"none\"\n    });\n\n    if (l.describedById || this.columns.describedById) {\n      var d = [l.describedById, this.columns.describedById].join(\" \").trim();\n      setAttribute(s, \"aria-describedby\", d || null);\n    }\n\n    if (r.allowSorting) {\n      var c = \"none\";\n\n      switch (r._getBindingColumn(this, 0, l).currentSort) {\n        case \"+\":\n          c = \"ascending\";\n          break;\n\n        case \"-\":\n          c = \"descending\";\n      }\n\n      setAttribute(s, \"aria-sort\", c);\n    }\n\n    if (!r.isReadOnly) {\n      setAttribute(s, \"aria-readonly\", l.isReadOnly);\n      setAttribute(s, \"aria-required\", l.getIsRequired());\n    }\n\n    s[GridPanel._INDEX_KEY] = {\n      row: -1,\n      col: t,\n      panel: this\n    };\n    return n + 1;\n  };\n\n  GridPanel.prototype._renderRowHdrCell = function (e, t, i) {\n    var o = e.children[0];\n    o || (o = createElement(GridPanel._HTML_CELL, e));\n    o.setAttribute(\"role\", t < 0 ? \"columnheader\" : \"rowheader\");\n    o.textContent = i ? i.toString() : \"\";\n    setCss(o, {\n      position: \"fixed\",\n      left: -32e3,\n      top: -32e3,\n      width: .1,\n      height: .1,\n      overflow: \"hidden\",\n      opacity: \"0\"\n    });\n    o[GridPanel._INDEX_KEY] = {\n      row: t,\n      col: -1,\n      panel: this\n    };\n    return 1;\n  };\n\n  GridPanel.prototype._renderRow = function (e, t, i, o) {\n    var n = this._g,\n        r = this.rows[e];\n    if (r.renderSize <= 0) return o;\n    var l = this._e.children[o];\n    l || (l = createElement('<div class=\"wj-row\"></div>', this._e));\n\n    if (this._ct == CellType.Cell) {\n      l.setAttribute(\"role\", \"row\");\n      var s = SelectionMode,\n          a = r.isSelected;\n\n      switch (n.selectionMode) {\n        case s.Row:\n        case s.RowRange:\n          a = a || this._g._selHdl.selection.containsRow(e);\n      }\n\n      setAttribute(l, \"aria-selected\", !!a || null);\n      setAttribute(l, \"aria-level\", r instanceof GroupRow ? r.level + 1 : null);\n      setAttribute(l, \"aria-expanded\", r instanceof GroupRow ? !r.isCollapsed : null);\n      this.rows.ariaLabel && setAttribute(l, \"aria-label\", this.rows.ariaLabel);\n    }\n\n    var d = 0;\n\n    if (this._ct == CellType.Cell) {\n      var c = this._g._getRowHeaderPath();\n\n      c && (d = this._renderRowHdrCell(l, e, c.getValue(r.dataItem)));\n    }\n\n    for (var u = 0; u < this.columns.frozen && u < this.columns.length; u++) {\n      d = this._renderCell(l, e, u, t, i, d);\n    }\n\n    for (u = t.leftCol; u <= t.rightCol && u > -1; u++) {\n      d = this._renderCell(l, e, u, t, i, d);\n    }\n\n    this._removeExtraCells(l, d);\n\n    return o + 1;\n  };\n\n  GridPanel.prototype._renderCell = function (e, t, i, o, n, r) {\n    var l = this._g,\n        s = l.getMergedRange(this, t, i);\n\n    if (s) {\n      for (var a = Math.max(o.row, s.row); a < t; a++) {\n        if (this.rows[a].renderSize) return r;\n      }\n\n      for (a = Math.max(o.col, s.col); a < i; a++) {\n        if (this.columns[a].renderSize) return r;\n      }\n\n      var d = this.columns.frozen;\n      if (d && s.col < d && s.col2 >= d && i > s.col) return r;\n    }\n\n    var c = this.columns[i];\n    if (c.renderSize <= 0 && (!s || s.getRenderSize(this).width <= 0)) return r;\n    var u = e.children[r];\n\n    if (u && !n && this._recycle && l._lazyRender && !l.activeEditor) {\n      var h = u[GridPanel._INDEX_KEY];\n      h && h.row == t && h.col == i && h.rng == s && t >= this.rows.frozen && i >= this.columns.frozen && (n = !0);\n    }\n\n    var p = SelectedState,\n        g = this.getSelectedState(t, i, s),\n        f = g == p.Cursor || g == p.Active;\n\n    if (u && n) {\n      toggleClass(u, \"wj-state-active\", f);\n      toggleClass(u, \"wj-state-selected\", g == p.Cursor);\n      toggleClass(u, \"wj-state-multi-selected\", g == p.Selected);\n      setAttribute(u, \"aria-selected\", !(!f && g == p.None) || null);\n      f && (this._activeCell = u);\n      return r + 1;\n    }\n\n    u || (u = createElement(GridPanel._HTML_CELL, e));\n    f && (this._activeCell = u);\n\n    if (this._ct == CellType.Cell) {\n      setAttribute(u, \"role\", \"gridcell\");\n      setAttribute(u, \"aria-selected\", !(g == p.None && !f) || null);\n      setAttribute(u, \"aria-readonly\", !l.canEditCell(t, i) || null);\n      setAttribute(u, \"aria-required\", c.getIsRequired());\n    }\n\n    l.cellFactory.updateCell(this, t, i, u, s);\n    u[GridPanel._INDEX_KEY] = {\n      row: t,\n      col: i,\n      rng: s,\n      panel: this\n    };\n    return r + 1;\n  };\n\n  GridPanel.prototype._removeExtraCells = function (e, t) {\n    for (var i = this._g.cellFactory; e.childElementCount > t;) {\n      var o = e.lastElementChild;\n      removeChild(o);\n      i.disposeCell(o);\n    }\n  };\n\n  GridPanel.prototype._getViewRange = function () {\n    var e = this._g,\n        t = e._ptScrl,\n        i = e._szClientSB,\n        o = this._rows,\n        n = this._cols,\n        r = new CellRange(0, 0, o.length - 1, n.length - 1);\n\n    if (this._ct == CellType.Cell || this._ct == CellType.RowHeader) {\n      var l = -t.y + this._offsetY,\n          s = i.height;\n\n      if ((u = Math.min(o.frozen, o.length - 1)) > 0) {\n        l += g = o[u - 1].pos;\n        s -= g;\n      }\n\n      if (u > 0 && o[u].pos > i.height) r.row = r.row2 = -1;else {\n        r.row = Math.min(o.length - 1, Math.max(u, o.getItemAt(l)));\n        r.row2 = Math.max(r.row, o.getItemAt(l + s));\n      }\n      var a = e.hostElement;\n\n      if (e._clipToScreen && a) {\n        var d = a.getBoundingClientRect(),\n            c = -d.top - e.cells._e.offsetTop;\n        d.top < 0 && (r.row = Math.max(r.row, o.getItemAt(c) - 1));\n        d.bottom > innerHeight && (r.row2 = Math.min(r.row2, o.getItemAt(c + innerHeight) + 1));\n      }\n    }\n\n    if (this._ct == CellType.Cell || this._ct == CellType.ColumnHeader) {\n      var u,\n          h = -t.x,\n          p = i.width;\n\n      if ((u = Math.min(n.frozen, n.length - 1)) > 0) {\n        var g;\n        h += g = n[u - 1].pos;\n        p -= g;\n      }\n\n      if (u > 0 && n[u].pos > i.width) r.col = r.col2 = -1;else {\n        r.col = Math.min(n.length - 1, Math.max(u, n.getItemAt(h)));\n        r.col2 = Math.max(r.col, n.getItemAt(h + p));\n      }\n    }\n\n    o.length <= o.frozen && (r.row = r.row2 = -1);\n    n.length <= n.frozen && (r.col = r.col2 = -1);\n    return r;\n  };\n\n  GridPanel.prototype._getFrozenPos = function () {\n    var e = this._rows.frozen,\n        t = this._cols.frozen,\n        i = e > 0 ? this._rows[e - 1] : null,\n        o = t > 0 ? this._cols[t - 1] : null,\n        n = i ? i.pos + i.renderSize : 0,\n        r = o ? o.pos + o.renderSize : 0;\n    return new Point(r, n);\n  };\n\n  GridPanel._INDEX_KEY = \"wj-cell-index\";\n  GridPanel._HTML_CELL = '<div class=\"wj-cell\" tabindex=\"-1\"></div>';\n  return GridPanel;\n}();\n\nexport { GridPanel };\n\nvar CellRangeEventArgs = function (e) {\n  __extends(CellRangeEventArgs, e);\n\n  function CellRangeEventArgs(t, i, o) {\n    var n = e.call(this) || this;\n    n._p = asType(t, GridPanel, !0);\n    n._rng = asType(i, CellRange, !0);\n    n._data = o;\n    return n;\n  }\n\n  Object.defineProperty(CellRangeEventArgs.prototype, \"panel\", {\n    get: function get() {\n      return this._p;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"range\", {\n    get: function get() {\n      return this._rng.clone();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"row\", {\n    get: function get() {\n      return this._rng.row;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"col\", {\n    get: function get() {\n      return this._rng.col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"data\", {\n    get: function get() {\n      return this._data;\n    },\n    set: function set(e) {\n      this._data = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRangeEventArgs.prototype.getRow = function () {\n    return this._p && this.row > -1 ? this._p.rows[this.row] : null;\n  };\n\n  CellRangeEventArgs.prototype.getColumn = function (e) {\n    var t = this._p,\n        i = t && this.col > -1 ? t.columns[this.col] : null;\n    i && e && (i = t.grid._getBindingColumn(t, this.row, i));\n    return i;\n  };\n\n  return CellRangeEventArgs;\n}(CancelEventArgs);\n\nexport { CellRangeEventArgs };\n\nvar FormatItemEventArgs = function (e) {\n  __extends(FormatItemEventArgs, e);\n\n  function FormatItemEventArgs(t, i, o, n) {\n    void 0 === n && (n = !0);\n    var r = e.call(this, t, i) || this;\n    r._updateContent = !0;\n    r._cell = asType(o, HTMLElement);\n    return r;\n  }\n\n  Object.defineProperty(FormatItemEventArgs.prototype, \"cell\", {\n    get: function get() {\n      return this._cell;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FormatItemEventArgs.prototype, \"updateContent\", {\n    get: function get() {\n      return this._updateContent;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return FormatItemEventArgs;\n}(CellRangeEventArgs);\n\nexport { FormatItemEventArgs };\n\nvar CellEditEndingEventArgs = function (e) {\n  __extends(CellEditEndingEventArgs, e);\n\n  function CellEditEndingEventArgs() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    t._stayInEditMode = !1;\n    t._refresh = !0;\n    return t;\n  }\n\n  Object.defineProperty(CellEditEndingEventArgs.prototype, \"stayInEditMode\", {\n    get: function get() {\n      return this._stayInEditMode;\n    },\n    set: function set(e) {\n      this._stayInEditMode = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellEditEndingEventArgs.prototype, \"refresh\", {\n    get: function get() {\n      return this._refresh;\n    },\n    set: function set(e) {\n      this._refresh = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return CellEditEndingEventArgs;\n}(CellRangeEventArgs);\n\nexport { CellEditEndingEventArgs };\nexport var SelectionMode;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cell = 1] = \"Cell\";\n  e[e.CellRange = 2] = \"CellRange\";\n  e[e.Row = 3] = \"Row\";\n  e[e.RowRange = 4] = \"RowRange\";\n  e[e.ListBox = 5] = \"ListBox\";\n  e[e.MultiRange = 6] = \"MultiRange\";\n}(SelectionMode || (SelectionMode = {}));\nexport var SelectedState;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Selected = 1] = \"Selected\";\n  e[e.Cursor = 2] = \"Cursor\";\n  e[e.Active = 3] = \"Active\";\n}(SelectedState || (SelectedState = {}));\nexport var SelMove;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Next = 1] = \"Next\";\n  e[e.Prev = 2] = \"Prev\";\n  e[e.NextPage = 3] = \"NextPage\";\n  e[e.PrevPage = 4] = \"PrevPage\";\n  e[e.Home = 5] = \"Home\";\n  e[e.End = 6] = \"End\";\n  e[e.NextCell = 7] = \"NextCell\";\n  e[e.PrevCell = 8] = \"PrevCell\";\n  e[e.NextEditableCell = 9] = \"NextEditableCell\";\n  e[e.PrevEditableCell = 10] = \"PrevEditableCell\";\n}(SelMove || (SelMove = {}));\n\nvar _SelectionHandler = function () {\n  function _SelectionHandler(e) {\n    this._sel = new CellRange(0, 0);\n    this._xSel = new ObservableArray();\n    this._mode = SelectionMode.CellRange;\n    this._g = e;\n    this._e = new CellRangeEventArgs(e.cells, new CellRange(0, 0));\n\n    this._xSel.collectionChanged.addHandler(function () {\n      e.invalidate();\n    });\n  }\n\n  Object.defineProperty(_SelectionHandler.prototype, \"selectionMode\", {\n    get: function get() {\n      return this._mode;\n    },\n    set: function set(e) {\n      e != this._mode && this._setSelectionMode(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_SelectionHandler.prototype, \"selection\", {\n    get: function get() {\n      return this._sel;\n    },\n    set: function set(e) {\n      this.select(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_SelectionHandler.prototype, \"extendedSelection\", {\n    get: function get() {\n      return this._xSel;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _SelectionHandler.prototype.select = function (e, t, i) {\n    void 0 === t && (t = !0);\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = this._e.range,\n        r = this._sel,\n        l = n,\n        s = !1,\n        a = SelectionMode;\n\n    if (isNumber(e) && isString(t)) {\n      var d = o.columns.indexOf(t);\n      if (d < 0) throw \"Invalid column name or binding.\";\n      n.setRange(e, d);\n      t = !0;\n    } else if (isNumber(e) && isNumber(t)) {\n      n.setRange(e, t);\n      t = !0;\n    } else e instanceof CellRange ? n.copy(e) : assert(!1, \"CellRange expected\");\n\n    switch (o.selectionMode) {\n      case a.Cell:\n        l.row2 = l.row;\n        l.col2 = l.col;\n        break;\n\n      case a.Row:\n        l.row2 = l.row;\n        break;\n\n      case a.ListBox:\n        s = !0;\n    }\n\n    var c = l.equals(r);\n    if (c && s) for (var u = 0; u < o.rows.length; u++) {\n      if (o.rows[u].isSelected !== l.containsRow(u)) {\n        c = !1;\n        break;\n      }\n    }\n\n    if (c && o.isRangeValid(l)) {\n      t && this._showSelection();\n      return !0;\n    }\n\n    var h = Control.getControl(closest(getActiveElement(), \".wj-flexgrid\"));\n    if (h && h.activeEditor && !h.finishEditing()) return !1;\n    var p = this._e;\n    p._rng = l;\n    p.cancel = !1;\n    if (!o.onSelectionChanging(p) && !i) return !1;\n    s && o.rows.forEach(function (e, t) {\n      e._setFlag(RowColFlags.Selected, l.containsRow(t), !0);\n    });\n    l.row = Math.min(l.row, o.rows.length - 1);\n    l.row2 = Math.min(l.row2, o.rows.length - 1);\n\n    this._sel.copy(l);\n\n    o.refreshCells(!1, !0, !0);\n    t && this._showSelection();\n    var g = o.collectionView;\n\n    if (g) {\n      var f = o._getCvIndex(l.row);\n\n      g.moveCurrentToPosition(f);\n    }\n\n    o.onSelectionChanged(p);\n    return !0;\n  };\n\n  _SelectionHandler.prototype.moveSelection = function (e, t, i) {\n    var o = this._g,\n        n = this._sel,\n        r = i && o.anchorCursor ? new CellRange(n.row2, n.col2) : new CellRange(n.row, n.col);\n\n    this._adjustReferenceCell(r, e, t);\n\n    var l = r.row,\n        s = r.col,\n        a = o.rows,\n        d = o.columns,\n        c = Math.max(0, o._szClient.height - o.columnHeaders.height),\n        u = SelMove;\n\n    switch (t) {\n      case u.NextCell:\n      case u.NextEditableCell:\n        if ((s = d.getNextCell(s, t)) == r.col && (l = a.getNextCell(l, t)) > r.row) {\n          s = d.getNextCell(0, t);\n          s = d.getNextCell(s, t == u.NextCell ? u.PrevCell : u.PrevEditableCell);\n        }\n\n        o.select(l, s);\n        break;\n\n      case u.PrevCell:\n      case u.PrevEditableCell:\n        if ((s = d.getNextCell(r.col, t)) == r.col && (l = a.getNextCell(l, t)) < r.row) {\n          s = d.getNextCell(d.length - 1, t);\n          s = d.getNextCell(s, t == u.PrevCell ? u.NextCell : u.NextEditableCell);\n        }\n\n        o.select(l, s);\n        break;\n\n      default:\n        l = a.getNextCell(l, e, c);\n        s = d.getNextCell(s, t, c);\n        i ? o.selection = o.anchorCursor ? new CellRange(n.row, n.col, l, s) : new CellRange(l, s, n.row2, n.col2) : o.select(l, s);\n    }\n  };\n\n  _SelectionHandler.prototype._setSelectionMode = function (e) {\n    var t = this._g,\n        i = t.rows,\n        o = SelectionMode;\n    if (e == o.ListBox || this._mode == o.ListBox) for (var n = 0; n < i.length; n++) {\n      var r = e == o.ListBox && this._sel.containsRow(n);\n\n      i[n]._setFlag(RowColFlags.Selected, r, !0);\n    }\n    this._mode = e;\n\n    this._xSel.clear();\n\n    if (i.length) {\n      r = this._sel;\n      r = e != o.None ? new CellRange(r.row, r.col) : new CellRange();\n      this.select(r, !1, !0);\n      t.invalidate();\n    }\n  };\n\n  _SelectionHandler.prototype._expandSelection = function () {\n    var e = this._g,\n        t = e.selectionMode;\n\n    if (e.expandSelectionOnCopyPaste && t) {\n      var i = this.selection,\n          o = SelectionMode;\n\n      switch (t) {\n        case o.Cell:\n        case o.Row:\n          break;\n\n        case o.ListBox:\n          this._expandSelectedRows();\n\n          break;\n\n        case o.RowRange:\n          i = new CellRange(i.topRow, 0, i.bottomRow, e.columns.length - 1);\n\n        default:\n          var n = this._expandSelectionRange(i);\n\n          n && this.select(n, !1);\n      }\n    }\n  };\n\n  _SelectionHandler.prototype._deselectRange = function (e) {\n    var t = this.selection,\n        i = this.extendedSelection;\n\n    if (t.contains(e)) {\n      var o = i.length;\n      this._sel = o ? i[o - 1] : new CellRange();\n      o && i.removeAt(o - 1);\n      return !0;\n    }\n\n    for (var n = 0; n < i.length; n++) {\n      if (i[n].contains(e)) {\n        i.removeAt(n);\n        return !0;\n      }\n    }\n\n    return !1;\n  };\n\n  _SelectionHandler.prototype._expandSelectedRows = function () {\n    assert(this.selectionMode == SelectionMode.ListBox, \"ListBox mode expected\");\n\n    for (var e = this._g, t = e.selectedRows.map(function (e) {\n      return e.index;\n    }), i = [], o = 0; o < t.length; o++) {\n      for (var n = new CellRange(t[o], 0, t[o], e.columns.length - 1), r = this._expandSelectionRange(n) || n, l = r.topRow; l <= r.bottomRow; l++) {\n        -1 === i.indexOf(l) && i.push(l);\n      }\n    }\n\n    i.sort();\n\n    this._selectRows(i);\n  };\n\n  _SelectionHandler.prototype._expandSelectionRange = function (e) {\n    var t = this._g,\n        i = t.cells,\n        o = t.getMergedRange(i, e.topRow, e.leftCol, !1),\n        n = t.getMergedRange(i, e.bottomRow, e.leftCol, !1),\n        r = t.getMergedRange(i, e.topRow, e.rightCol, !1),\n        l = t.getMergedRange(i, e.bottomRow, e.rightCol, !1);\n\n    if (o || n || r || l) {\n      o = o || new CellRange(e.topRow, e.leftCol);\n      n = n || new CellRange(e.bottomRow, e.leftCol);\n      r = r || new CellRange(e.topRow, e.rightCol);\n      l = l || new CellRange(e.bottomRow, e.rightCol);\n      return new CellRange(Math.min(o.topRow, n.topRow, r.topRow, l.topRow), Math.min(o.leftCol, n.leftCol, r.leftCol, l.leftCol), Math.max(o.bottomRow, n.bottomRow, r.bottomRow, l.bottomRow), Math.max(o.rightCol, n.rightCol, r.rightCol, l.rightCol));\n    }\n\n    return null;\n  };\n\n  _SelectionHandler.prototype._selectRows = function (e) {\n    assert(this.selectionMode == SelectionMode.ListBox, \"ListBox mode expected\");\n\n    for (var t = this._g, i = 0, o = !0; i < t.rows.length; i++) {\n      var n = t.rows[i],\n          r = e && e.indexOf(n.index) > -1;\n\n      if (r && o) {\n        o = !1;\n        this.select(i, this.selection.col);\n      }\n\n      n.isSelected = r;\n    }\n  };\n\n  _SelectionHandler.prototype._showSelection = function () {\n    var e = this._g,\n        t = this._sel;\n    e.anchorCursor ? e.scrollIntoView(t.row2, t.col2) : e.scrollIntoView(t.row, t.col);\n  };\n\n  _SelectionHandler.prototype._adjustReferenceCell = function (e, t, i) {\n    var o = this._g,\n        n = o.getMergedRange(o.cells, e.row, e.col);\n\n    if (n && !n.isSingleCell) {\n      var r = SelMove;\n\n      switch (t) {\n        case r.Next:\n        case r.NextCell:\n        case r.NextEditableCell:\n          e.row = n.bottomRow;\n          break;\n\n        case r.Prev:\n        case r.PrevCell:\n        case r.PrevEditableCell:\n          e.row = n.topRow;\n      }\n\n      switch (i) {\n        case r.Next:\n        case r.NextCell:\n        case r.NextEditableCell:\n          e.col = n.rightCol;\n          break;\n\n        case r.Prev:\n        case r.PrevCell:\n        case r.PrevEditableCell:\n          e.col = n.leftCol;\n      }\n    }\n  };\n\n  return _SelectionHandler;\n}();\n\nexport { _SelectionHandler };\nexport var RowColFlags;\n!function (e) {\n  e[e.Visible = 1] = \"Visible\";\n  e[e.AllowResizing = 2] = \"AllowResizing\";\n  e[e.AllowDragging = 4] = \"AllowDragging\";\n  e[e.AllowMerging = 8] = \"AllowMerging\";\n  e[e.AllowSorting = 16] = \"AllowSorting\";\n  e[e.AutoGenerated = 32] = \"AutoGenerated\";\n  e[e.Collapsed = 64] = \"Collapsed\";\n  e[e.ParentCollapsed = 128] = \"ParentCollapsed\";\n  e[e.Selected = 256] = \"Selected\";\n  e[e.ReadOnly = 512] = \"ReadOnly\";\n  e[e.HtmlContent = 1024] = \"HtmlContent\";\n  e[e.WordWrap = 2048] = \"WordWrap\";\n  e[e.MultiLine = 4096] = \"MultiLine\";\n  e[e.HasTemplate = 8192] = \"HasTemplate\";\n  e[e.RowDefault = 3] = \"RowDefault\";\n  e[e.ColumnDefault = 23] = \"ColumnDefault\";\n}(RowColFlags || (RowColFlags = {}));\n\nvar RowCol = function () {\n  function RowCol() {\n    this._type = null;\n    this._align = null;\n    this._inpType = null;\n    this._mask = null;\n    this._maxLen = null;\n    this._required = null;\n    this._fmt = null;\n    this._map = null;\n    this._ddCssClass = null;\n    this._cssClass = null;\n    this._cssClassAll = null;\n    this._szMin = null;\n    this._szMax = null;\n    this._sz = null;\n    this._pos = 0;\n    this._idx = -1;\n    this._idxVis = -1;\n    this._idxData = -1;\n    this.gridChanged = new Event();\n  }\n\n  Object.defineProperty(RowCol.prototype, \"binding\", {\n    get: function get() {\n      return this._binding ? this._binding.path : null;\n    },\n    set: function set(e) {\n      if (e != this.binding) {\n        var t = asString(e);\n        this._binding = t ? new Binding(t) : null;\n\n        if (!this._type && this.grid && this._binding) {\n          var i = this.grid.collectionView;\n\n          if (i && i.sourceCollection && i.sourceCollection.length) {\n            var o = i.sourceCollection[0];\n            this._type = getType(this._binding.getValue(o));\n          }\n        }\n\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"sortMemberPath\", {\n    get: function get() {\n      return this._bindingSort ? this._bindingSort.path : null;\n    },\n    set: function set(e) {\n      if (e != this.sortMemberPath) {\n        var t = asString(e);\n        this._bindingSort = t ? new Binding(t) : null;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataType\", {\n    get: function get() {\n      return this._type;\n    },\n    set: function set(e) {\n      e = asEnum(e, DataType, !0);\n\n      if (this._type != e) {\n        this._type = e;\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"inputType\", {\n    get: function get() {\n      return this._inpType;\n    },\n    set: function set(e) {\n      this._inpType = asString(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"mask\", {\n    get: function get() {\n      return this._mask;\n    },\n    set: function set(e) {\n      this._mask = asString(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"maxLength\", {\n    get: function get() {\n      return this._maxLen;\n    },\n    set: function set(e) {\n      this._maxLen = asNumber(e, !0, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"align\", {\n    get: function get() {\n      return this._align;\n    },\n    set: function set(e) {\n      if (this._align != e) {\n        this._align = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"format\", {\n    get: function get() {\n      return this._fmt;\n    },\n    set: function set(e) {\n      if (this._fmt != e) {\n        this._fmt = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataMap\", {\n    get: function get() {\n      return this._map;\n    },\n    set: function set(e) {\n      if (this._map != e) {\n        this._map && this._map.mapChanged.removeHandler(this.onPropertyChanged, this);\n        isArray(e) && (e = new DataMap(e, null, null));\n        this._map = asType(e, DataMap, !0);\n        this._map && this._map.mapChanged.addHandler(this.onPropertyChanged, this);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataMapEditor\", {\n    get: function get() {\n      return null != this._mapEditor ? this._mapEditor : DataMapEditor.DropDownList;\n    },\n    set: function set(e) {\n      if (e != this._mapEditor) {\n        this._mapEditor = asEnum(e, DataMapEditor);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"showDropDown\", {\n    get: function get() {\n      return this.dataMapEditor == DataMapEditor.DropDownList;\n    },\n    set: function set(e) {\n      _deprecated(\"showDropDown\", \"dataMapEditor\");\n\n      this.dataMapEditor = e ? DataMapEditor.DropDownList : DataMapEditor.AutoComplete;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dropDownCssClass\", {\n    get: function get() {\n      return this._ddCssClass;\n    },\n    set: function set(e) {\n      this._ddCssClass = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"visible\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.Visible);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.Visible, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isVisible\", {\n    get: function get() {\n      return !!this._getFlag(RowColFlags.Visible) && (!this._getFlag(RowColFlags.ParentCollapsed) || this instanceof _NewRowTemplate);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"pos\", {\n    get: function get() {\n      this._list && this._list._dirty && this._list._update();\n      return this._pos;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"index\", {\n    get: function get() {\n      this._list && this._list._dirty && this._list._update();\n      return this._idx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"visibleIndex\", {\n    get: function get() {\n      this._list && this._list._dirty && this._list._update();\n      return this.isVisible ? this._idxVis : -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"size\", {\n    get: function get() {\n      return this._sz;\n    },\n    set: function set(e) {\n      if (e != this._sz) {\n        this._sz = asNumber(e, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"renderSize\", {\n    get: function get() {\n      var e = 0,\n          t = this._list;\n\n      if (this.isVisible) {\n        (null == (e = this._sz) || e < 0) && (e = t ? t.defaultSize : 0);\n        t && null != t.minSize && e < t.minSize && (e = t.minSize);\n        t && null != t.maxSize && e > t.maxSize && (e = t.maxSize);\n        null != this._szMin && e < this._szMin && (e = this._szMin);\n        null != this._szMax && e > this._szMax && (e = this._szMax);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowResizing\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.AllowResizing);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.AllowResizing, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowDragging\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.AllowDragging);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.AllowDragging, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowMerging\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.AllowMerging);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.AllowMerging, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isSelected\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.Selected);\n    },\n    set: function set(e) {\n      if (!!e != this.isSelected) {\n        var t = this.grid;\n\n        if (t) {\n          var i = this instanceof Row ? new CellRange(this.index, -1) : new CellRange(-1, this.index),\n              o = new CellRangeEventArgs(t ? t.cells : null, i);\n\n          if (t.onSelectionChanging(o) && this._setFlag(RowColFlags.Selected, e, !0)) {\n            t.refreshCells(!1, !0, !0);\n            t.onSelectionChanged(o);\n          }\n        } else this._setFlag(RowColFlags.Selected, e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isReadOnly\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.ReadOnly);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.ReadOnly, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isRequired\", {\n    get: function get() {\n      return this._required;\n    },\n    set: function set(e) {\n      this._required = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isContentHtml\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.HtmlContent);\n    },\n    set: function set(e) {\n      if (this.isContentHtml != e) {\n        this._setFlag(RowColFlags.HtmlContent, e);\n\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"wordWrap\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.WordWrap);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.WordWrap, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"multiLine\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.MultiLine);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.MultiLine, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"cssClass\", {\n    get: function get() {\n      return this._cssClass;\n    },\n    set: function set(e) {\n      if (e != this._cssClass) {\n        this._cssClass = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"cssClassAll\", {\n    get: function get() {\n      return this._cssClassAll;\n    },\n    set: function set(e) {\n      if (e != this._cssClassAll) {\n        this._cssClassAll = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"grid\", {\n    get: function get() {\n      return this._list ? this._list._g : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"collectionView\", {\n    get: function get() {\n      return this.grid ? this.grid.collectionView : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowCol.prototype.onPropertyChanged = function () {\n    if (this._list) {\n      this._list._dirty = !0;\n      this.grid.invalidate();\n    }\n  };\n\n  RowCol.prototype.onGridChanged = function (e) {\n    this.gridChanged.raise(this, e);\n  };\n\n  RowCol.prototype._setList = function (e) {\n    if (e != this._list) {\n      this._list = e;\n      this.onGridChanged();\n    }\n  };\n\n  RowCol.prototype._getFlag = function (e) {\n    return 0 != (this._f & e);\n  };\n\n  RowCol.prototype._setFlag = function (e, t, i) {\n    if (!!t != this._getFlag(e)) {\n      this._f = t ? this._f | e : this._f & ~e;\n      i || this.onPropertyChanged();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowCol;\n}();\n\nexport { RowCol };\n\nvar Column = function (e) {\n  __extends(Column, e);\n\n  function Column(t) {\n    var i = e.call(this) || this;\n    i._hdr = null;\n    i._name = null;\n    i._agg = null;\n    i._quickSize = null;\n    i._descById = null;\n    i._tpl = null;\n    i._f = RowColFlags.ColumnDefault;\n    i._hash = Column._ctr.toString(36);\n    Column._ctr++;\n    copy(i, t);\n    return i;\n  }\n\n  Object.defineProperty(Column.prototype, \"name\", {\n    get: function get() {\n      return this._name;\n    },\n    set: function set(e) {\n      this._name = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"width\", {\n    get: function get() {\n      return null != this._szStar ? this._szStar : this.size;\n    },\n    set: function set(e) {\n      if (null != Column._parseStarSize(e)) {\n        this._szStar = e;\n        this.onPropertyChanged();\n      } else {\n        this._szStar = null;\n        this.size = asNumber(e, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"minWidth\", {\n    get: function get() {\n      return this._szMin;\n    },\n    set: function set(e) {\n      if (e != this._szMin) {\n        this._szMin = asNumber(e, !0, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"maxWidth\", {\n    get: function get() {\n      return this._szMax;\n    },\n    set: function set(e) {\n      if (e != this._szMax) {\n        this._szMax = asNumber(e, !0, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"quickAutoSize\", {\n    get: function get() {\n      return this._quickSize;\n    },\n    set: function set(e) {\n      this._quickSize = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Column.prototype._getQuickAutoSize = function () {\n    return !!this.grid._getQuickAutoSize() && (isBoolean(this._quickSize) ? this._quickSize : !(this.isContentHtml || this.wordWrap || this.multiLine || this._getFlag(RowColFlags.HasTemplate)));\n  };\n\n  Object.defineProperty(Column.prototype, \"renderWidth\", {\n    get: function get() {\n      return this.renderSize;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"header\", {\n    get: function get() {\n      return this._hdr ? this._hdr : this.binding;\n    },\n    set: function set(e) {\n      if (this._hdr != e) {\n        this._hdr = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"cellTemplate\", {\n    get: function get() {\n      return this._tpl;\n    },\n    set: function set(e) {\n      if (e != this._tpl) {\n        assert(null == e || isString(e) || isFunction(e), \"cellTemplate should be a string or an ICellTemplateFunction.\");\n        this._tpl = e;\n\n        this._setFlag(RowColFlags.HasTemplate, null != e && \"\" != e);\n\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"editor\", {\n    get: function get() {\n      var e = this._edt;\n      return e ? e.control : null;\n    },\n    set: function set(e) {\n      if (e != this.editor) {\n        if (this._edt) {\n          this._edt.dispose();\n\n          this._edt = null;\n        }\n\n        if (null != e) {\n          e = asType(e, Control);\n          this._edt = new _CustomEditor(this, e);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"allowSorting\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.AllowSorting);\n    },\n    set: function set(e) {\n      this._setFlag(RowColFlags.AllowSorting, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"currentSort\", {\n    get: function get() {\n      var e = this.currentSortIndex;\n\n      if (e > -1) {\n        return this.grid.collectionView.sortDescriptions[e].ascending ? \"+\" : \"-\";\n      }\n\n      return null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"currentSortIndex\", {\n    get: function get() {\n      var e = this.grid ? this.grid.collectionView : null,\n          t = e ? e.sortDescriptions : null,\n          i = t && t.length ? this._getBindingSort() : null;\n      if (i) for (var o = 0; o < t.length; o++) {\n        if (t[o].property == i) return o;\n      }\n      return -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"aggregate\", {\n    get: function get() {\n      return null != this._agg ? this._agg : Aggregate.None;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, Aggregate)) != this._agg) {\n        this._agg = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"describedById\", {\n    get: function get() {\n      return this._descById;\n    },\n    set: function set(e) {\n      if (e != this._descById) {\n        this._descById = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Column.prototype.getIsRequired = function (e) {\n    return null != this._required ? this._required : e && null != e.isRequired ? e.isRequired : this.dataType == DataType.String ? null != this.dataMap || null != this._mask && this._mask.length > 0 : !e || e.dataType != DataType.String || null != e.dataMap || null != e.mask && e.mask.length > 0;\n  };\n\n  Column.prototype.getAlignment = function (e) {\n    if (null != this._align) return this._align;\n    if (e && null != e.align) return e.align;\n    if (!this._map) switch (this.dataType) {\n      case DataType.Boolean:\n        return \"center\";\n\n      case DataType.Number:\n        return \"right\";\n    }\n    if (e && !e.dataMap) switch (e.dataType) {\n      case DataType.Boolean:\n        return \"center\";\n\n      case DataType.Number:\n        return \"right\";\n    }\n    return \"\";\n  };\n\n  Column.prototype._getBindingSort = function () {\n    return this.sortMemberPath ? this.sortMemberPath : this.binding ? this.binding : null;\n  };\n\n  Column._parseStarSize = function (e) {\n    if (isString(e)) {\n      var t = e.length;\n\n      if (t > 0 && \"*\" == e[t - 1]) {\n        var i = 1 == t ? 1 : parseFloat(e);\n        if (i > 0 && !isNaN(i)) return i;\n      }\n    }\n\n    return null;\n  };\n\n  Column._ctr = 0;\n  return Column;\n}(RowCol);\n\nexport { Column };\n\nvar Row = function (e) {\n  __extends(Row, e);\n\n  function Row(t) {\n    var i = e.call(this) || this;\n    i._f = RowColFlags.ColumnDefault;\n    i._data = t || null;\n    return i;\n  }\n\n  Object.defineProperty(Row.prototype, \"dataItem\", {\n    get: function get() {\n      return this._data;\n    },\n    set: function set(e) {\n      this._data = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"dataIndex\", {\n    get: function get() {\n      this._list && this._list._dirty && this._list._update();\n      return this._idxData;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"height\", {\n    get: function get() {\n      return this.size;\n    },\n    set: function set(e) {\n      this.size = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"renderHeight\", {\n    get: function get() {\n      return this.renderSize;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return Row;\n}(RowCol);\n\nexport { Row };\n\nvar GroupRow = function (e) {\n  __extends(GroupRow, e);\n\n  function GroupRow(t) {\n    var i = e.call(this, t) || this;\n    i._level = -1;\n    i.level = t instanceof CollectionViewGroup ? t.level : -1;\n    i.isReadOnly = !0;\n    return i;\n  }\n\n  Object.defineProperty(GroupRow.prototype, \"level\", {\n    get: function get() {\n      return this._level;\n    },\n    set: function set(e) {\n      asInt(e);\n\n      if (e != this._level) {\n        this._level = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GroupRow.prototype, \"hasChildren\", {\n    get: function get() {\n      if (null != this.grid && null != this._list) {\n        this._list._update();\n\n        var e = this.index < this._list.length - 1 ? this._list[this.index + 1] : null,\n            t = tryCast(e, GroupRow),\n            i = tryCast(e, _NewRowTemplate);\n        return null != e && null == i && (null == t || t.level > this.level);\n      }\n\n      return !0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GroupRow.prototype, \"isCollapsed\", {\n    get: function get() {\n      return this._getFlag(RowColFlags.Collapsed);\n    },\n    set: function set(e) {\n      !!e != this.isCollapsed && null != this._list && this._setCollapsed(asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GroupRow.prototype.getGroupHeader = function () {\n    var e = this.grid,\n        t = e.groupHeaderFormat || culture.FlexGrid.groupHeaderFormat,\n        i = this.dataItem;\n\n    if (i instanceof CollectionViewGroup && t && e.showGroups && !e.childItemsPath) {\n      var o = i.groupDescription.propertyName,\n          n = i.name,\n          r = e.getColumn(o),\n          l = this.isContentHtml;\n\n      if (r) {\n        l = l || r.isContentHtml;\n        r.header && (o = r.header);\n        var s = r.dataMap;\n        s && (n = s.getDisplayValue(n));\n        r.dataType == getType(n) && (n = Globalize.format(n, r.format));\n      } else o = toHeaderCase(o);\n\n      var a = i.getAggregate(Aggregate.CntAll, null, e.collectionView);\n      return format(t, {\n        name: escapeHtml(o),\n        value: l ? n : escapeHtml(n),\n        level: i.level,\n        count: a\n      });\n    }\n\n    return \"\";\n  };\n\n  GroupRow.prototype._setCollapsed = function (e) {\n    var t = this,\n        i = this.grid,\n        o = i.rows,\n        n = this.getCellRange(),\n        r = new CellRangeEventArgs(i.cells, new CellRange(this.index, -1));\n\n    if (i.onGroupCollapsedChanging(r)) {\n      i.deferUpdate(function () {\n        o.deferUpdate(function () {\n          t._setFlag(RowColFlags.Collapsed, e, !0);\n\n          for (var i = n.topRow + 1; i <= n.bottomRow && i > -1 && i < o.length; i++) {\n            o[i]._setFlag(RowColFlags.ParentCollapsed, e, !0);\n\n            var r = o[i];\n            r instanceof GroupRow && r.isCollapsed && (i = r.getCellRange().bottomRow);\n          }\n        });\n      });\n      i.onGroupCollapsedChanged(r);\n    }\n  };\n\n  GroupRow.prototype.getCellRange = function () {\n    for (var e = this._list, t = this.index, i = e.length - 1, o = t + 1; o <= i; o++) {\n      var n = e[o];\n\n      if (n instanceof GroupRow && n.level <= this.level) {\n        i = o - 1;\n        break;\n      }\n    }\n\n    return new CellRange(t, 0, i, this.grid.columns.length - 1);\n  };\n\n  return GroupRow;\n}(Row);\n\nexport { GroupRow };\n\nvar RowColCollection = function (e) {\n  __extends(RowColCollection, e);\n\n  function RowColCollection(t, i) {\n    var o = e.call(this) || this;\n    o._frozen = 0;\n    o._lastFrozen = -1;\n    o._firstVisible = -1;\n    o._vlen = 0;\n    o._szDef = 28;\n    o._szTot = 0;\n    o._szCustom = !1;\n    o._dirty = !1;\n    o._g = asType(t, FlexGrid);\n    o._szDef = asNumber(i, !1, !0);\n    return o;\n  }\n\n  Object.defineProperty(RowColCollection.prototype, \"grid\", {\n    get: function get() {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"defaultSize\", {\n    get: function get() {\n      return this._szDef;\n    },\n    set: function set(e) {\n      this._szCustom = !0;\n\n      if (this._szDef != e) {\n        this._szDef = asNumber(e, !1, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"frozen\", {\n    get: function get() {\n      return this._frozen;\n    },\n    set: function set(e) {\n      if (e != this._frozen) {\n        this._frozen = asNumber(e, !1, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.isFrozen = function (e) {\n    return e < this.frozen;\n  };\n\n  Object.defineProperty(RowColCollection.prototype, \"minSize\", {\n    get: function get() {\n      return this._szMin;\n    },\n    set: function set(e) {\n      if (e != this._szMin) {\n        this._szMin = asNumber(e, !0, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"maxSize\", {\n    get: function get() {\n      return this._szMax;\n    },\n    set: function set(e) {\n      if (e != this._szMax) {\n        this._szMax = asNumber(e, !0, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.getTotalSize = function () {\n    this._dirty && this._update();\n    return this._szTot;\n  };\n\n  Object.defineProperty(RowColCollection.prototype, \"visibleLength\", {\n    get: function get() {\n      this._dirty && this._update();\n      return this._vlen;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.getItemAt = function (e) {\n    this._dirty && this._update();\n    if (e <= 0 && this.length > 0 && this[0].renderSize) return 0;\n\n    for (var t, i, o = this.length, n = 0, r = o - 1; n <= r;) {\n      if ((i = this[t = n + r >>> 1])._pos >= e && t > 0) r = t - 1;else {\n        if (!(i._pos + i.renderSize <= e && t < o - 1)) {\n          for (; t > 0 && !this[t].renderSize;) {\n            t--;\n          }\n\n          for (; t < o - 1 && !this[t].renderSize;) {\n            t++;\n          }\n\n          return t;\n        }\n\n        n = t + 1;\n      }\n    }\n\n    return r;\n  };\n\n  RowColCollection.prototype.getNextCell = function (e, t, i) {\n    void 0 === i && (i = 0);\n    var o,\n        n = SelMove;\n\n    switch (t) {\n      case n.Next:\n      case n.NextCell:\n        for (o = e + 1; o < this.length; o++) {\n          if (this[o].renderSize > 0) return o;\n        }\n\n        break;\n\n      case n.NextEditableCell:\n        for (o = e + 1; o < this.length; o++) {\n          if (this[o].renderSize > 0 && !this[o].isReadOnly) return o;\n        }\n\n        break;\n\n      case n.Prev:\n      case n.PrevCell:\n        for (o = e - 1; o >= 0; o--) {\n          if (this[o].renderSize > 0) return o;\n        }\n\n        break;\n\n      case n.PrevEditableCell:\n        for (o = e - 1; o >= 0; o--) {\n          if (this[o].renderSize > 0 && !this[o].isReadOnly) return o;\n        }\n\n        break;\n\n      case n.End:\n        for (o = this.length - 1; o >= 0; o--) {\n          if (this[o].renderSize > 0) return o;\n        }\n\n        break;\n\n      case n.Home:\n        for (o = 0; o < this.length; o++) {\n          if (this[o].renderSize > 0) return o;\n        }\n\n        break;\n\n      case n.NextPage:\n        return (o = this.getItemAt(this[e].pos + this[e].renderSize + i)) < 0 ? this.getNextCell(e, SelMove.End, i) : o == e && o < this.length - 1 && this[o + 1].renderSize ? o + 1 : o;\n\n      case n.PrevPage:\n        return (o = this.getItemAt(this[e].pos - i)) < 0 ? this.getNextCell(e, SelMove.Home, i) : o == e && o > 0 && this[o - 1].renderSize ? o - 1 : o;\n    }\n\n    return e;\n  };\n\n  RowColCollection.prototype.canMoveElement = function (e, t, i) {\n    void 0 === i && (i = !0);\n    if (t == e) return !1;\n    if (e < 0 || e >= this.length || t >= this.length) return !1;\n\n    if (i) {\n      t < 0 && (t = this.length - 1);\n\n      for (var o = Math.min(e, t), n = Math.max(e, t), r = o; r <= n; r++) {\n        if (!this[r].allowDragging) return !1;\n      }\n    }\n\n    return !(this[t] instanceof _NewRowTemplate);\n  };\n\n  RowColCollection.prototype.moveElement = function (e, t, i) {\n    void 0 === i && (i = !0);\n\n    if (this.canMoveElement(e, t, i)) {\n      var o = this[e];\n      this.removeAt(e);\n      t < 0 && (t = this.length);\n      this.insert(t, o);\n\n      if (i) {\n        var n = this.frozen;\n        e < n && t >= n ? this.frozen-- : e >= n && t < n && this.frozen++;\n      }\n\n      return !0;\n    }\n\n    return !1;\n  };\n\n  RowColCollection.prototype.onCollectionChanged = function (t) {\n    void 0 === t && (t = NotifyCollectionChangedEventArgs.reset);\n    this._dirty = !0;\n\n    this._g.invalidate();\n\n    e.prototype.onCollectionChanged.call(this, t);\n  };\n\n  RowColCollection.prototype.push = function (t) {\n    t._setList(this);\n\n    return e.prototype.push.call(this, t);\n  };\n\n  RowColCollection.prototype.splice = function (t, i) {\n    for (var o = this, n = [], r = 2; r < arguments.length; r++) {\n      n[r - 2] = arguments[r];\n    }\n\n    for (var l = t; l < t + i && l < this.length; l++) {\n      var s = this[l];\n      s instanceof RowCol && s._setList(null);\n    }\n\n    n.forEach(function (e) {\n      return e._setList(o);\n    });\n    return e.prototype.splice.apply(this, [t, i].concat(n));\n  };\n\n  RowColCollection.prototype.beginUpdate = function () {\n    this._update();\n\n    e.prototype.beginUpdate.call(this);\n  };\n\n  RowColCollection.prototype._setDefaultSize = function (e) {\n    if (!this._szCustom) {\n      this.defaultSize = e;\n      this._szCustom = !1;\n    }\n  };\n\n  RowColCollection.prototype._update = function () {\n    if (this._dirty && !this.isUpdating) {\n      this._dirty = !1;\n      this._lastFrozen = -1;\n      this._firstVisible = -1;\n\n      for (var e = 0, t = 0, i = void 0, o = void 0, n = 0; n < this.length; n++) {\n        (o = this[n])._idx = n;\n        o._idxVis = e;\n        o._pos = t;\n\n        o._setList(this);\n\n        if ((i = o.renderSize) > 0) {\n          t += i;\n          e++;\n          n < this._frozen && (this._lastFrozen = n);\n        }\n\n        this._firstVisible < 0 && o.visible && (this._firstVisible = n);\n      }\n\n      this._vlen = e;\n      this._szTot = t;\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowColCollection;\n}(ObservableArray);\n\nexport { RowColCollection };\n\nvar ColumnCollection = function (e) {\n  __extends(ColumnCollection, e);\n\n  function ColumnCollection() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  ColumnCollection.prototype.getColumn = function (e) {\n    var t = isNumber(e) ? e : this.indexOf(e);\n    return t > -1 ? this[t] : null;\n  };\n\n  ColumnCollection.prototype.indexOf = function (t) {\n    if (t instanceof Column) return e.prototype.indexOf.call(this, t);\n\n    for (var i = 0; i < this.length; i++) {\n      if (this[i].name == t) return i;\n    }\n\n    for (i = 0; i < this.length; i++) {\n      if (this[i].binding == t) return i;\n    }\n\n    return -1;\n  };\n\n  Object.defineProperty(ColumnCollection.prototype, \"describedById\", {\n    get: function get() {\n      return this._descById;\n    },\n    set: function set(e) {\n      if (e != this._descById) {\n        this._descById = asString(e);\n        this._g && this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnCollection.prototype, \"firstVisibleIndex\", {\n    get: function get() {\n      this._dirty && this._update();\n      return this._firstVisible;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ColumnCollection.prototype._updateStarSizes = function (e) {\n    var t,\n        i = !1,\n        o = 0;\n    e -= .5;\n\n    for (var n = 0; n < this.length; n++) {\n      if ((l = this[n]).isVisible) if (l._szStar) {\n        o += Column._parseStarSize(l._szStar);\n        t = l;\n      } else e -= l.renderWidth;\n    }\n\n    if (t) {\n      var r = e;\n\n      for (n = 0; n < this.length; n++) {\n        var l;\n\n        if ((l = this[n]).isVisible && l._szStar) {\n          var s = l._sz;\n          l == t && r > 0 ? s = r : r -= s = Math.max(0, Math.round(Column._parseStarSize(l._szStar) / o * e));\n\n          if (s != l._sz) {\n            l._sz = s;\n            i = !0;\n          }\n        }\n      }\n\n      if (i) {\n        this._dirty = !0;\n\n        this._update();\n      }\n\n      return i;\n    }\n\n    return !1;\n  };\n\n  return ColumnCollection;\n}(RowColCollection);\n\nexport { ColumnCollection };\n\nvar RowCollection = function (e) {\n  __extends(RowCollection, e);\n\n  function RowCollection() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    t._maxLevel = -1;\n    return t;\n  }\n\n  Object.defineProperty(RowCollection.prototype, \"ariaLabel\", {\n    get: function get() {\n      return this._ariaLabel;\n    },\n    set: function set(e) {\n      if (e != this.ariaLabel) {\n        this._ariaLabel = asString(e);\n        this._g && this._g.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCollection.prototype, \"maxGroupLevel\", {\n    get: function get() {\n      this._dirty && this._update();\n      return this._maxLevel;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowCollection.prototype._update = function () {\n    var t = this;\n\n    if (e.prototype._update.call(this)) {\n      var i = this.grid ? this.grid.collectionView : null,\n          o = i ? i.items : null,\n          n = 0;\n      this._maxLevel = -1;\n      this.forEach(function (e) {\n        e instanceof GroupRow && e.level > t._maxLevel && (t._maxLevel = e.level);\n        e._idxData = -1;\n        var i = e.dataItem;\n        i && o && (e._idxData = i === o[n] ? n : i === o[n + 1] ? ++n : -1);\n      });\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowCollection;\n}(RowColCollection);\n\nexport { RowCollection };\n\nvar _ColumnGroupHandler = function () {\n  function _ColumnGroupHandler(e) {\n    this._grid = e;\n  }\n\n  _ColumnGroupHandler.prototype.createColumnGroups = function (e) {\n    var t = this,\n        i = this._grid;\n    this._groupDefs = asArray(e);\n    i.autoGenerateColumns = !1;\n    i.columns.clear();\n    this._colGroups = [];\n    e.forEach(function (e) {\n      t._colGroups.push(e instanceof ColumnGroup ? e : new ColumnGroup(e, null));\n    });\n    var o = 0;\n\n    this._colGroups.forEach(function (e) {\n      t._addColumnGroup(e);\n\n      o = Math.max(o, e._getMaxLevel());\n    });\n\n    this._colGroups.forEach(function (e) {\n      e._expandRange(o);\n    });\n\n    var n = i.columnHeaders.rows;\n    n.clear();\n\n    for (var r = 0; r <= o; r++) {\n      var l = new Row();\n      n.splice(r, 0, l);\n      r < o && (l.cssClassAll = \"wj-colgroup\");\n    }\n\n    for (r = 0; r < n.length; r++) {\n      for (var s = 0; s < i.columns.length; s++) {\n        var a = this.getColumnGroup(r, s);\n\n        if (a) {\n          var d = a.header || toHeaderCase(a.binding);\n          i.columnHeaders.setCellData(r, s, d);\n        }\n      }\n    }\n  };\n\n  _ColumnGroupHandler.prototype._addColumnGroup = function (e) {\n    var t = this,\n        i = this._grid;\n    e._grid = i;\n    e._rng.col = i.columns.length;\n    0 == e.columns.length ? i.columns.push(e) : e.columns.forEach(function (e) {\n      t._addColumnGroup(e);\n    });\n    e._rng.col2 = i.columns.length - 1;\n  };\n\n  _ColumnGroupHandler.prototype.hasColumnGroups = function () {\n    return null != this._colGroups && this._colGroups.length > 0;\n  };\n\n  _ColumnGroupHandler.prototype.getGroupDefinitions = function () {\n    return this._groupDefs;\n  };\n\n  _ColumnGroupHandler.prototype.getColumnGroup = function (e, t) {\n    var i = this._grid;\n    if (e < i.columnHeaders.rows.length && t < i.columns.length) for (var o = this._colGroups; o;) {\n      for (var n = o, r = 0; r < o.length; r++) {\n        var l = o[r],\n            s = l._rng;\n\n        if (s.containsColumn(t)) {\n          if (s.containsRow(e) || 0 == l.columns.length) return l;\n          o = l.columns;\n          break;\n        }\n      }\n\n      if (o == n) break;\n    }\n    return null;\n  };\n\n  return _ColumnGroupHandler;\n}();\n\nexport { _ColumnGroupHandler };\n\nvar ColumnGroup = function (e) {\n  __extends(ColumnGroup, e);\n\n  function ColumnGroup(t, i) {\n    void 0 === i && (i = null);\n    var o = e.call(this) || this;\n    o._rng = new CellRange(0, -1);\n    o._cols = [];\n    o._lvl = 0;\n    o._collapsed = !1;\n    o._pGrp = i;\n\n    for (var n = i; n; n = n._pGrp) {\n      o._lvl++;\n    }\n\n    i && i.columns.indexOf(o) < 0 && i.columns.push(o);\n    o._rng.row = o._rng.row2 = o._lvl;\n    o.allowDragging = !1;\n    copy(o, t);\n    return o;\n  }\n\n  Object.defineProperty(ColumnGroup.prototype, \"columns\", {\n    get: function get() {\n      return this._cols;\n    },\n    set: function set(e) {\n      var t = this,\n          i = this._cols = [];\n      e.forEach(function (e) {\n        var o = e instanceof ColumnGroup ? e : new ColumnGroup(e, t);\n        i.indexOf(o) < 0 && i.push(o);\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"parentGroup\", {\n    get: function get() {\n      return this._pGrp;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"level\", {\n    get: function get() {\n      for (var e = this, t = 0; e.parentGroup;) {\n        e = e.parentGroup;\n        t++;\n      }\n\n      return t;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"collapseTo\", {\n    get: function get() {\n      return this._collTo;\n    },\n    set: function set(e) {\n      this._collTo = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"isCollapsed\", {\n    get: function get() {\n      return this._collapsed;\n    },\n    set: function set(e) {\n      var t = this;\n\n      if (e != this._collapsed) {\n        var i = this._grid;\n\n        if (i) {\n          var o = new CellRangeEventArgs(i.rowHeaders, this._rng, this);\n\n          if (i.onColumnGroupCollapsedChanging(o)) {\n            this._collapsed = asBoolean(e);\n            i.onColumnGroupCollapsedChanged(o);\n          }\n        } else this._collapsed = asBoolean(e);\n      }\n\n      setTimeout(function () {\n        t._updateCollapsedState();\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"grid\", {\n    get: function get() {\n      return this._grid;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ColumnGroup.prototype._updateCollapsedState = function () {\n    var e = this._grid ? this._grid.columns : null,\n        t = this._rng,\n        i = this._collapsed;\n\n    if (e) {\n      this._cols.forEach(function (e) {\n        if (e instanceof ColumnGroup) {\n          e._collapsed = i;\n\n          e._updateCollapsedState();\n        }\n      });\n\n      var o = t.rightCol;\n      if (this.collapseTo) switch (this.collapseTo) {\n        case \"$first\":\n          o = t.leftCol;\n          break;\n\n        case \"$last\":\n          o = t.rightCol;\n          break;\n\n        default:\n          var n = e.getColumn(this.collapseTo);\n          n && t.containsColumn(n.index) && (o = n.index);\n      }\n\n      for (var r = t.leftCol; r <= t.rightCol; r++) {\n        e[r].visible = !i || r == o;\n      }\n    }\n  };\n\n  ColumnGroup.prototype._getMaxLevel = function () {\n    var e = this._lvl;\n    this.columns.forEach(function (t) {\n      e = Math.max(e, t._getMaxLevel());\n    });\n    return e;\n  };\n\n  ColumnGroup.prototype._expandRange = function (e) {\n    var t = e - this._getMaxLevel();\n\n    if (t > 0) {\n      this._rng.row2 += t;\n\n      this._cols.forEach(function (e) {\n        e._shiftRange(t);\n      });\n    }\n\n    for (var i = this._grid.columns, o = this._rng, n = o.col; n <= o.col2; n++) {\n      i[n]._rng.row2 = e;\n    }\n  };\n\n  ColumnGroup.prototype._shiftRange = function (e) {\n    this._rng.row += e;\n    this._rng.row2 += e;\n\n    this._cols.forEach(function (t) {\n      t._shiftRange(e);\n    });\n  };\n\n  return ColumnGroup;\n}(Column);\n\nexport { ColumnGroup };\n\n_addCultureInfo(\"FlexGrid\", {\n  groupHeaderFormat: \"{name}: <b>{value}</b> ({count:n0} items)\",\n  ariaLabels: {\n    toggleDropDown: \"Toggle Dropdown\",\n    toggleGroup: \"Toggle Group\"\n  }\n});\n\nexport var AllowSorting;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.SingleColumn = 1] = \"SingleColumn\";\n  e[e.MultiColumn = 2] = \"MultiColumn\";\n}(AllowSorting || (AllowSorting = {}));\nexport var AllowPinning;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.SingleColumn = 1] = \"SingleColumn\";\n  e[e.ColumnRange = 2] = \"ColumnRange\";\n  e[e.Both = 3] = \"Both\";\n}(AllowPinning || (AllowPinning = {}));\nexport var HeadersVisibility;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Column = 1] = \"Column\";\n  e[e.Row = 2] = \"Row\";\n  e[e.All = 3] = \"All\";\n}(HeadersVisibility || (HeadersVisibility = {}));\nexport var ClipStringOptions;\n!function (e) {\n  e[e.Default = 0] = \"Default\";\n  e[e.CSV = 1] = \"CSV\";\n  e[e.QuoteAll = 2] = \"QuoteAll\";\n  e[e.SkipMerged = 4] = \"SkipMerged\";\n  e[e.Unformatted = 8] = \"Unformatted\";\n  e[e.InvisibleRows = 16] = \"InvisibleRows\";\n  e[e.InvisibleColumns = 32] = \"InvisibleColumns\";\n  e[e.InvisibleCells = 48] = \"InvisibleCells\";\n}(ClipStringOptions || (ClipStringOptions = {}));\n\nvar FlexGrid = function (e) {\n  __extends(FlexGrid, e);\n\n  function FlexGrid(t, i) {\n    var o = e.call(this, t, null, !0) || this;\n    o._activeCell = null;\n    o._szClient = new Size(0, 0);\n    o._szClientSB = new Size(0, 0);\n    o._offsetY = 0;\n    o._cssPage = 0;\n    o._ptScrl = new Point(0, 0);\n    o._cellPadLeft = 3;\n    o._cellPadHorz = 3;\n    o._cellPadVert = 0;\n    o._clipToScreen = !1;\n    o._autoGenCols = !0;\n    o._autoClipboard = !0;\n    o._xOnCopyPaste = !0;\n    o._autoScroll = !0;\n    o._autoSearch = !1;\n    o._caseSensitive = !1;\n    o._readOnly = !1;\n    o._indent = 14;\n    o._autoSizeMode = AutoSizeMode.Both;\n    o._autoHeights = !1;\n    o._quickSize = null;\n    o._hdrVis = HeadersVisibility.All;\n    o._alSorting = AllowSorting.SingleColumn;\n    o._alPinning = AllowPinning.None;\n    o._alAddNew = !1;\n    o._alDelete = !1;\n    o._alResizing = AllowResizing.Columns;\n    o._alDragging = AllowDragging.Columns;\n    o._alMerging = AllowMerging.None;\n    o._ssHdr = HeadersVisibility.None;\n    o._shSort = !0;\n    o._shGroups = !0;\n    o._shMarquee = !1;\n    o._shPlcHld = !1;\n    o._altStep = 1;\n    o._shErr = !0;\n    o._shDropDown = !0;\n    o._valEdt = !0;\n    o._gHdrFmt = null;\n    o._childItemsPath = null;\n    o._sortRowIndex = null;\n    o._editColIndex = null;\n    o._deferResizing = !1;\n    o._pSel = !0;\n    o._pOutline = !0;\n    o._stickyHdr = !1;\n    o._anchorCursor = !1;\n    o._copyHeaders = HeadersVisibility.None;\n    o._bigChecks = !1;\n    o._fzClone = null;\n    o._vt = 0;\n    o._vtRows = 0;\n    o._vtCols = 0;\n    o._lazyRender = !0;\n    o._refreshOnEdit = !0;\n    o._reorderCells = !0;\n    o._touchEdit = !1;\n    o.itemsSourceChanging = new Event();\n    o.itemsSourceChanged = new Event();\n    o.scrollPositionChanged = new Event();\n    o.selectionChanging = new Event();\n    o.selectionChanged = new Event();\n    o.loadingRows = new Event();\n    o.loadedRows = new Event();\n    o.updatingLayout = new Event();\n    o.updatedLayout = new Event();\n    o.resizingColumn = new Event();\n    o.resizedColumn = new Event();\n    o.autoSizingColumn = new Event();\n    o.autoSizedColumn = new Event();\n    o.starSizedColumns = new Event();\n    o.draggingColumn = new Event();\n    o.draggingColumnOver = new Event();\n    o.draggedColumn = new Event();\n    o.pinningColumn = new Event();\n    o.pinnedColumn = new Event();\n    o.resizingRow = new Event();\n    o.resizedRow = new Event();\n    o.autoSizingRow = new Event();\n    o.autoSizedRow = new Event();\n    o.draggingRow = new Event();\n    o.draggingRowOver = new Event();\n    o.draggedRow = new Event();\n    o.groupCollapsedChanging = new Event();\n    o.groupCollapsedChanged = new Event();\n    o.columnGroupCollapsedChanging = new Event();\n    o.columnGroupCollapsedChanged = new Event();\n    o.sortingColumn = new Event();\n    o.sortedColumn = new Event();\n    o.beginningEdit = new Event();\n    o.prepareCellForEdit = new Event();\n    o.cellEditEnding = new Event();\n    o.cellEditEnded = new Event();\n    o.rowEditStarting = new Event();\n    o.rowEditStarted = new Event();\n    o.rowEditEnding = new Event();\n    o.rowEditEnded = new Event();\n    o.rowAdded = new Event();\n    o.deletingRow = new Event();\n    o.deletedRow = new Event();\n    o.copying = new Event();\n    o.copied = new Event();\n    o.pasting = new Event();\n    o.pasted = new Event();\n    o.pastingCell = new Event();\n    o.pastedCell = new Event();\n    o.formatItem = new Event(function () {\n      o._clearCells();\n    });\n    o.updatingView = new Event();\n    o.updatedView = new Event();\n    o._mappedColumns = null;\n    var n = o.hostElement;\n    isIE() && (n.style.borderRadius = \"0\");\n    var r = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-flexgrid\", r, {\n      _root: \"root\",\n      _eSz: \"sz\",\n      _eCt: \"cells\",\n      _fCt: \"fcells\",\n      _eTL: \"tl\",\n      _eBL: \"bl\",\n      _eCHdr: \"ch\",\n      _eRHdr: \"rh\",\n      _eCFtr: \"cf\",\n      _eTLCt: \"tlcells\",\n      _eBLCt: \"blcells\",\n      _eCHdrCt: \"chcells\",\n      _eCFtrCt: \"cfcells\",\n      _eRHdrCt: \"rhcells\",\n      _eMarquee: \"marquee\",\n      _eFocus: \"focus\"\n    });\n    setCss(o._root.parentElement, {\n      position: \"relative\",\n      left: \"0\",\n      top: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\",\n      minWidth: \"inherit\",\n      minHeight: \"inherit\",\n      maxWidth: \"inherit\",\n      maxHeight: \"inherit\"\n    });\n    setCss(o._root, {\n      position: \"absolute\",\n      left: \"0\",\n      top: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      minWidth: \"inherit\",\n      minHeight: \"inherit\",\n      maxWidth: \"inherit\",\n      maxHeight: \"inherit\",\n      overflow: \"auto\",\n      webkitOverflowScrolling: \"touch\"\n    });\n    setCss(o._eCt, {\n      position: \"absolute\"\n    });\n    setCss(o._eMarquee, {\n      display: \"none\"\n    });\n    setCss(o._eMarquee.firstChild, {\n      width: \"100%\",\n      height: \"100%\"\n    });\n    setCss(o._fCt, {\n      position: \"absolute\",\n      left: \"0\",\n      top: \"0\",\n      overflow: \"hidden\",\n      pointerEvents: \"none\"\n    });\n    setCss(o._eFocus, {\n      position: \"fixed\",\n      left: \"-32000px\"\n    });\n    setCss(o._eSz, {\n      position: \"relative\",\n      visibility: \"hidden\"\n    });\n    [o._eRHdr, o._eCFtr, o._eCHdr, o._eBL, o._eTL].forEach(function (e) {\n      setAttribute(e, \"aria-hidden\", !0);\n      setCss(e, {\n        position: \"absolute\",\n        overflow: \"hidden\",\n        outline: \"none\"\n      });\n      setCss(e.firstElementChild, {\n        position: \"relative\"\n      });\n    });\n    [o._eFocus, o._eMarquee, o._fCt, o._eSz].forEach(function (e) {\n      setAttribute(e, \"aria-hidden\", !0);\n    });\n\n    if (isIE9() || isIE10()) {\n      var l = o._eMarquee;\n      [\"click\", \"dblclick\", \"mousedown\", \"mouseup\"].forEach(function (e) {\n        o.addEventListener(l, e, function (t) {\n          var i = l.style.display;\n          l.style.display = \"none\";\n          var o = document.elementFromPoint(t.clientX, t.clientY);\n          l.style.display = i;\n          var n = document.createEvent(\"Event\");\n          n.initEvent(e, !0, !0);\n\n          for (var r in t) {\n            try {\n              n[r] = t[r];\n            } catch (e) {}\n          }\n\n          o.dispatchEvent(n);\n        });\n      });\n    }\n\n    n.tabIndex = -1;\n    o.deferUpdate(function () {\n      var e = o._getDefaultRowHeight();\n\n      o._rows = new RowCollection(o, e);\n      o._cols = new ColumnCollection(o, 4 * e);\n      o._hdrRows = new RowCollection(o, e);\n      o._hdrCols = new ColumnCollection(o, Math.round(1.25 * e));\n      o._ftrRows = new RowCollection(o, e);\n      var t = CellType;\n      o._gpTL = new GridPanel(o, t.TopLeft, o._hdrRows, o._hdrCols, o._eTLCt);\n      o._gpCHdr = new GridPanel(o, t.ColumnHeader, o._hdrRows, o._cols, o._eCHdrCt);\n      o._gpRHdr = new GridPanel(o, t.RowHeader, o._rows, o._hdrCols, o._eRHdrCt);\n      o._gpCells = new GridPanel(o, t.Cell, o._rows, o._cols, o._eCt);\n      o._gpBL = new GridPanel(o, t.BottomLeft, o._ftrRows, o._hdrCols, o._eBLCt);\n      o._gpCFtr = new GridPanel(o, t.ColumnFooter, o._ftrRows, o._cols, o._eCFtrCt);\n\n      o._hdrRows.push(new Row());\n\n      o._hdrCols.push(new Column({\n        align: \"center\"\n      }));\n\n      o._cf = new CellFactory();\n      o._keyHdl = new _KeyboardHandler(o);\n      o._mouseHdl = new _MouseHandler(o);\n      o._edtHdl = new _EditHandler(o);\n      o._selHdl = new _SelectionHandler(o);\n      o._addHdl = new _AddNewHandler(o);\n      o._grpHdl = new _ColumnGroupHandler(o);\n      o._mrgMgr = new MergeManager();\n      o._bndSortConverter = o._sortConverter.bind(o);\n      o._errorTip = new Tooltip({\n        isContentHtml: !1,\n        showDelay: 0,\n        cssClass: \"wj-error-tip\"\n      });\n      setAttribute(o.cells.hostElement, \"role\", \"grid\");\n      o.selectionMode = SelectionMode.CellRange;\n      o._root.tabIndex = -1;\n      o.initialize(i);\n    });\n    o.addEventListener(o._root, \"scroll\", function (e) {\n      if (o._updateScrollPosition() || o._forceScrollUpdate) {\n        var t = o.activeEditor,\n            i = o.activeCell,\n            n = i ? i.className : null;\n        o._forceScrollUpdate || o.finishEditing();\n        o._forceScrollUpdate = !1;\n\n        o._updateContent(!0);\n\n        var r = o.activeEditor,\n            l = o.activeCell;\n\n        if (r && l && t && n) {\n          r.value = t.value;\n          l.className = n;\n\n          o._setFocusNoScroll(r);\n        } else r && !l && o.finishEditing(!0);\n\n        o.frozenColumns && setTimeout(function () {\n          var e = o.columnHeaders.hostElement.style,\n              t = parseInt(e.left),\n              i = o._ptScrl.x;\n          Math.abs(t - i) > 1 && o.invalidate();\n        });\n      }\n    });\n    o.addEventListener(n, \"focus\", function (e) {\n      if (n.tabIndex > -1) {\n        var t = e.target;\n        t instanceof HTMLElement && t.tabIndex < 0 && o._setFocus(!0);\n      }\n    }, !0);\n    return o;\n  }\n\n  FlexGrid.prototype._handleResize = function () {\n    var t = this;\n    this._rcBounds = null;\n    this.activeEditor && this.isTouching || this._touchEdit ? setTimeout(function () {\n      if (!t.activeEditor) {\n        t._touchEdit = !0;\n        t.startEditing(!0);\n      }\n    }, 50) : e.prototype._handleResize.call(this);\n    this._touchEdit = !1;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"headersVisibility\", {\n    get: function get() {\n      return this._hdrVis;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, HeadersVisibility)) != this._hdrVis) {\n        this._hdrVis = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"stickyHeaders\", {\n    get: function get() {\n      return this._stickyHdr;\n    },\n    set: function set(e) {\n      if (e != this._stickyHdr) {\n        this._stickyHdr = asBoolean(e);\n\n        this._updateStickyHeaders();\n\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveSelectedState\", {\n    get: function get() {\n      return this._pSel;\n    },\n    set: function set(e) {\n      this._pSel = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveOutlineState\", {\n    get: function get() {\n      return this._pOutline;\n    },\n    set: function set(e) {\n      this._pOutline = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"anchorCursor\", {\n    get: function get() {\n      return this._anchorCursor;\n    },\n    set: function set(e) {\n      this._anchorCursor = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"copyHeaders\", {\n    get: function get() {\n      return this._copyHeaders;\n    },\n    set: function set(e) {\n      this._copyHeaders = asEnum(e, HeadersVisibility);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"lazyRender\", {\n    get: function get() {\n      return this._lazyRender;\n    },\n    set: function set(e) {\n      this._lazyRender = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"refreshOnEdit\", {\n    get: function get() {\n      return this._refreshOnEdit;\n    },\n    set: function set(e) {\n      this._refreshOnEdit = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"virtualizationThreshold\", {\n    get: function get() {\n      return this._vt;\n    },\n    set: function set(e) {\n      this._vt = e;\n      if (isNumber(e)) this._vtRows = this._vtCols = asNumber(e);else if (e) {\n        if (isArray(e) && 2 == e.length) {\n          this._vtRows = asNumber(e[0]);\n          this._vtCols = asNumber(e[1]);\n        } else assert(!1, \"virtualizationThreshold should be a number or an array with two numbers.\");\n      } else this._vtRows = this._vtCols = 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoGenerateColumns\", {\n    get: function get() {\n      return this._autoGenCols;\n    },\n    set: function set(e) {\n      this._autoGenCols = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoClipboard\", {\n    get: function get() {\n      return this._autoClipboard;\n    },\n    set: function set(e) {\n      this._autoClipboard = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"expandSelectionOnCopyPaste\", {\n    get: function get() {\n      return this._xOnCopyPaste;\n    },\n    set: function set(e) {\n      this._xOnCopyPaste = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoScroll\", {\n    get: function get() {\n      return this._autoScroll;\n    },\n    set: function set(e) {\n      this._autoScroll = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoSearch\", {\n    get: function get() {\n      return this._autoSearch;\n    },\n    set: function set(e) {\n      this._autoSearch = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"caseSensitiveSearch\", {\n    get: function get() {\n      return this._caseSensitive;\n    },\n    set: function set(e) {\n      this._caseSensitive = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnLayout\", {\n    get: function get() {\n      var e = FlexGrid._getSerializableProperties(Column),\n          t = new Column(),\n          i = [];\n\n      this.columns.forEach(function (o) {\n        var n = {};\n        e.forEach(function (e) {\n          var i = o[e];\n          i != t[e] && isPrimitive(i) && \"size\" != e && (n[e] = i);\n        });\n        i.push(n);\n      });\n      return JSON.stringify({\n        columns: i\n      });\n    },\n    set: function set(e) {\n      var t = this,\n          i = JSON.parse(asString(e));\n      assert(i, \"Invalid columnLayout data.\");\n      this.columns.deferUpdate(function () {\n        t.columns.clear();\n        t.initialize(i);\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnGroups\", {\n    get: function get() {\n      return this._grpHdl.getGroupDefinitions();\n    },\n    set: function set(e) {\n      this.columns.clear();\n\n      this._grpHdl.createColumnGroups(asArray(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"isReadOnly\", {\n    get: function get() {\n      return this._readOnly;\n    },\n    set: function set(e) {\n      if (e != this._readOnly) {\n        this._readOnly = asBoolean(e);\n        this.finishEditing();\n        this.invalidate(!0);\n\n        this._addHdl.updateNewRowTemplate();\n\n        toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n\n        this._setAria(\"readonly\", this.isReadOnly ? \"true\" : null);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"bigCheckboxes\", {\n    get: function get() {\n      return this._bigChecks;\n    },\n    set: function set(e) {\n      this._bigChecks = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"isDisabled\", {\n    get: function get() {\n      return this._e && null != this._e.getAttribute(\"disabled\");\n    },\n    set: function set(e) {\n      if ((e = asBoolean(e, !0)) != this.isDisabled) {\n        var t = this._e;\n\n        if (t) {\n          enable(t, !e);\n          this.invalidate();\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"imeEnabled\", {\n    get: function get() {\n      return null != this._imeHdl;\n    },\n    set: function set(e) {\n      if (asBoolean(e) != this.imeEnabled && this.finishEditing()) {\n        var t = this.containsFocus();\n\n        if (this._imeHdl) {\n          this._imeHdl.dispose();\n\n          this._imeHdl = null;\n        }\n\n        e && (this._imeHdl = new _ImeHandler(this));\n        t && this.focus();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowResizing\", {\n    get: function get() {\n      return this._alResizing;\n    },\n    set: function set(e) {\n      this._alResizing = asEnum(e, AllowResizing);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"deferResizing\", {\n    get: function get() {\n      return this._deferResizing;\n    },\n    set: function set(e) {\n      this._deferResizing = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoSizeMode\", {\n    get: function get() {\n      return this._autoSizeMode;\n    },\n    set: function set(e) {\n      this._autoSizeMode = asEnum(e, AutoSizeMode);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoRowHeights\", {\n    get: function get() {\n      return this._autoHeights;\n    },\n    set: function set(e) {\n      this._autoHeights = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"quickAutoSize\", {\n    get: function get() {\n      return this._quickSize;\n    },\n    set: function set(e) {\n      this._quickSize = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype._getQuickAutoSize = function () {\n    return isBoolean(this._quickSize) ? this._quickSize : !this.formatItem.hasHandlers && null == this.itemFormatter;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"allowSorting\", {\n    get: function get() {\n      return this._alSorting;\n    },\n    set: function set(e) {\n      isBoolean(e) && (e = e ? AllowSorting.SingleColumn : AllowSorting.None);\n      this._alSorting = asEnum(e, AllowSorting);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowPinning\", {\n    get: function get() {\n      return this._alPinning;\n    },\n    set: function set(e) {\n      if (e != this._alPinning) {\n        isBoolean(e) && (e = e ? AllowPinning.SingleColumn : AllowPinning.None);\n        this._alPinning = asEnum(e, AllowPinning);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowAddNew\", {\n    get: function get() {\n      return this._alAddNew;\n    },\n    set: function set(e) {\n      if (e != this._alAddNew) {\n        this._alAddNew = asBoolean(e);\n\n        this._addHdl.updateNewRowTemplate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"newRowAtTop\", {\n    get: function get() {\n      return this._addHdl.newRowAtTop;\n    },\n    set: function set(e) {\n      this._addHdl.newRowAtTop = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowDelete\", {\n    get: function get() {\n      return this._alDelete;\n    },\n    set: function set(e) {\n      e != this._alDelete && (this._alDelete = asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowMerging\", {\n    get: function get() {\n      return this._alMerging;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, AllowMerging)) != this._alMerging) {\n        this._alMerging = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showSelectedHeaders\", {\n    get: function get() {\n      return this._ssHdr;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, HeadersVisibility)) != this._ssHdr) {\n        this._ssHdr = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showMarquee\", {\n    get: function get() {\n      return this._shMarquee;\n    },\n    set: function set(e) {\n      if (e != this._shMarquee) {\n        this._shMarquee = asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showPlaceholders\", {\n    get: function get() {\n      return this._shPlcHld;\n    },\n    set: function set(e) {\n      this._shPlcHld = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showSort\", {\n    get: function get() {\n      return this._shSort;\n    },\n    set: function set(e) {\n      if (e != this._shSort) {\n        this._shSort = asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showGroups\", {\n    get: function get() {\n      return this._shGroups;\n    },\n    set: function set(e) {\n      if (e != this._shGroups) {\n        this._shGroups = asBoolean(e);\n\n        this._bindGrid(!1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"alternatingRowStep\", {\n    get: function get() {\n      return this._altStep;\n    },\n    set: function set(e) {\n      if (e != this._altStep) {\n        this._altStep = asInt(e, !1, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showAlternatingRows\", {\n    get: function get() {\n      return this._altStep > 0;\n    },\n    set: function set(e) {\n      _deprecated(\"showAlternatingRows\", \"alternatingRowStep\");\n\n      this.alternatingRowStep = e ? 1 : 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showErrors\", {\n    get: function get() {\n      return this._shErr;\n    },\n    set: function set(e) {\n      if (e != this._shErr) {\n        this._clearCells();\n\n        this._shErr = asBoolean(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"errorTip\", {\n    get: function get() {\n      return this._errorTip;\n    },\n    set: function set(e) {\n      if (e != this._errorTip) {\n        this._clearCells();\n\n        this._errorTip = asType(e, Tooltip, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemValidator\", {\n    get: function get() {\n      return this._itemValidator;\n    },\n    set: function set(e) {\n      if (e != this.itemValidator) {\n        this._itemValidator = asFunction(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"validateEdits\", {\n    get: function get() {\n      return this._valEdt;\n    },\n    set: function set(e) {\n      this._valEdt = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"groupHeaderFormat\", {\n    get: function get() {\n      return this._gHdrFmt;\n    },\n    set: function set(e) {\n      if (e != this._gHdrFmt) {\n        this._gHdrFmt = asString(e);\n\n        this._bindGrid(!1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowDragging\", {\n    get: function get() {\n      return this._alDragging;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, AllowDragging)) != this._alDragging) {\n        this._alDragging = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemsSource\", {\n    get: function get() {\n      return this._items;\n    },\n    set: function set(e) {\n      var t = this;\n\n      if (e != this._items) {\n        var i = new CancelEventArgs();\n\n        if (this.onItemsSourceChanging(i)) {\n          if (this._cv) {\n            (o = this._cv).currentChanged.removeHandler(null, this);\n\n            o.collectionChanged.removeHandler(null, this);\n            o instanceof CollectionView && o.sortConverter == this._bndSortConverter && (o.sortConverter = null);\n            this._cv = null;\n          }\n\n          this._items = e;\n          this._cv = this._getCollectionView(e);\n          this._lastCount = 0;\n\n          if (this._cv) {\n            var o;\n\n            (o = this._cv).currentChanged.addHandler(function (e, i) {\n              return t._cvCurrentChanged(e, i);\n            }, this);\n\n            o.collectionChanged.addHandler(function (e, i) {\n              return t._cvCollectionChanged(e, i);\n            }, this);\n            o instanceof CollectionView && !o.sortConverter && (o.sortConverter = this._bndSortConverter);\n          }\n\n          this._bindGrid(!0);\n\n          this._selHdl._setSelectionMode(this.selectionMode);\n\n          this.onItemsSourceChanged(i);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"collectionView\", {\n    get: function get() {\n      return this._cv;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editableCollectionView\", {\n    get: function get() {\n      return tryCast(this._cv, \"IEditableCollectionView\");\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"childItemsPath\", {\n    get: function get() {\n      return this._childItemsPath;\n    },\n    set: function set(e) {\n      if (e != this._childItemsPath) {\n        assert(null == e || isArray(e) || isString(e), \"childItemsPath should be an array or a string.\");\n        this._childItemsPath = e;\n\n        this._bindGrid(!0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rowHeaderPath\", {\n    get: function get() {\n      return this._rowHdrPath ? this._rowHdrPath.path : null;\n    },\n    set: function set(e) {\n      if (e != this.rowHeaderPath) {\n        e = asString(e);\n        this._rowHdrPath = e ? new Binding(e) : null;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cells\", {\n    get: function get() {\n      return this._gpCells;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnHeaders\", {\n    get: function get() {\n      return this._gpCHdr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnFooters\", {\n    get: function get() {\n      return this._gpCFtr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rowHeaders\", {\n    get: function get() {\n      return this._gpRHdr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"topLeftCells\", {\n    get: function get() {\n      return this._gpTL;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"bottomLeftCells\", {\n    get: function get() {\n      return this._gpBL;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rows\", {\n    get: function get() {\n      return this._rows;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columns\", {\n    get: function get() {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.getColumn = function (e) {\n    return this.columns.getColumn(e);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"frozenRows\", {\n    get: function get() {\n      return this.rows.frozen;\n    },\n    set: function set(e) {\n      this.rows.frozen = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"frozenColumns\", {\n    get: function get() {\n      return this.columns.frozen;\n    },\n    set: function set(e) {\n      this.columns.frozen = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cloneFrozenCells\", {\n    get: function get() {\n      return this._fzClone;\n    },\n    set: function set(e) {\n      if (e != this._fzClone) {\n        setText(this._fCt, null);\n        this._fzClone = asBoolean(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"sortRowIndex\", {\n    get: function get() {\n      return this._sortRowIndex;\n    },\n    set: function set(e) {\n      if (e != this._sortRowIndex) {\n        this._sortRowIndex = asNumber(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editColumnIndex\", {\n    get: function get() {\n      return this._editColIndex;\n    },\n    set: function set(e) {\n      if (e != this._editColIndex) {\n        this._editColIndex = asNumber(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"scrollPosition\", {\n    get: function get() {\n      return this._ptScrl.clone();\n    },\n    set: function set(e) {\n      var t = this._root,\n          i = -e.x;\n      if (this.rightToLeft) switch (FlexGrid._getRtlMode()) {\n        case \"rev\":\n          i = t.scrollWidth - t.clientWidth + e.x;\n          break;\n\n        case \"neg\":\n          i = e.x;\n          break;\n\n        default:\n          i = -e.x;\n      }\n      t.scrollLeft = i;\n      t.scrollTop = -e.y;\n      this._updateScrollPosition() && (this._forceScrollUpdate = !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"clientSize\", {\n    get: function get() {\n      return this._szClient;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"controlRect\", {\n    get: function get() {\n      this._rcBounds || (this._rcBounds = getElementRect(this._root));\n      return this._rcBounds;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"scrollSize\", {\n    get: function get() {\n      return new Size(this._gpCells.width, this._heightBrowser);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"viewRange\", {\n    get: function get() {\n      return this._gpCells.viewRange;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cellFactory\", {\n    get: function get() {\n      return this._cf;\n    },\n    set: function set(e) {\n      if (e != this._cf) {\n        this._clearCells();\n\n        this._cf = asType(e, CellFactory, !1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemFormatter\", {\n    get: function get() {\n      return this._itemFormatter;\n    },\n    set: function set(e) {\n      if (e != this._itemFormatter) {\n        this._clearCells();\n\n        this._itemFormatter = asFunction(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.canEditCell = function (e, t) {\n    return this._edtHdl._allowEdit(e, t);\n  };\n\n  FlexGrid.prototype.getCellData = function (e, t, i) {\n    return this.cells.getCellData(e, t, i);\n  };\n\n  FlexGrid.prototype.getCellBoundingRect = function (e, t, i) {\n    return this.cells.getCellBoundingRect(e, t, i);\n  };\n\n  FlexGrid.prototype.setCellData = function (e, t, i, o, n) {\n    void 0 === o && (o = !0);\n    void 0 === n && (n = !0);\n    return this.cells.setCellData(e, t, i, o, n);\n  };\n\n  FlexGrid.prototype.hitTest = function (e, t) {\n    isNumber(e) && isNumber(t) && (e = new Point(e, t));\n    isBoolean(t) && t && (this._rcBounds = null);\n    return new HitTestInfo(this, e);\n  };\n\n  FlexGrid.prototype.getClipString = function (e, t, i, o) {\n    var n;\n    n = null == t || isBoolean(t) ? t ? ClipStringOptions.CSV : ClipStringOptions.Default : t;\n    assert(isNumber(n), \"Unexpected value for ClipStringOptions parameter.\");\n    return this._edtHdl.getClipString(e, n, i, o);\n  };\n\n  FlexGrid.prototype.setClipString = function (e, t) {\n    this._edtHdl.setClipString(e, t);\n  };\n\n  FlexGrid.prototype.focus = function (e) {\n    this._setFocus(e);\n  };\n\n  FlexGrid.prototype.dispose = function () {\n    this.finishEditing(!0);\n    this.itemsSource = null;\n    e.prototype.dispose.call(this);\n  };\n\n  FlexGrid.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    this.finishEditing();\n\n    if (t) {\n      this._updateColumnTypes();\n\n      this.scrollPosition = this._ptScrl;\n\n      var i = this._getDefaultRowHeight();\n\n      this._rows._setDefaultSize(i);\n\n      this._cols._setDefaultSize(4 * i);\n\n      this._hdrRows._setDefaultSize(i);\n\n      this._hdrCols._setDefaultSize(Math.round(1.25 * i));\n\n      this._ftrRows._setDefaultSize(i);\n\n      clearTimeout(this._toInv);\n      this._toInv = null;\n    }\n\n    this.refreshCells(t);\n    var o = this._e;\n    o && (this._szCtl = new Size(o.offsetWidth, o.offsetHeight));\n  };\n\n  FlexGrid.prototype.refreshCells = function (e, t, i) {\n    this.isUpdating || (e ? this._updateLayout() : this._updateContent(t, i));\n  };\n\n  FlexGrid.prototype.refreshRange = function (e) {\n    for (var t = e.topRow; t <= e.bottomRow; t++) {\n      for (var i = e.leftCol; i <= e.rightCol; i++) {\n        var o = this.cells.getCellElement(t, i);\n\n        if (o) {\n          var n = o[GridPanel._INDEX_KEY];\n          this.cellFactory.updateCell(this.cells, t, i, o, n.rng);\n        }\n      }\n    }\n  };\n\n  FlexGrid.prototype.autoSizeColumn = function (e, t, i) {\n    void 0 === t && (t = !1);\n    void 0 === i && (i = 4);\n    this.autoSizeColumns(e, e, t, i);\n  };\n\n  FlexGrid.prototype.autoSizeColumns = function (e, t, i, o) {\n    var n = this;\n    void 0 === i && (i = !1);\n    void 0 === o && (o = 4);\n    var r = 0,\n        l = i ? this.topLeftCells : this.columnHeaders,\n        s = i ? this.bottomLeftCells : this.columnFooters,\n        a = i ? this.rowHeaders : this.cells,\n        d = this.viewRange;\n    e = null == e ? 0 : asInt(e);\n    t = null == t ? a.columns.length - 1 : asInt(t);\n    d.row = Math.max(0, d.row - 1e3);\n    d.row2 = Math.min(d.row2 + 1e3, this.rows.length - 1);\n    this.finishEditing() && this.columns.deferUpdate(function () {\n      setCss(n._eCt, {\n        width: n._gpCells.width\n      });\n\n      for (var i = createElement(\"<div \" + FlexGrid._WJS_MEASURE + '=\"true\"/>', a.hostElement, {\n        visibility: \"hidden\"\n      }), c = n._getCanvasContext(), u = e; u <= t && u > -1 && u < a.columns.length; u++) {\n        var h = a.columns[u];\n\n        if (h.isVisible) {\n          r = 0;\n\n          if (n.autoSizeMode & AutoSizeMode.Headers) {\n            for (var p = 0; p < l.rows.length; p++) {\n              l.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(l, p, u, i), r));\n            }\n\n            for (p = 0; p < s.rows.length; p++) {\n              s.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(s, p, u, i), r));\n            }\n          }\n\n          if (n.autoSizeMode & AutoSizeMode.Cells && d.row > -1 && d.row2 > -1) if (h._getQuickAutoSize()) {\n            p = n._getWidestRow(a, d, u, c);\n            r = Math.max(n._getDesiredWidth(a, p, u, i), r);\n          } else for (p = d.row; p <= d.row2 && p < a.rows.length; p++) {\n            a.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(a, p, u, i), r));\n          }\n          r > 0 && (h.width = r + o + 2);\n        }\n      }\n\n      n.cellFactory.disposeCell(i);\n      removeChild(i);\n    });\n  };\n\n  FlexGrid.prototype.autoSizeRow = function (e, t, i) {\n    void 0 === t && (t = !1);\n    void 0 === i && (i = 0);\n    this.autoSizeRows(e, e, t, i);\n  };\n\n  FlexGrid.prototype.autoSizeRows = function (e, t, i, o) {\n    var n = this;\n    void 0 === i && (i = !1);\n    void 0 === o && (o = 0);\n    var r = 0,\n        l = 1 == i ? this.topLeftCells : null == i ? this.bottomLeftCells : this.rowHeaders,\n        s = 1 == i ? this.columnHeaders : null == i ? this.columnFooters : this.cells;\n    o = asNumber(o);\n    e = null == e ? 0 : asInt(e);\n\n    if ((t = null == t ? s.rows.length - 1 : asInt(t)) >= e && this.finishEditing()) {\n      setCss(this._eCt, {\n        width: this._gpCells.width\n      });\n      var a = createElement(\"<div \" + FlexGrid._WJS_MEASURE + '=\"true\"/>', s.hostElement, {\n        visibility: \"hidden\"\n      });\n      this.rows.deferUpdate(function () {\n        for (var i = {}, d = n._autoSizeMode, c = AutoSizeMode, u = e; u <= t && u > -1 && u < s.rows.length; u++) {\n          if (s.rows[u].isVisible) {\n            r = 0;\n            d & c.Headers && (r = n._getDesiredRowHeight(l, u, a, i));\n            d & c.Cells && (r = Math.max(n._getDesiredRowHeight(s, u, a, i), r));\n            r > 0 && (s.rows[u].height = r + o);\n          }\n        }\n      });\n      this.cellFactory.disposeCell(a);\n      removeChild(a);\n    }\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"treeIndent\", {\n    get: function get() {\n      return this._indent;\n    },\n    set: function set(e) {\n      if (e != this._indent) {\n        this._indent = asNumber(e, !1, !0);\n        this.columns.onCollectionChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.collapseGroupsToLevel = function (e) {\n    var t = this;\n    this.finishEditing() && this.deferUpdate(function () {\n      var i = t.rows;\n      i.deferUpdate(function () {\n        for (var t = 0; t < i.length; t++) {\n          var o = i[t];\n          o instanceof GroupRow && (o.isCollapsed = o.level >= e);\n        }\n      });\n    });\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"selectionMode\", {\n    get: function get() {\n      return this._selHdl.selectionMode;\n    },\n    set: function set(e) {\n      (e = asEnum(e, SelectionMode)) != this.selectionMode && (this._selHdl.selectionMode = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selection\", {\n    get: function get() {\n      return this._selHdl.selection.clone();\n    },\n    set: function set(e) {\n      this._selHdl.selection = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.select = function (e, t) {\n    void 0 === t && (t = !0);\n    return this._selHdl.select(e, t);\n  };\n\n  FlexGrid.prototype.selectAll = function () {\n    var e = this.rows.length,\n        t = this.columns.length;\n    return !(!e || !t) && this.select(new CellRange(0, 0, e - 1, t - 1), !1);\n  };\n\n  FlexGrid.prototype.getSelectedState = function (e, t) {\n    return this.cells.getSelectedState(e, t);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"selectedRows\", {\n    get: function get() {\n      var e = this,\n          t = this.selectionMode,\n          i = this.rows.filter(function (e) {\n        return e.isSelected;\n      });\n\n      if (0 == i.length && t != SelectionMode.None) {\n        var o = [];\n        this.selectedRanges.forEach(function (t) {\n          for (var i = t.topRow; i <= t.bottomRow && i > -1 && i < e.rows.length; i++) {\n            o.indexOf(i) < 0 && o.push(i);\n          }\n        });\n        o.sort();\n        i = o.map(function (t) {\n          return e.rows[t];\n        });\n      }\n\n      return i;\n    },\n    set: function set(e) {\n      var t = this;\n      assert(this.selectionMode == SelectionMode.ListBox, \"This property can be set only in ListBox mode.\");\n      e = asArray(e);\n      this.deferUpdate(function () {\n        for (var i = 0, o = !0; i < t.rows.length; i++) {\n          var n = t.rows[i],\n              r = e && e.indexOf(n) > -1;\n\n          if (r && o) {\n            o = !1;\n            t.select(i, t.selection.col);\n          }\n\n          n.isSelected = r;\n        }\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selectedItems\", {\n    get: function get() {\n      var e = [];\n      this.selectedRows.forEach(function (t) {\n        var i = t ? t.dataItem : null;\n        i && e.indexOf(i) < 0 && e.push(i);\n      });\n      return e;\n    },\n    set: function set(e) {\n      var t = this;\n      assert(this.selectionMode == SelectionMode.ListBox, \"This property can be set only in ListBox mode.\");\n      e = asArray(e);\n      this.deferUpdate(function () {\n        for (var i = 0, o = !0; i < t.rows.length; i++) {\n          var n = t.rows[i],\n              r = e && e.indexOf(n.dataItem) > -1;\n\n          if (r && o) {\n            o = !1;\n            t.select(i, t.selection.col);\n          }\n\n          n.isSelected = r;\n        }\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selectedRanges\", {\n    get: function get() {\n      var e = [this.selection];\n\n      this._selHdl.extendedSelection.forEach(function (t) {\n        e.push(t);\n      });\n\n      return e;\n    },\n    set: function set(e) {\n      if ((e = asArray(e)) && e.length > 0) {\n        this.select(e[0]);\n\n        if (this.selectionMode == SelectionMode.MultiRange) {\n          var t = this._selHdl.extendedSelection;\n          t.deferUpdate(function () {\n            t.clear();\n\n            for (var i = 1; i < e.length; i++) {\n              t.push(e[i]);\n            }\n          });\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.scrollIntoView = function (e, t, i) {\n    (null == this._maxOffsetY || this._rows._dirty || this._cols._dirty) && this._updateLayout();\n\n    var o = this.scrollPosition,\n        n = this._szClient,\n        r = n.width,\n        l = n.height - this._gpCFtr.rows.getTotalSize(),\n        s = this.cells._getFrozenPos();\n\n    if ((e = asInt(e)) > -1 && e < this._rows.length && e >= this._rows.frozen) {\n      var a = this._rows[e],\n          d = this._getCssPage(a.pos);\n\n      if (d != this._cssPage) {\n        for (var c = this._maxOffsetY, u = Math.round(c * d); u > a.pos; d -= .1) {\n          u = Math.round(c * d);\n        }\n\n        this._offsetY = u;\n      }\n\n      var h = a.pos - this._offsetY,\n          p = h + a.renderSize;\n      p > l - o.y && (o.y = Math.max(-h, l - p));\n      h - s.y < -o.y && (o.y = -(h - s.y));\n      d != this._cssPage && (this._cssPage = this._getCssPage(-o.y));\n    }\n\n    isString(t) && (t = this.columns.indexOf(t));\n\n    if ((t = asInt(t)) > -1 && t < this._cols.length && t >= this._cols.frozen) {\n      var g = this._cols[t],\n          f = g.pos + g.renderSize;\n      f > -o.x + r && (o.x = Math.max(-g.pos, r - f));\n      g.pos - s.x < -o.x && (o.x = -(g.pos - s.x));\n    }\n\n    if (!o.equals(this._ptScrl)) {\n      this.scrollPosition = o;\n\n      if (i) {\n        this._updateScrollPosition();\n\n        this._forceScrollUpdate = !1;\n        this.refresh();\n      }\n\n      return !0;\n    }\n\n    if (this._activeCell && e > -1 && t > -1) {\n      var _ = this._root,\n          m = _.scrollWidth == _.clientWidth,\n          w = _.scrollHeight == _.clientHeight;\n\n      if (m || w) {\n        var C = this._activeCell.getBoundingClientRect(),\n            v = innerWidth,\n            y = innerHeight,\n            b = C.right < 0 || C.left > v,\n            R = C.bottom < 0 || C.top > y;\n\n        o.x = pageXOffset + (C.left < 0 ? C.left : C.right > v ? C.right - v : 0);\n        o.y = pageYOffset + (C.top < 0 ? C.top : C.bottom > y ? C.bottom - y : 0);\n        b && m && R && w ? scrollTo(o.x, o.y) : b && m ? scrollTo(o.x, document.documentElement.scrollLeft) : R && w && scrollTo(document.documentElement.scrollTop, o.y);\n      }\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype.isRangeValid = function (e) {\n    return e && e.isValid && e.bottomRow < this.rows.length && e.rightCol < this.columns.length;\n  };\n\n  FlexGrid.prototype.startEditing = function (e, t, i, o, n) {\n    void 0 === e && (e = !0);\n    return this._edtHdl.startEditing(e, t, i, o, n);\n  };\n\n  FlexGrid.prototype.finishEditing = function (e) {\n    return this._edtHdl.finishEditing(e);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"activeCell\", {\n    get: function get() {\n      return this._activeCell;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"activeEditor\", {\n    get: function get() {\n      var e = this._edtHdl;\n      return e ? e.activeEditor : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editRange\", {\n    get: function get() {\n      var e = this._edtHdl.editRange;\n      return e ? e.clone() : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"mergeManager\", {\n    get: function get() {\n      return this._mrgMgr;\n    },\n    set: function set(e) {\n      if (e != this._mrgMgr) {\n        this._mrgMgr = asType(e, MergeManager, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.getMergedRange = function (e, t, i, o) {\n    void 0 === o && (o = !0);\n    return this._mrgMgr ? this._mrgMgr.getMergedRange(e, t, i, o) : null;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"keyActionTab\", {\n    get: function get() {\n      return this._keyHdl._kaTab;\n    },\n    set: function set(e) {\n      this._keyHdl._kaTab = asEnum(e, KeyAction);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"keyActionEnter\", {\n    get: function get() {\n      return this._keyHdl._kaEnter;\n    },\n    set: function set(e) {\n      this._keyHdl._kaEnter = asEnum(e, KeyAction);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveWhiteSpace\", {\n    get: function get() {\n      return hasClass(this.hostElement, FlexGrid._WJS_WSPRE);\n    },\n    set: function set(e) {\n      toggleClass(this.hostElement, FlexGrid._WJS_WSPRE, asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showDropDown\", {\n    get: function get() {\n      return this._shDropDown;\n    },\n    set: function set(e) {\n      if (e != this._shDropDown) {\n        this._shDropDown = asBoolean(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.toggleDropDownList = function () {\n    if (!this._tglDropDown) {\n      this._tglDropDown = !0;\n\n      this._edtHdl._toggleListBox(null);\n\n      this._tglDropDown = !1;\n    }\n\n    return null != this._edtHdl._lbx;\n  };\n\n  Object.defineProperty(FlexGrid, \"defaultTypeWidth\", {\n    get: function get() {\n      return FlexGrid._defTypeWidth;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.onItemsSourceChanging = function (e) {\n    this.itemsSourceChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onItemsSourceChanged = function (e) {\n    this.itemsSourceChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onScrollPositionChanged = function (e) {\n    this.scrollPositionChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onSelectionChanging = function (e) {\n    this.selectionChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onSelectionChanged = function (e) {\n    this.selectionChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onLoadingRows = function (e) {\n    this.loadingRows.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onLoadedRows = function (e) {\n    this.loadedRows.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onUpdatingLayout = function (e) {\n    this.updatingLayout.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onUpdatedLayout = function (e) {\n    this.updatedLayout.raise(this, e);\n  };\n\n  FlexGrid.prototype.onResizingColumn = function (e) {\n    this.resizingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onResizedColumn = function (e) {\n    this.resizedColumn.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onAutoSizingColumn = function (e) {\n    this.autoSizingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onAutoSizedColumn = function (e) {\n    this.autoSizedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onStarSizedColumns = function (e) {\n    this.starSizedColumns.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onDraggingColumn = function (e) {\n    this.draggingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggingColumnOver = function (e) {\n    this.draggingColumnOver.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggedColumn = function (e) {\n    this.draggedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPinningColumn = function (e) {\n    this.pinningColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPinnedColumn = function (e) {\n    this.pinnedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onResizingRow = function (e) {\n    this.resizingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onResizedRow = function (e) {\n    this.resizedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onAutoSizingRow = function (e) {\n    this.autoSizingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onAutoSizedRow = function (e) {\n    this.autoSizedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onDraggingRow = function (e) {\n    this.draggingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggingRowOver = function (e) {\n    this.draggingRowOver.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggedRow = function (e) {\n    this.draggedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onGroupCollapsedChanging = function (e) {\n    this.groupCollapsedChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onGroupCollapsedChanged = function (e) {\n    this.groupCollapsedChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onColumnGroupCollapsedChanging = function (e) {\n    this.columnGroupCollapsedChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onColumnGroupCollapsedChanged = function (e) {\n    this.columnGroupCollapsedChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onSortingColumn = function (e) {\n    this.sortingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onSortedColumn = function (e) {\n    this.sortedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onBeginningEdit = function (e) {\n    this.beginningEdit.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPrepareCellForEdit = function (e) {\n    this.prepareCellForEdit.raise(this, e);\n  };\n\n  FlexGrid.prototype.onCellEditEnding = function (e) {\n    this.cellEditEnding.raise(this, e);\n    return !e.cancel && !e.stayInEditMode;\n  };\n\n  FlexGrid.prototype.onCellEditEnded = function (e) {\n    this.cellEditEnded.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onRowEditStarting = function (e) {\n    this.rowEditStarting.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onRowEditStarted = function (e) {\n    this.rowEditStarted.raise(this, e);\n  };\n\n  FlexGrid.prototype.onRowEditEnding = function (e) {\n    this.rowEditEnding.raise(this, e);\n  };\n\n  FlexGrid.prototype.onRowEditEnded = function (e) {\n    this.rowEditEnded.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onRowAdded = function (e) {\n    this.rowAdded.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDeletingRow = function (e) {\n    this.deletingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDeletedRow = function (e) {\n    this.deletedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onCopying = function (e) {\n    this.copying.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onCopied = function (e) {\n    this.copied.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPasting = function (e) {\n    this.pasting.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPasted = function (e) {\n    this.pasted.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPastingCell = function (e) {\n    this.pastingCell.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPastedCell = function (e) {\n    this.pastedCell.raise(this, e);\n  };\n\n  FlexGrid.prototype.onFormatItem = function (e) {\n    this.formatItem.raise(this, e);\n  };\n\n  FlexGrid.prototype.onUpdatingView = function (e) {\n    this.updatingView.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onUpdatedView = function (e) {\n    this.updatedView.raise(this, e);\n  };\n\n  FlexGrid.prototype._getTabIndex = function () {\n    return this._orgTabIndex;\n  };\n\n  FlexGrid.prototype._autoRowHeights = function () {\n    var e = this;\n\n    if (this._autoHeights) {\n      this.rows.length > 100 && [this.columnHeaders, this.rowHeaders].forEach(function (e) {\n        e._updateContent(!0, !1, e._getOffsetY());\n      });\n      clearTimeout(this._toAutoHeights);\n      this._toAutoHeights = setTimeout(function () {\n        e._toAutoHeights = null;\n\n        if (!e.editRange) {\n          var t = e.autoSizeMode,\n              i = AutoSizeMode;\n\n          if (t & i.Headers) {\n            e._autoSizeMode = i.Both;\n            e.autoSizeRows(0, e.columnHeaders.rows.length - 1, !0);\n            e._autoSizeMode = t;\n          }\n\n          t & i.Cells && e.autoSizeRows();\n        }\n      }, Control._REFRESH_INTERVAL);\n    }\n  };\n\n  FlexGrid.prototype._getShowErrors = function () {\n    return this.showErrors && this._hasValidation;\n  };\n\n  FlexGrid.prototype._getHasValidation = function () {\n    return this._hasValidation;\n  };\n\n  FlexGrid.prototype._getError = function (e, t, i, o) {\n    if (isFunction(this.itemValidator)) {\n      if (e == this.cells) return this.itemValidator(t, i, o);\n      if (e == this.rowHeaders) for (i = 0; i < this.columns.length; i++) {\n        if (d = this.itemValidator(t, i, o)) return d;\n      }\n    }\n\n    var n = this._cv,\n        r = n ? n.getError : null;\n\n    if (isFunction(r)) {\n      var l = e.rows,\n          s = this.columns,\n          a = l[t].dataItem;\n      if (a && !(a instanceof CollectionViewGroup)) if (e == this.cells) for (; t < l.length && l[t].dataItem == a; t++) {\n        return r(a, this._getBindingColumn(this.cells, t, s[i]).binding, o);\n      } else if (e == this.rowHeaders) {\n        var d;\n\n        if (!(d = r(a, null))) {\n          for (var c = []; t < l.length && l[t].dataItem == a; t++) {\n            for (i = 0; i < s.length; i++) {\n              (d = r(a, this._getBindingColumn(this.cells, t, s[i]).binding)) && c.indexOf(d) < 0 && c.push(d);\n            }\n          }\n\n          if (c.length) {\n            var u = this.errorTip,\n                h = !!u && u.isContentHtml;\n            d = c.join(h ? \"<br/>\" : \"\\n\");\n          }\n        }\n\n        return d;\n      }\n    }\n\n    return null;\n  };\n\n  FlexGrid.prototype._setAria = function (e, t) {\n    setAttribute(this.cells.hostElement, \"aria-\" + e, t);\n  };\n\n  FlexGrid.prototype._setFocus = function (e) {\n    if (this.hostElement && (e || !this.containsFocus())) {\n      var t = getActiveElement(),\n          i = this.activeEditor,\n          o = this._activeCell,\n          n = this._eFocus,\n          r = this._root,\n          l = this._getTabIndex();\n\n      if (i) {\n        if (!contains(i, t)) {\n          i.focus();\n          n.tabIndex = -1;\n        }\n      } else if (o) {\n        if (!contains(o, t) && t != this._root) {\n          isIE() && hasClass(o, \"wj-group\") && (o = o.querySelector(\".\" + CellFactory._WJC_COLLAPSE) || o);\n          o.tabIndex = l;\n\n          this._setFocusNoScroll(o);\n\n          n.tabIndex = -1;\n        }\n      } else if (!contains(n, t) && t != r) {\n        n.tabIndex = l;\n\n        this._setFocusNoScroll(n);\n      }\n\n      if (!this.containsFocus()) {\n        n.tabIndex = l;\n\n        this._setFocusNoScroll(n);\n      }\n    }\n  };\n\n  FlexGrid.prototype._setFocusNoScroll = function (e) {\n    if (getActiveElement() != e) {\n      if (supportsFocusOptions()) e.focus({\n        preventScroll: !0\n      });else {\n        var t = this.scrollPosition,\n            i = e.style,\n            o = i.position;\n        i.position = \"fixed\";\n        e.focus();\n        i.position = o;\n        this.scrollPosition = t;\n      }\n\n      this._fixScroll();\n    }\n  };\n\n  FlexGrid.prototype._getDefaultRowHeight = function () {\n    var e = this.hostElement,\n        t = this._eFocus,\n        i = null;\n\n    if (!t.offsetHeight) {\n      i = createElement('<div><div class=\"wj-cell\">0</div></div>', document.body);\n      e && i.setAttribute(\"class\", e.getAttribute(\"class\"));\n      t = i.children[0];\n    }\n\n    var o = t.offsetHeight;\n    (isNaN(o) || o <= 6) && (o = 28);\n    removeChild(i);\n    return o;\n  };\n\n  FlexGrid.prototype._getCollectionView = function (e) {\n    return asCollectionView(e);\n  };\n\n  FlexGrid.prototype._getCanvasContext = function () {\n    var e = document.createElement(\"canvas\").getContext(\"2d\"),\n        t = getComputedStyle(this.hostElement);\n    e.font = t.fontSize + \" \" + t.fontFamily.split(\",\")[0];\n    return e;\n  };\n\n  FlexGrid.prototype._getWidestRow = function (e, t, i, o) {\n    for (var n = 0, r = 0, l = 1 === this._getRowsPerItem() && e.columns[i].dataType == DataType.Boolean, s = t.row; s <= t.row2; s++) {\n      if (e.rows[s].isVisible) {\n        var a = e.getCellData(s, i, !0),\n            d = o.measureText(a).width,\n            c = this.getMergedRange(e, s, i, !1);\n        c && c.columnSpan > 1 && (d /= c.columnSpan);\n\n        if (d > r) {\n          r = d;\n          n = s;\n        }\n\n        if (l) break;\n        s += c ? c.rowSpan - 1 : 0;\n      }\n    }\n\n    return n;\n  };\n\n  FlexGrid.prototype._getDesiredWidth = function (e, t, i, o) {\n    var n = this.getMergedRange(e, t, i, !1),\n        r = o.style;\n    this.cellFactory.updateCell(e, t, i, o, n);\n    r.width = r.top = r.left = \"\";\n    return o.offsetWidth / (n && n.columnSpan > 1 ? n.columnSpan : 1);\n  };\n\n  FlexGrid.prototype._getDesiredHeight = function (e, t, i, o) {\n    var n = o.style,\n        r = this.getMergedRange(e, t, i, !1),\n        l = r ? r.rowSpan : 1;\n    this.cellFactory.updateCell(e, t, i, o, r);\n    o.innerHTML.trim() || (o.innerHTML = \"&nbsp;\");\n    n.height = n.top = n.left = \"\";\n    return o.offsetHeight / l;\n  };\n\n  FlexGrid.prototype._getDesiredRowHeight = function (e, t, i, o) {\n    for (var n = 0, r = (e.rows[t], this._getQuickAutoSize()), l = 0; l < e.columns.length; l++) {\n      if (e.columns[l].isVisible) {\n        var s = this.getMergedRange(e, t, l, !1),\n            a = void 0;\n\n        if (r) {\n          var d = {\n            ct: e.cellType,\n            col: l,\n            spr: s && s.rowSpan > 1 ? s.rowSpan : 1,\n            spc: s && s.columnSpan > 1 ? s.columnSpan : 1,\n            data: e.getCellData(t, l, !0) || \"1\"\n          },\n              c = JSON.stringify(d);\n\n          if (null == (a = o[c])) {\n            a = this._getDesiredHeight(e, t, l, i);\n            o[c] = a;\n          }\n        } else a = this._getDesiredHeight(e, t, l, i);\n\n        n = Math.max(a, n);\n        l += s ? s.columnSpan - 1 : 0;\n      }\n    }\n\n    return n;\n  };\n\n  FlexGrid.prototype._getSortRowIndex = function () {\n    return null != this._sortRowIndex ? this._sortRowIndex : this.columnHeaders.rows.length - 1;\n  };\n\n  FlexGrid.prototype._getDeleteColumnIndex = function () {\n    return 0;\n  };\n\n  FlexGrid.prototype._getEditColumnIndex = function () {\n    return null != this._editColIndex ? this._editColIndex : this.rowHeaders.columns.length - 1;\n  };\n\n  FlexGrid.prototype._sortConverter = function (e, t, i, o) {\n    var n,\n        r = this;\n\n    if (o) {\n      this._mappedColumns = null;\n      this._cv && this._cv.sortDescriptions.forEach(function (e) {\n        if ((n = r.getColumn(e.property)) && n.dataMap) {\n          r._mappedColumns || (r._mappedColumns = {});\n          r._mappedColumns[n.binding] = n.dataMap;\n        }\n      });\n\n      if (this._mouseHdl._htDown && this._mouseHdl._htDown.col > -1) {\n        n = this.columns[this._mouseHdl._htDown.col];\n        this._mappedColumns && n.dataMap && (this._mappedColumns[n.binding] = n.dataMap);\n      }\n    }\n\n    if (this._mappedColumns) {\n      var l = this._mappedColumns[e.property];\n      l && l.sortByDisplayValues && (i = l.getDisplayValue(i));\n    }\n\n    return i;\n  };\n\n  FlexGrid.prototype._bindGrid = function (e) {\n    var t = this;\n    this.finishEditing();\n    this.deferUpdate(function () {\n      t.autoGenerateColumns && 0 == t._lastCount && hasItems(t._cv) && (e = !0);\n      var i, o;\n      t.preserveSelectedState && (i = t._getMap()) && t.rows.forEach(function (e) {\n        e.isSelected && e.dataItem && i.set(e.dataItem, !0);\n      });\n      if (t.preserveOutlineState && t.rows.maxGroupLevel > -1 && (o = t._getMap())) for (var n = 0; n < t.rows.length; n++) {\n        var r = t.rows[n];\n\n        if (r instanceof GroupRow && r.isCollapsed && r.dataItem) {\n          var l = r.dataItem;\n          l instanceof CollectionViewGroup && (l = l._path);\n          o.set(l, !0);\n        }\n      }\n      e && t.columns.deferUpdate(function () {\n        t._bindColumns();\n      });\n      var s = new CancelEventArgs();\n\n      if (t.onLoadingRows(s)) {\n        t.rows.deferUpdate(function () {\n          t._bindRows();\n        });\n        t.onLoadedRows(s);\n      }\n\n      t._selHdl.extendedSelection.clear();\n\n      var a = 0;\n      i && i.size && t.rows.forEach(function (e) {\n        var t = e.dataItem;\n\n        if (t && i.has(t)) {\n          e.isSelected = !0;\n          a++;\n        }\n      });\n\n      if (0 == a && t._lastCount > 0 && t.selectionMode == SelectionMode.ListBox) {\n        var d = t.selection;\n\n        for (n = d.topRow; n <= d.bottomRow && n > -1 && n < t.rows.length; n++) {\n          t.rows[n].isSelected = !0;\n        }\n      }\n\n      o && o.size && t.rows.deferUpdate(function () {\n        t.rows.forEach(function (e) {\n          if (e instanceof GroupRow) {\n            var t = e.dataItem;\n            t instanceof CollectionViewGroup && (t = t._path);\n            o.has(t) && (e.isCollapsed = !0);\n          }\n        });\n      });\n\n      if (!t._lastCount) {\n        var c = t._cv;\n        c && c.items && (t._lastCount = c.items.length);\n      }\n    });\n\n    if (this._cv) {\n      var i = e && !this._toInv;\n\n      this._syncSelection(i);\n    }\n  };\n\n  FlexGrid.prototype._getMap = function () {\n    return window.Map ? new Map() : null;\n  };\n\n  FlexGrid.prototype._cvCollectionChanged = function (e, t) {\n    if (this.autoGenerateColumns && 0 == this.columns.length) this._bindGrid(!0);else {\n      var i = NotifyCollectionChangedAction;\n      if (this.childItemsPath && t.action != i.Change) this._bindGrid(!1);else {\n        switch (t.action) {\n          case i.Change:\n            this.invalidate();\n            return;\n\n          case i.Add:\n            if (t.index == this._cv.items.length - 1) {\n              var o = this.rows.length;\n              this.rows[o - 1] instanceof _NewRowTemplate && o--;\n              this.rows.insert(o, new Row(t.item));\n              return;\n            }\n\n            assert(!1, \"added item should be the last one.\");\n            break;\n\n          case i.Remove:\n            var n = this._findRow(t.item);\n\n            if (n > -1) {\n              this.rows.removeAt(n);\n\n              this._syncSelection();\n\n              return;\n            }\n\n            assert(!1, \"removed item not found on grid.\");\n        }\n\n        this._bindGrid(!1);\n      }\n    }\n  };\n\n  FlexGrid.prototype._cvCurrentChanged = function (e, t) {\n    this._syncSelection();\n  };\n\n  FlexGrid.prototype._syncSelection = function (e) {\n    if (this._cv && this.selectionMode != SelectionMode.None) {\n      var t = this._selHdl.selection,\n          i = t.row > -1 && t.row < this.rows.length ? this.rows[t.row] : null,\n          o = i ? i.dataItem : null,\n          n = this._cv;\n      if (n instanceof CollectionView && n.isUpdating) return;\n      if (this.newRowAtTop && i instanceof _NewRowTemplate) return;\n      o instanceof CollectionViewGroup && (o = null);\n\n      if (e || o != n.currentItem || t.row >= this.rows.length) {\n        var r = this.editableCollectionView;\n\n        if (!this.childItemsPath || !r || !r.currentAddItem) {\n          var l = this._getRowIndex(n.currentPosition);\n\n          if (l != t.row || !this.childItemsPath) {\n            t = new CellRange(l, t.col, l, t.col2);\n            this.select(t, !1);\n            this.selectionMode && !this._updating && this.scrollIntoView(t.row, -1);\n          }\n        }\n      }\n    }\n  };\n\n  FlexGrid.prototype._getRowIndex = function (e) {\n    if (this._cv) {\n      var t = this.rows;\n\n      if (e > -1) {\n        for (var i = this._cv.items[e]; e < t.length; e++) {\n          if (t[e].dataItem === i) return e;\n        }\n\n        return -1;\n      }\n\n      if (1 == t.length && t[0] instanceof _NewRowTemplate) return 0;\n      var o = this.selection.row,\n          n = o > -1 ? t[o] : null;\n      return n && (n instanceof GroupRow || null == n.dataItem) ? o : -1;\n    }\n\n    return this.selection.row;\n  };\n\n  FlexGrid.prototype._getCvIndex = function (e) {\n    return e > -1 && e < this.rows.length ? this.rows[e].dataIndex : -1;\n  };\n\n  FlexGrid.prototype._findRow = function (e) {\n    for (var t = 0; t < this.rows.length; t++) {\n      if (this.rows[t].dataItem == e) return t;\n    }\n\n    return -1;\n  };\n\n  FlexGrid.prototype._updateLayout = function () {\n    var e = new CancelEventArgs();\n\n    if (this.onUpdatingLayout(e)) {\n      var t = this._hdrVis & HeadersVisibility.Row ? this._hdrCols.getTotalSize() : 0,\n          i = this._hdrVis & HeadersVisibility.Column ? this._hdrRows.getTotalSize() : 0,\n          o = this._ftrRows.getTotalSize(),\n          n = this._rows.getTotalSize() + o;\n\n      n < 1 && (n = 1);\n      this._heightReal = n;\n      this._heightBrowser = Math.min(n, FlexGrid._getMaxSupportedCssHeight());\n      this._maxOffsetY = Math.max(0, n - this._heightBrowser);\n      var r = getComputedStyle(this._eFocus);\n      this._cellPadVert = parseInt(r.paddingTop) + parseInt(r.paddingBottom);\n      this._cellPadHorz = parseInt(r.paddingLeft) + parseInt(r.paddingRight);\n      this._cellPadLeft = parseInt(this.rightToLeft ? r.paddingRight : r.paddingLeft);\n      var l = this._heightBrowser + i - o,\n          s = this._gpCells.width,\n          a = this._heightBrowser;\n      !s && this.rows.length && (s = .1);\n      !a && this.columns.length && (a = .1);\n\n      if (this.rightToLeft) {\n        setCss(this._eTL, {\n          right: 0,\n          top: 0,\n          width: t,\n          height: i\n        });\n        setCss(this._eCHdr, {\n          right: t,\n          top: 0,\n          height: i\n        });\n        setCss(this._eRHdr, {\n          right: 0,\n          top: i,\n          width: t\n        });\n        setCss(this._eCt, {\n          right: t,\n          top: i,\n          width: s,\n          height: a\n        });\n        setCss(this._fCt, {\n          right: t,\n          top: i\n        });\n        setCss(this._eBL, {\n          right: 0,\n          top: l,\n          width: t,\n          height: o\n        });\n        setCss(this._eCFtr, {\n          right: t,\n          top: l,\n          height: o\n        });\n      } else {\n        setCss(this._eTL, {\n          left: 0,\n          top: 0,\n          width: t,\n          height: i\n        });\n        setCss(this._eCHdr, {\n          left: t,\n          top: 0,\n          height: i\n        });\n        setCss(this._eRHdr, {\n          left: 0,\n          top: i,\n          width: t\n        });\n        setCss(this._eCt, {\n          left: t,\n          top: i,\n          width: s,\n          height: a\n        });\n        setCss(this._fCt, {\n          left: t,\n          top: i\n        });\n        setCss(this._eBL, {\n          left: 0,\n          top: l,\n          width: t,\n          height: o\n        });\n        setCss(this._eCFtr, {\n          left: t,\n          top: l,\n          height: o\n        });\n      }\n\n      this._stickyHdr && this._updateStickyHeaders();\n      var d = this.frozenRows || this.frozenColumns ? \"3\" : \"\";\n      setCss([this._eTL, this._eBL, this._eCHdr, this._eCFtr, this._eRHdr, this._eMarquee], {\n        zIndex: d\n      });\n      isIE() && (this._fCt.style.zIndex = d ? \"2\" : \"\");\n      var c = this._root,\n          u = c.offsetWidth - c.clientWidth,\n          h = c.offsetHeight - c.clientHeight;\n      setCss(this._eSz, {\n        width: t + u + this._gpCells.width,\n        height: i + h + this._heightBrowser\n      });\n      var p = null;\n\n      if (this.columns._updateStarSizes(c.clientWidth - t)) {\n        p = c.clientWidth;\n        setCss(this._eCt, {\n          width: this._gpCells.width\n        });\n        this.onStarSizedColumns();\n      }\n\n      this._szClient = new Size(c.clientWidth - t, c.clientHeight - i);\n      this._szClientSB = new Size(c.offsetWidth - t, c.offsetHeight - i);\n      this._rcBounds = null;\n\n      this._updateScrollHandler();\n\n      this._updateContent(!1);\n\n      u = c.offsetWidth - c.clientWidth;\n      h = c.offsetHeight - c.clientHeight;\n      setCss(this._eSz, {\n        width: t + u + this._gpCells.width,\n        height: i + h + this._heightBrowser\n      });\n      this._szClient = new Size(c.clientWidth - t, c.clientHeight - i);\n\n      if (p && p != c.clientWidth && this.columns._updateStarSizes(c.clientWidth - t)) {\n        setCss(this._eCt, {\n          width: this._gpCells.width\n        });\n\n        this._updateContent(!1);\n      }\n\n      setCss([this._eCHdr, this._eCFtr, this._fCt], {\n        width: this._szClient.width\n      });\n      setCss([this._eRHdr, this._fCt], {\n        height: this._szClient.height\n      });\n\n      if (o) {\n        l = Math.min(l, this._szClient.height + i - o);\n        setCss([this._eBL, this._eCFtr], {\n          top: l\n        });\n      }\n\n      this.onUpdatedLayout(e);\n    }\n  };\n\n  FlexGrid.prototype._updateStickyHeaders = function () {\n    var e = !1,\n        t = 0;\n\n    if (this._stickyHdr) {\n      for (var i = 0, o = null, n = this.hostElement; n; n = n.parentElement) {\n        if (\"inline\" != getComputedStyle(n).display) {\n          var r = n.getBoundingClientRect();\n          null == o && (o = r.top);\n          i = Math.max(i, r.top);\n        }\n      }\n\n      t = -(o = Math.max(0, i - o - 1));\n      e = o > 0;\n      this._rcBounds = null;\n    }\n\n    this._eTL.style.top = this._eCHdr.style.top = e ? -t + \"px\" : \"\";\n    toggleClass(this._eTL, FlexGrid._WJS_STICKY, e);\n    toggleClass(this._eCHdr, FlexGrid._WJS_STICKY, e);\n  };\n\n  FlexGrid.prototype._updateScrollHandler = function () {\n    this._clipToScreen = this._getClipToScreen();\n    var e = this._stickyHdr || this._clipToScreen;\n\n    if (e != this._scrollHandlerAttached) {\n      this._scrollHandlerAttached = e;\n      e ? this.addEventListener(window, \"scroll\", this._scroll.bind(this), !0) : this.removeEventListener(window, \"scroll\");\n    }\n  };\n\n  FlexGrid.prototype._getClipToScreen = function () {\n    if (this.rows.length <= FlexGrid._MIN_VIRT_ROWS) return !1;\n    if (this._root.scrollHeight > this._root.clientHeight) return !1;\n\n    for (var e = this.hostElement; e && e != document.documentElement; e = e.parentElement) {\n      if (\"auto\" == getComputedStyle(e).overflow) return !1;\n    }\n\n    return !0;\n  };\n\n  FlexGrid.prototype._scroll = function (e) {\n    var t = this;\n\n    if (contains(e.target, this.hostElement)) {\n      if (this._clipToScreen) {\n        this._afClip && cancelAnimationFrame(this._afClip);\n        this._afClip = requestAnimationFrame(function () {\n          t._afClip = null;\n          t.finishEditing();\n\n          t._updateContent(!0);\n        });\n      }\n\n      if (this._stickyHdr) {\n        this._afSticky && cancelAnimationFrame(this._afSticky);\n        this._afSticky = requestAnimationFrame(function () {\n          t._afSticky = null;\n          var e = new CancelEventArgs();\n\n          if (t.onUpdatingLayout(e)) {\n            t._updateStickyHeaders();\n\n            t.onUpdatedLayout(e);\n          }\n        });\n      }\n    }\n  };\n\n  FlexGrid.prototype._getCssPage = function (e) {\n    if (this._heightReal > this._heightBrowser) {\n      var t = this._szClient.height - this._gpCFtr.rows.getTotalSize();\n\n      if (this._heightBrowser > t) return clamp(Math.round(e / (this._heightBrowser - t) * 10) / 10, 0, 1);\n    }\n\n    return 0;\n  };\n\n  FlexGrid.prototype._updateScrollPosition = function () {\n    var e = this._root,\n        t = e.scrollTop,\n        i = e.scrollLeft;\n    this.rightToLeft && \"rev\" == FlexGrid._getRtlMode() && (i = e.scrollWidth - e.clientWidth - i);\n    var o = new Point(-Math.abs(i), -t);\n\n    if (!this._ptScrl.equals(o)) {\n      this._ptScrl = o;\n      this.onScrollPositionChanged();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype._updateContent = function (e, t) {\n    var i = this,\n        o = this._root,\n        n = this.hostElement,\n        r = this.cells.hostElement,\n        l = this._activeCell,\n        s = getActiveElement(),\n        a = contains(n, s),\n        d = closest(s, \".wj-flexgrid\") == n ? s : null,\n        c = new CancelEventArgs();\n\n    if (this.onUpdatingView(c)) {\n      setAttribute(r, \"role\", this.rows.maxGroupLevel < 0 ? \"grid\" : \"treegrid\");\n      this._hasValidation = isFunction(this._itemValidator) || this._cv && isFunction(this._cv.getError);\n\n      var u = !t && this._errorTip && this._errorTip._tips.length,\n          h = this._getCssPage(-this._ptScrl.y);\n\n      if (h != this._cssPage) {\n        this._cssPage = h;\n        this._offsetY = Math.round(this._maxOffsetY * h);\n      }\n\n      this._updateScrollPosition();\n\n      this._updateMarquee();\n\n      var p = this._gpCells._updateContent(e, t, this._offsetY),\n          g = this._hdrVis;\n\n      if (g & HeadersVisibility.Column && (!t || this._ssHdr & g)) {\n        this._gpCHdr._updateContent(e, t, 0);\n\n        this.rightToLeft || (this._eCHdr.scrollLeft = 0);\n      }\n\n      if (g & HeadersVisibility.Row && (!t || this._ssHdr & g)) {\n        this._gpRHdr._updateContent(e, t, this._offsetY);\n\n        this._eRHdr.scrollTop = 0;\n      }\n\n      g && !t && this._gpTL._updateContent(e, t, 0);\n\n      if (this._gpCFtr.rows.length) {\n        this._gpBL._updateContent(e, t, 0);\n\n        this._gpCFtr._updateContent(e, t, 0);\n      }\n\n      if (u && this._errorTip && this._errorTip._tips.length) {\n        clearTimeout(this._toErrorTips);\n        this._toErrorTips = setTimeout(function () {\n          var e = i._errorTip;\n\n          if (e) {\n            e.hide();\n\n            for (var t = e._tips, o = 0; o < t.length; o++) {\n              var n = t[o].element;\n\n              if (!n.offsetHeight || !hasClass(n, \"wj-state-invalid\")) {\n                e.setTooltip(n, null);\n                o--;\n              }\n            }\n          }\n        }, 250);\n      }\n\n      if (this._useFrozenDiv()) {\n        this._updateFrozenCells(t);\n\n        p && hasClass(p, \"wj-frozen\") && (p = null);\n      }\n\n      this._fCt.style.display = this._fCt.childElementCount ? \"\" : \"none\";\n      this._activeCell = p;\n      if (d) if (d != o && d != this._eFocus && contains(n, d) && !contains(r, d)) {\n        getActiveElement() !== d && d.focus();\n\n        if (isIE() && d instanceof HTMLInputElement && !d.type.match(/checkbox|radio|range/i)) {\n          var f = d.selectionStart,\n              _ = d.selectionEnd;\n          d.setSelectionRange(f, _);\n        }\n      } else {\n        var m = p !== l;\n\n        this._setFocus(m);\n      }\n      !d && p && (p.tabIndex = this.isDisabled ? -1 : this._orgTabIndex);\n      l && l != p && (l.tabIndex = -1);\n      this._eFocus.tabIndex = null != p || this.isDisabled ? -1 : this._orgTabIndex;\n      a && this.focus();\n\n      this._fixScroll();\n\n      this._rcBounds = null;\n      this.onUpdatedView(c);\n    }\n  };\n\n  FlexGrid.prototype._fixScroll = function () {\n    var e = this._root;\n\n    if (!this._updating) {\n      var t = this.hostElement,\n          i = e ? e.parentElement : null,\n          o = this.rightToLeft;\n\n      if (t) {\n        t.scrollTop && (t.scrollTop = 0);\n        t.scrollLeft && !o && (t.scrollLeft = 0);\n      }\n\n      if (i) {\n        i.scrollTop && (i.scrollTop = 0);\n        i.scrollLeft && !o && (i.scrollLeft = 0);\n      }\n    }\n\n    if (isSafari() && e) {\n      e.style.transform = \"\";\n      e.style.transform = \"translateZ(0)\";\n    }\n  };\n\n  FlexGrid.prototype._clearCells = function () {\n    for (var e in this) {\n      if (\"_\" == e[0]) {\n        var t = this[e];\n        t instanceof GridPanel && t._clearCells();\n      }\n    }\n\n    this.invalidate();\n  };\n\n  FlexGrid.prototype._useFrozenDiv = function () {\n    return isBoolean(this._fzClone) ? this._fzClone : isIE() || isFirefox() || isSafari() || isMobile();\n  };\n\n  FlexGrid.prototype._updateFrozenCells = function (e) {\n    var t = this._fCt;\n\n    if (this.frozenRows || this.frozenColumns) {\n      var i = this._eCt.querySelectorAll(\".wj-frozen\");\n\n      if (e && t.children.length == i.length) {\n        for (var o = 0; o < i.length; o++) {\n          t.children[o].className = i[o].className;\n        }\n\n        return;\n      }\n\n      setText(t, null);\n\n      if (!this.activeEditor) {\n        var n = this._errorTip,\n            r = navigator.userAgent.indexOf(\"MSIE\") >= 0;\n\n        for (o = 0; o < i.length; o++) {\n          var l = i[o];\n\n          if (closest(l, \".wj-flexgrid\") == this.hostElement) {\n            var s = l[GridPanel._INDEX_KEY];\n\n            if (r) {\n              var a = \"input[type=checkbox]\",\n                  d = l.querySelector(a);\n              l = l.cloneNode(!0);\n\n              if (d) {\n                l.querySelector(a).checked = d.checked;\n              }\n            } else l = l.cloneNode(!0);\n\n            l[GridPanel._INDEX_KEY] = s;\n\n            if (n) {\n              var c = n.getTooltip(i[o]);\n              c && n.setTooltip(l, c);\n            }\n\n            t.appendChild(l);\n          }\n        }\n      }\n    } else setText(t, null);\n  };\n\n  FlexGrid.prototype._updateMarquee = function () {\n    var e = this._eMarquee,\n        t = this._getMarqueeRect();\n\n    if (t && t.width && t.height) {\n      var i = e.firstChild,\n          o = e.offsetWidth - i.offsetWidth,\n          n = e.offsetHeight - i.offsetHeight,\n          r = this.cells.hostElement;\n      setCss(e, {\n        left: t.left + r.offsetLeft - o / 2,\n        top: t.top + r.offsetTop - n / 2,\n        width: t.width + o,\n        height: t.height + n,\n        display: \"\"\n      });\n    } else e.style.display = \"none\";\n  };\n\n  FlexGrid.prototype._getMarqueeRect = function () {\n    if (!this._shMarquee || !this.selectionMode) return null;\n    var e = this._selHdl.selection;\n    if (!this.isRangeValid(e)) return null;\n    e = (e = (e = this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells, e.topRow, e.leftCol, !1))).combine(this.getMergedRange(this.cells, e.bottomRow, e.rightCol, !1));\n    var t = this.cells.getCellBoundingRect(e.topRow, e.leftCol, !0),\n        i = this.cells.getCellBoundingRect(e.bottomRow, e.rightCol, !0);\n\n    if (this.rows.frozen) {\n      var o = Math.min(this.rows.length, this.rows.frozen),\n          n = this.cells.getCellBoundingRect(o - 1, 0, !0);\n      e.topRow >= o && t.top < n.bottom && (t.top = n.bottom);\n      e.bottomRow >= o && i.bottom < n.bottom && (i.height = n.bottom - i.top);\n    }\n\n    if (this.columns.frozen) {\n      var r = Math.min(this.columns.length, this.columns.frozen);\n      n = this.cells.getCellBoundingRect(0, r - 1, !0);\n\n      if (this.rightToLeft) {\n        e.leftCol >= r && t.right > n.left && (t.left = n.left - t.width);\n        e.rightCol >= r && i.left > n.left && (i.left = n.left);\n      } else {\n        e.leftCol >= r && t.left < n.right && (t.left = n.right);\n        e.rightCol >= r && i.right < n.right && (i.width = n.right - i.left);\n      }\n    }\n\n    return this.rightToLeft ? new Rect(i.left, t.top, t.right - i.left, i.bottom - t.top) : new Rect(t.left, t.top, i.right - t.left, i.bottom - t.top);\n  };\n\n  FlexGrid.prototype._bindColumns = function () {\n    for (var e = this.columns, t = 0; t < e.length; t++) {\n      if (e[t]._getFlag(RowColFlags.AutoGenerated)) {\n        e.removeAt(t);\n        t--;\n      }\n    }\n\n    var i = this._cv,\n        o = i ? i.items : null;\n    o && o.length && this.autoGenerateColumns && this._getColumnTypes(o).forEach(function (t) {\n      var i = new Column(t);\n\n      i._setFlag(RowColFlags.AutoGenerated, !0);\n\n      i.name = i.binding;\n      i.header = toHeaderCase(i.binding);\n      var o = FlexGrid._defTypeWidth[i.dataType];\n\n      if (null != o) {\n        if (isString(o)) {\n          var n = Math.round(parseFloat(o));\n          o = o.indexOf(\"*\") > -1 ? n * e.defaultSize : n;\n        }\n\n        isNumber(o) && o > 0 && (i.width = o);\n      }\n\n      e.push(i);\n    });\n\n    this._updateColumnTypes();\n  };\n\n  FlexGrid.prototype._getColumnTypes = function (e) {\n    return getTypes(e);\n  };\n\n  FlexGrid.prototype._updateColumnTypes = function () {\n    var e = this._cv;\n\n    if (hasItems(e)) {\n      var t = e.items[0];\n      this.columns.forEach(function (e) {\n        null == e.dataType && e._binding && (e.dataType = getType(e._binding.getValue(t)));\n      });\n    }\n  };\n\n  FlexGrid.prototype._getMapEditor = function (e, t) {\n    return t.editor ? null != t.editor.isDroppedDown ? t.dataMapEditor : null : !e.dataMap || e instanceof GroupRow ? t.dataMap ? t.dataMapEditor : null : e.dataMapEditor;\n  };\n\n  FlexGrid.prototype._getBindingColumn = function (e, t, i) {\n    return i;\n  };\n\n  FlexGrid.prototype._getBindingColumns = function () {\n    return this.columns;\n  };\n\n  FlexGrid.prototype._getRowsPerItem = function () {\n    return 1;\n  };\n\n  FlexGrid.prototype._getRowHeaderPath = function () {\n    return this._rowHdrPath;\n  };\n\n  FlexGrid.prototype._bindRows = function () {\n    this.rows.clear();\n    var e = this._cv;\n\n    if (e && e.items) {\n      var t = e.items,\n          i = e.groups;\n      if (this.childItemsPath) for (var o = 0; o < t.length; o++) {\n        this._addNode(t, o, 0);\n      } else if (null != i && i.length > 0 && this.showGroups) for (o = 0; o < i.length; o++) {\n        this._addGroup(i[o]);\n      } else for (o = 0; o < t.length; o++) {\n        this._addBoundRow(t, o);\n      }\n    }\n  };\n\n  FlexGrid.prototype._addBoundRow = function (e, t) {\n    var i = new Row(e[t]),\n        o = this.rows;\n    i._list = o;\n    o[o.length++] = i;\n  };\n\n  FlexGrid.prototype._addGroupRow = function (e) {\n    this.rows.push(new GroupRow(e));\n  };\n\n  FlexGrid.prototype._addNode = function (e, t, i) {\n    var o = e[t],\n        n = this.childItemsPath,\n        r = o[isArray(n) ? n[i] : n],\n        l = new GroupRow(o);\n    l.level = i;\n    this.rows.push(l);\n    if (isArray(r)) for (var s = 0; s < r.length; s++) {\n      this._addNode(r, s, i + 1);\n    }\n  };\n\n  FlexGrid.prototype._addGroup = function (e) {\n    this._addGroupRow(e);\n\n    if (e.isBottomLevel) for (var t = e.items, i = 0; i < t.length; i++) {\n      this._addBoundRow(t, i);\n    } else for (i = 0; i < e.groups.length; i++) {\n      this._addGroup(e.groups[i]);\n    }\n  };\n\n  FlexGrid._getSerializableProperties = function (e) {\n    var t = [];\n\n    for (e = e.prototype; e != Object.prototype; e = Object.getPrototypeOf(e)) {\n      for (var i = Object.getOwnPropertyNames(e), o = 0; o < i.length; o++) {\n        var n = i[o],\n            r = Object.getOwnPropertyDescriptor(e, n);\n        r && r.set && r.get && \"_\" != n[0] && !n.match(/^(disabled|required|showDropDown)$/) && t.push(n);\n      }\n    }\n\n    return t;\n  };\n\n  FlexGrid.prototype._hasColumnGroups = function () {\n    return this._grpHdl.hasColumnGroups();\n  };\n\n  FlexGrid.prototype._getColumnGroup = function (e, t) {\n    return this._grpHdl.getColumnGroup(e, t);\n  };\n\n  FlexGrid.prototype._copy = function (e, t) {\n    var i = this;\n\n    if (\"columns\" == e) {\n      var o = asArray(t);\n      if (o.some(function (e) {\n        return null != e.columns;\n      })) this.columnGroups = o;else {\n        this.columns.clear();\n        o.forEach(function (e) {\n          var t = new Column(e);\n          i.columns.push(t);\n        });\n      }\n      return !0;\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype._isInputElement = function (e) {\n    return e instanceof HTMLElement && !hasClass(e, \"wj-btn-glyph\") && (\"true\" == e.contentEditable || null != e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i));\n  };\n\n  FlexGrid.prototype._isNativeCheckbox = function (e) {\n    return e instanceof HTMLInputElement && \"checkbox\" == e.type && !e.disabled && !e.readOnly && hasClass(e, CellFactory._WJC_CHECKBOX) && closest(e, \".wj-flexgrid\") == this.hostElement;\n  };\n\n  FlexGrid.prototype._wantsInput = function (e) {\n    return this._isInputElement(e) && !this.activeEditor && !this._isNativeCheckbox(e) && !hasClass(e, \"wj-grid-ime\") && contains(document.body, e);\n  };\n\n  FlexGrid._getMaxSupportedCssHeight = function () {\n    if (!FlexGrid._maxCssHeight) {\n      var e = 265e5;\n      isIE() ? e = 15e5 : isFirefox() && (e = 175e5);\n      FlexGrid._maxCssHeight = e;\n    }\n\n    return FlexGrid._maxCssHeight;\n  };\n\n  FlexGrid._getRtlMode = function () {\n    if (!FlexGrid._rtlMode) {\n      var e = createElement('<div dir=\"rtl\"><div></div></div>');\n      setCss(e, {\n        visibility: \"hidden\",\n        width: 100,\n        height: 100,\n        overflow: \"auto\"\n      });\n      setCss(e.firstChild, {\n        width: 2e3,\n        height: 2e3\n      });\n      document.body.appendChild(e);\n      var t = e.scrollLeft;\n      e.scrollLeft = -1e3;\n      var i = e.scrollLeft;\n      removeChild(e);\n      FlexGrid._rtlMode = i < 0 ? \"neg\" : t > 0 ? \"rev\" : \"std\";\n    }\n\n    return FlexGrid._rtlMode;\n  };\n\n  FlexGrid._WJS_STICKY = \"wj-state-sticky\";\n  FlexGrid._WJS_MEASURE = \"wj-state-measuring\";\n  FlexGrid._WJS_UPDATING = \"wj-state-updating\";\n  FlexGrid._WJS_WSPRE = \"wj-whitespace-pre\";\n  FlexGrid._MIN_VIRT_ROWS = 200;\n  FlexGrid._defTypeWidth = ((_a = {})[DataType.Number] = \"0.714285714*\", _a);\n  FlexGrid.controlTemplate = '<div><div wj-part=\"root\"><div wj-part=\"cells\" class=\"wj-cells\"></div><div wj-part=\"marquee\" class=\"wj-marquee\"><div></div></div></div><div wj-part=\"fcells\" aria-hidden=\"true\" class=\"wj-cells wj-frozen-clone\"></div><div wj-part=\"rh\"><div wj-part=\"rhcells\" class=\"wj-rowheaders\"></div></div><div wj-part=\"cf\"><div wj-part=\"cfcells\" class=\"wj-colfooters\"></div></div><div wj-part=\"ch\"><div wj-part=\"chcells\" class=\"wj-colheaders\"></div></div><div wj-part=\"bl\"><div wj-part=\"blcells\" class=\"wj-bottomleft\"></div></div><div wj-part=\"tl\"><div wj-part=\"tlcells\" class=\"wj-topleft\"></div></div><div wj-part=\"focus\" class=\"wj-cell\">0</div><div wj-part=\"sz\"></div></div>';\n  return FlexGrid;\n}(Control);\n\nexport { FlexGrid };\n\nvar _ImeHandler = function () {\n  function _ImeHandler(e) {\n    this._updateImeFocusAsyncBnd = this._updateImeFocusAsync.bind(this);\n    this._cmpstartBnd = this._compositionstart.bind(this);\n    this._keypressBnd = this._keypress.bind(this);\n    this._g = e;\n    var t = createElement('<textarea class=\"wj-grid-editor wj-form-control wj-grid-ime\" aria-hidden=\"true\"/>');\n    setCss(t, _ImeHandler._cssHidden);\n    disableAutoComplete(t);\n    t.tabIndex = -1;\n    this._tbx = t;\n    this._maskProvider = new _MaskProvider(t);\n\n    e._root.appendChild(t);\n\n    this._updateImeFocus();\n\n    var i = e.hostElement,\n        o = e.addEventListener.bind(e),\n        n = this._updateImeFocusAsyncBnd;\n    o(i, \"blur\", n, !0);\n    o(i, \"focus\", n);\n    o(t, \"compositionstart\", this._cmpstartBnd);\n    isiOS() && o(i, \"keypress\", this._keypressBnd);\n    e.selectionChanged.addHandler(n, this);\n    e.cellEditEnded.addHandler(this._cellEditEnded, this);\n    e.cellEditEnding.addHandler(this._cellEditEnding, this);\n  }\n\n  _ImeHandler.prototype.dispose = function () {\n    var e = this._g,\n        t = e.hostElement,\n        i = this._tbx,\n        o = e.removeEventListener.bind(e),\n        n = this._updateImeFocusAsyncBnd;\n    o(t, \"blur\", n);\n    o(t, \"focus\", n);\n    o(t, \"keypress\", this._keypressBnd);\n    o(i, \"compositionstart\", this._cmpstartBnd);\n    e.selectionChanged.removeHandler(n);\n    e.cellEditEnded.removeHandler(this._cellEditEnded);\n    e.cellEditEnding.removeHandler(this._cellEditEnding);\n    removeChild(i);\n  };\n\n  _ImeHandler.prototype._compositionstart = function (e) {\n    var t = this._g;\n\n    if (!t.activeEditor) {\n      var i = t._selHdl.selection;\n\n      if (t.startEditing(!1, i.row, i.col, !1, e) && t.activeEditor && \"checkbox\" != t.activeEditor.type) {\n        i = t.editRange;\n        var o = t.activeEditor,\n            n = this._tbx,\n            r = t.cells.hostElement,\n            l = t.columns[i.col].pos + r.offsetLeft,\n            s = t.rows[i.row].pos + r.offsetTop,\n            a = t.getCellBoundingRect(i.row, i.col),\n            d = closest(o, \".wj-cell\");\n        a.width = d.offsetWidth;\n        a.height = d.offsetHeight;\n        i.row < t.frozenRows && (s += t._root.scrollTop);\n        i.col < t.frozenColumns && (l += t._root.scrollLeft);\n        var c = d.querySelector(\".wj-btn.wj-right\");\n        c && (a.width -= c.offsetWidth);\n        \"minLength,maxLength,pattern\".split(\",\").forEach(function (e) {\n          setAttribute(n, e, o.getAttribute(e));\n        });\n        var u = o instanceof HTMLTextAreaElement;\n        setAttribute(n, \"wrap\", u ? \"soft\" : \"off\");\n        var h = getComputedStyle(d),\n            p = h.paddingTop;\n\n        if (i.rowSpan > 1 && !u) {\n          var g = parseFloat(h.lineHeight);\n          isNaN(g) && (g = 1.2 * parseFloat(h.fontSize));\n          p = Math.max(0, (a.height - g) / 2) + \"px\";\n        }\n\n        var f = {\n          position: \"absolute\",\n          left: l,\n          top: s,\n          width: a.width - 1,\n          height: a.height - 1,\n          paddingTop: p,\n          paddingLeft: h.paddingLeft,\n          paddingRight: h.paddingRight,\n          textAlign: h.textAlign,\n          zIndex: d.style.zIndex\n        };\n\n        if (t.rightToLeft) {\n          f.right = parseInt(d.style.right) + parseInt(t.cells.hostElement.style.right);\n          f.left = \"\";\n        }\n\n        setCss(n, f);\n        t._edtHdl._edt = n;\n        n.select();\n        var _ = o.value;\n        setTimeout(function () {\n          \"　\" != n.value && \" \" != n.value || (n.value = _);\n          setSelectionRange(n, n.value.length);\n        }, 20);\n        n.placeholder = o.placeholder;\n        o.placeholder = \"\";\n        o.value = \"\";\n      }\n    }\n  };\n\n  _ImeHandler.prototype._cellEditEnding = function () {\n    var e = this._maskProvider;\n    e && e.mask && e._valueChanged();\n  };\n\n  _ImeHandler.prototype._cellEditEnded = function () {\n    var e = this._tbx;\n    e.value = \"\";\n    setCss(e, _ImeHandler._cssHidden);\n\n    this._updateImeFocus();\n  };\n\n  _ImeHandler.prototype._keypress = function (e) {\n    if (!e.defaultPrevented && e.target == this._tbx && !(e.ctrlKey || e.altKey || e.metaKey || 27 == e.keyCode || this._g.activeEditor)) {\n      this._tbx.value = \"\";\n\n      this._compositionstart(e);\n\n      e.stopPropagation();\n    }\n  };\n\n  _ImeHandler.prototype._updateImeFocus = function () {\n    var e = this._g,\n        t = this._tbx,\n        i = getActiveElement(),\n        o = e._getTabIndex();\n\n    if (!e.activeEditor && closest(i, \".wj-flexgrid\") == e.hostElement) if (this._enableIme()) {\n      if (i != t) {\n        e.activeCell && (e.activeCell.tabIndex = -1);\n        t.tabIndex = o;\n        t.disabled = !1;\n        t.value = \"\";\n        setSelectionRange(t, 0);\n        t.focus();\n      }\n\n      var n = e._selHdl.selection,\n          r = n.isValid ? e._getBindingColumn(e.cells, n.row, e.columns[n.col]) : null;\n      this._maskProvider.mask = r ? r.mask : null;\n    } else {\n      t.tabIndex = -1;\n      t.disabled = !0;\n      t.value = \"\";\n      t.blur();\n      var l = e.activeCell;\n\n      if (l) {\n        l.tabIndex = o;\n        l.focus();\n      } else e.focus();\n    }\n  };\n\n  _ImeHandler.prototype._updateImeFocusAsync = function () {\n    var e = this;\n    this._toFocus && clearTimeout(this._toFocus);\n    this._toFocus = setTimeout(function () {\n      e._toFocus = null;\n\n      e._updateImeFocus();\n    }, 100);\n  };\n\n  _ImeHandler.prototype._enableIme = function () {\n    var e = this._g,\n        t = e._selHdl.selection;\n    if (!e.canEditCell(t.row, t.col)) return !1;\n    var i = t.isValid ? e._getBindingColumn(e.cells, t.row, e.columns[t.col]) : null;\n    return !(!i || i.editor || i.dataType == DataType.Boolean) && (!i || !i.dataMap || i.dataMapEditor != DataMapEditor.RadioButtons);\n  };\n\n  _ImeHandler._cssHidden = {\n    position: \"fixed\",\n    width: \"1px\",\n    left: -32e3,\n    top: -32e3,\n    overflow: \"hidden\"\n  };\n  return _ImeHandler;\n}();\n\nexport { _ImeHandler };\n\nvar _AddNewHandler = function () {\n  function _AddNewHandler(e) {\n    this._nrt = new _NewRowTemplate();\n    this._top = !1;\n    this._keydownBnd = this._keydown.bind(this);\n    this._committing = !1;\n    this._g = e;\n\n    this._attach();\n  }\n\n  Object.defineProperty(_AddNewHandler.prototype, \"newRowAtTop\", {\n    get: function get() {\n      return this._top;\n    },\n    set: function set(e) {\n      if (e != this.newRowAtTop) {\n        this._top = asBoolean(e);\n        this.updateNewRowTemplate();\n        var t = this._g;\n\n        if (this._top && t.selectionMode == SelectionMode.ListBox) {\n          t.rows.forEach(function (e, t) {\n            e._setFlag(RowColFlags.Selected, 0 == t, !0);\n          });\n          t.select(0, t.selection.col);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _AddNewHandler.prototype.updateNewRowTemplate = function () {\n    var e = this._g,\n        t = e.editableCollectionView,\n        i = e.rows,\n        o = this._nrt,\n        n = t && t.canAddNew && e.allowAddNew && !e.isReadOnly,\n        r = i.indexOf(o),\n        l = this._top ? 0 : i.length - 1,\n        s = !1;\n\n    if (!n && r > -1) {\n      var a = e.selection;\n      a.row == r && e.select(a.row - 1, a.col);\n      i.removeAt(r);\n    } else if (n) {\n      if (r < 0) s = !0;else if (r != l) {\n        i.removeAt(r);\n        s = !0;\n      }\n      s && (this._top ? i.insert(0, o) : i.push(o));\n\n      if (o) {\n        o._ubv = null;\n\n        o._setFlag(RowColFlags.ParentCollapsed, !1);\n\n        this._top && e.selectionMode == SelectionMode.ListBox || o._setFlag(RowColFlags.Selected, !1);\n      }\n    }\n  };\n\n  _AddNewHandler.prototype._attach = function () {\n    var e = this._g;\n\n    if (e) {\n      e.beginningEdit.addHandler(this._beginningEdit, this);\n      e.pastingCell.addHandler(this._beginningEdit, this);\n      e.rowEditEnded.addHandler(this._rowEditEnded, this);\n      e.loadedRows.addHandler(this.updateNewRowTemplate, this);\n      e.hostElement.addEventListener(\"keydown\", this._keydownBnd, !0);\n    }\n  };\n\n  _AddNewHandler.prototype._detach = function () {\n    var e = this._g;\n\n    if (e) {\n      e.beginningEdit.removeHandler(this._beginningEdit);\n      e.pastingCell.removeHandler(this._beginningEdit);\n      e.rowEditEnded.removeHandler(this._rowEditEnded);\n      e.loadedRows.removeHandler(this.updateNewRowTemplate);\n      e.hostElement.removeEventListener(\"keydown\", this._keydownBnd, !0);\n    }\n  };\n\n  _AddNewHandler.prototype._keydown = function (e) {\n    if (!e.defaultPrevented && e.keyCode == Key.Escape && null == this._g.activeEditor && this._top && this._nrt.dataItem) {\n      this._nrt.dataItem = null;\n\n      this._g.invalidate();\n    }\n  };\n\n  _AddNewHandler.prototype._beginningEdit = function (e, t) {\n    if (!t.cancel) {\n      var i = e.rows[t.row];\n\n      if (i instanceof _NewRowTemplate) {\n        var o = e.editableCollectionView;\n        if (o && o.canAddNew) if (this._top) {\n          if (null == this._nrt.dataItem) {\n            var n = null,\n                r = o.sourceCollection,\n                l = o.newItemCreator;\n            n = isFunction(l) ? l() : r && r.length ? new r[0].constructor() : {};\n            this._nrt.dataItem = n;\n          }\n        } else {\n          n = o.currentAddItem && o.currentAddItem == i.dataItem ? o.currentAddItem : o.addNew();\n          o.moveCurrentTo(n);\n          var s = this._nrt.isSelected;\n          this.updateNewRowTemplate();\n          s && t.row > -1 && (e.rows[t.row].isSelected = !0);\n          e.isUpdating || e.refresh(!0);\n          e.onRowAdded(t) || o.cancelNew();\n        }\n      }\n    }\n  };\n\n  _AddNewHandler.prototype._rowEditEnded = function (e, t) {\n    var i = this,\n        o = e.editableCollectionView,\n        n = this._nrt.dataItem;\n    if (o && !this._committing) if (o.isAddingNew) o.commitNew();else if (n && !t.cancel) {\n      this._committing = !0;\n      this._nrt.dataItem = null;\n      var r = o.addNew();\n\n      for (var l in n) {\n        r[l] = n[l];\n      }\n\n      e.onRowAdded(t) ? o.commitNew() : o.cancelNew();\n      setTimeout(function () {\n        e.select(0, e.columns.firstVisibleIndex);\n        i.updateNewRowTemplate();\n      }, 20);\n      this._committing = !1;\n    }\n  };\n\n  return _AddNewHandler;\n}();\n\nexport { _AddNewHandler };\n\nvar _NewRowTemplate = function (e) {\n  __extends(_NewRowTemplate, e);\n\n  function _NewRowTemplate() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return _NewRowTemplate;\n}(Row);\n\nexport { _NewRowTemplate };\nexport var AllowMerging;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cells = 1] = \"Cells\";\n  e[e.ColumnHeaders = 2] = \"ColumnHeaders\";\n  e[e.RowHeaders = 4] = \"RowHeaders\";\n  e[e.AllHeaders = 6] = \"AllHeaders\";\n  e[e.All = 7] = \"All\";\n}(AllowMerging || (AllowMerging = {}));\n\nvar MergeManager = function () {\n  function MergeManager(e) {\n    null != e && console.error('** WARNING: the \"grid\" parameter has been deprecated. Please remove it.');\n  }\n\n  MergeManager.prototype.getMergedRange = function (e, t, i, o) {\n    void 0 === o && (o = !0);\n    var n = e.grid,\n        r = e.cellType,\n        l = e.columns,\n        s = e.rows,\n        a = s[t],\n        d = l[i];\n    if (a instanceof _NewRowTemplate) return null;\n    if (!(a instanceof Row && d instanceof Column)) return null;\n\n    if (e == n.columnHeaders) {\n      var c = n._getColumnGroup(t, i);\n\n      if (c) {\n        var u = c._rng,\n            h = e.columns;\n\n        if (h.isFrozen(u.col) != h.isFrozen(u.col2)) {\n          u = u.clone();\n          h.isFrozen(i) ? u.col2 = h.frozen - 1 : u.col = h.frozen;\n        }\n\n        return u;\n      }\n    }\n\n    if (n.showGroups && !n.childItemsPath && a instanceof GroupRow && a.dataItem instanceof CollectionViewGroup && r == CellType.Cell) {\n      u = new CellRange(t, i);\n\n      if (d.aggregate == Aggregate.None) {\n        for (; u.col > 0 && l[u.col - 1].aggregate == Aggregate.None && u.col != l.frozen;) {\n          u.col--;\n        }\n\n        for (; u.col2 < l.length - 1 && l[u.col2 + 1].aggregate == Aggregate.None && u.col2 + 1 != l.frozen;) {\n          u.col2++;\n        }\n      }\n\n      for (; u.col < i && !l[u.col].visible;) {\n        u.col++;\n      }\n\n      return u.isSingleCell ? null : u;\n    }\n\n    var p = !1,\n        g = AllowMerging,\n        f = CellType;\n\n    switch (n.allowMerging) {\n      case g.None:\n        p = !0;\n        break;\n\n      case g.Cells:\n        p = r != f.Cell;\n        break;\n\n      case g.ColumnHeaders:\n        p = r != f.ColumnHeader && r != f.TopLeft;\n        break;\n\n      case g.RowHeaders:\n        p = r != f.RowHeader && r != f.TopLeft;\n        break;\n\n      case g.AllHeaders:\n        p = r == f.Cell;\n    }\n\n    if (p) return null;\n\n    if (r == f.Cell) {\n      var _ = n.editableCollectionView,\n          m = _ ? _.currentAddItem : null;\n      if (m && a.dataItem == m) return null;\n    }\n\n    if (l[i].allowMerging) {\n      u = new CellRange(t, i);\n      var w = e._vrb,\n          C = 0,\n          v = s.length - 1;\n\n      if (t >= s.frozen) {\n        if (o && (r == CellType.Cell || r == CellType.RowHeader) && n._vtRows < s.length && w) {\n          C = w.topRow;\n          v = w.bottomRow;\n        }\n      } else s.length > s.frozen && (v = s.frozen - 1);\n\n      for (var y = t - 1; y >= C && this._mergeCell(e, y, i, t, i); y--) {\n        u.row = y;\n      }\n\n      for (var b = t + 1; b <= v && this._mergeCell(e, t, i, b, i); b++) {\n        u.row2 = b;\n      }\n\n      for (; u.row < t && !s[u.row].visible;) {\n        u.row++;\n      }\n\n      if (!u.isSingleCell) return u;\n    }\n\n    if (s[t].allowMerging) {\n      u = new CellRange(t, i), w = e._vrb;\n      var R = 0,\n          E = l.length - 1;\n\n      if (i >= l.frozen) {\n        if (o && (r == CellType.Cell || r == CellType.ColumnHeader) && n._vtCols < l.length && w) {\n          R = w.leftCol;\n          E = w.rightCol;\n        }\n      } else E = l.frozen - 1;\n\n      for (var x = i - 1; x >= R && this._mergeCell(e, t, x, t, i); x--) {\n        u.col = x;\n      }\n\n      for (var S = i + 1; S <= E && this._mergeCell(e, t, i, t, S); S++) {\n        u.col2 = S;\n      }\n\n      for (; u.col < i && !l[u.col].visible;) {\n        u.col++;\n      }\n\n      if (!u.isSingleCell) return u;\n    }\n\n    return null;\n  };\n\n  MergeManager.prototype._mergeCell = function (e, t, i, o, n) {\n    var r = e.rows[t],\n        l = e.rows[o];\n    if (!r || !l) return !1;\n    if (r instanceof GroupRow || r instanceof _NewRowTemplate || l instanceof GroupRow || l instanceof _NewRowTemplate) return !1;\n    var s = e.grid.editableCollectionView,\n        a = s ? s.currentAddItem : null;\n    if (a && (r.dataItem == a || l.dataItem == a)) return !1;\n    if (t != o && e.rows.isFrozen(t) != e.rows.isFrozen(o)) return !1;\n    if (i != n && e.columns.isFrozen(i) != e.columns.isFrozen(n)) return !1;\n\n    if (t != o) {\n      if (i > 0 && (r.allowMerging && this._mergeCell(e, t, i - 1, t, i) || l.allowMerging && this._mergeCell(e, o, i - 1, o, i))) return !1;\n      if (n < e.columns.length - 1 && (r.allowMerging && this._mergeCell(e, t, n, t, n + 1) || l.allowMerging && this._mergeCell(e, o, n, o, n + 1))) return !1;\n    }\n\n    return e.getCellData(t, i, !0) == e.getCellData(o, n, !0);\n  };\n\n  return MergeManager;\n}();\n\nexport { MergeManager };\n\nvar HitTestInfo = function () {\n  function HitTestInfo(e, t) {\n    this._row = -1;\n    this._col = -1;\n    this._edge = 0;\n    var i;\n\n    if (t instanceof Element) {\n      if (closest(t, \".wj-flexgrid\") != e.hostElement) return;\n      e = t;\n      this._target = t;\n    }\n\n    if (!(e instanceof Element) || e instanceof FlexGrid) {\n      if (e instanceof FlexGrid) {\n        this._target = e.hostElement;\n        i = this._g = e;\n      } else {\n        if (!(e instanceof GridPanel)) throw \"First parameter should be a FlexGrid or GridPanel.\";\n        this._target = e.hostElement;\n        this._p = e;\n        i = this._g = this._p.grid;\n      }\n\n      if (t instanceof MouseEvent) {\n        this._target = t.target;\n        \"mousedown\" == t.type && (i._rcBounds = null);\n      }\n\n      t = mouseToPage(t);\n      this._pt = t.clone();\n      var o = i.controlRect,\n          n = i._szClient,\n          r = i.topLeftCells,\n          l = i._eTL,\n          s = i.headersVisibility,\n          a = HeadersVisibility,\n          d = s & a.Row ? r.columns.getTotalSize() : 0,\n          c = s & a.Column ? r.rows.getTotalSize() : 0,\n          u = s & a.Column ? c + l.offsetTop : 0,\n          h = i._eBL,\n          p = h.offsetHeight;\n      t.x -= o.left;\n      t.y -= o.top;\n      i.rightToLeft && (t.x = o.width - t.x);\n      this._p || t.x >= 0 && t.y >= l.offsetTop && n && t.x <= n.width + d && t.y <= n.height + c && (t.y < u ? this._p = t.x < d ? i.topLeftCells : i.columnHeaders : t.y < h.offsetTop ? this._p = t.x < d ? i.rowHeaders : i.cells : this._p = t.x < d ? i.bottomLeftCells : i.columnFooters);\n\n      if (null != this._p) {\n        var g = this._p.rows,\n            f = this._p.columns,\n            _ = this._p.cellType,\n            m = CellType,\n            w = this._p._getFrozenPos(),\n            C = _ == m.TopLeft || _ == m.ColumnHeader ? c : _ == m.BottomLeft || _ == m.ColumnFooter ? p : g.getTotalSize(),\n            v = _ == m.TopLeft || _ == m.BottomLeft || _ == m.RowHeader ? d : f.getTotalSize();\n\n        if (_ == m.RowHeader || _ == m.Cell) {\n          t.y -= c;\n\n          if (t.y > w.y || w.y <= 0) {\n            t.y -= i._ptScrl.y;\n            t.y += this._p._getOffsetY();\n          }\n        } else _ != m.BottomLeft && _ != m.ColumnFooter || (t.y -= h.offsetTop);\n\n        if (_ == m.ColumnHeader || _ == m.Cell || _ == m.ColumnFooter) {\n          t.x -= d;\n          (t.x > w.x || w.x <= 0) && (t.x -= i._ptScrl.x);\n        }\n\n        _ != m.ColumnHeader && _ != m.TopLeft || (t.y -= u - c);\n        this._edge = 0;\n        var y = HitTestInfo._SZEDGE[this._g.isTouching ? 1 : 0];\n\n        if (this._g.isTouching) {\n          y = HitTestInfo._SZEDGE[1];\n          t.x -= y / 2;\n        }\n\n        this._row = t.y > C ? -1 : g.getItemAt(t.y);\n        this._col = t.x > v ? -1 : f.getItemAt(t.x);\n\n        if (this._row < 0 || this._col < 0) {\n          this._p = null;\n          return;\n        }\n\n        if (this._col > -1) {\n          var b = f[this._col];\n          t.x - b.pos <= y && (this._edge |= 1);\n          var R = b.pos + b.renderSize - t.x;\n\n          if (R <= y) {\n            this._edge |= 4;\n            R <= y / 2 && (this._edge |= 16);\n          }\n        }\n\n        if (this._row > -1) {\n          var E = g[this._row];\n          t.y - E.pos <= y && (this._edge |= 2);\n          var x = E.pos + E.renderSize - t.y;\n\n          if (x <= y) {\n            this._edge |= 8;\n            x <= y / 2 && (this._edge |= 32);\n          }\n        }\n      }\n    } else {\n      var S = closest(e, \".wj-cell\"),\n          H = S ? S[GridPanel._INDEX_KEY] : null;\n\n      if (H) {\n        this._target = e;\n        this._row = H.row;\n        this._col = H.col;\n        this._rng = H.rng;\n        this._p = H.panel;\n        this._g = H.panel.grid;\n      }\n    }\n  }\n\n  Object.defineProperty(HitTestInfo.prototype, \"point\", {\n    get: function get() {\n      return this._pt;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"cellType\", {\n    get: function get() {\n      return this._p ? this._p.cellType : CellType.None;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"panel\", {\n    get: function get() {\n      return this._p;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"grid\", {\n    get: function get() {\n      return this._p ? this._p.grid : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"row\", {\n    get: function get() {\n      return this._row;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  HitTestInfo.prototype.getRow = function () {\n    return this._p && this._row > -1 ? this._p.rows[this._row] : null;\n  };\n\n  Object.defineProperty(HitTestInfo.prototype, \"col\", {\n    get: function get() {\n      return this._col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  HitTestInfo.prototype.getColumn = function (e) {\n    var t = this._p,\n        i = t && this._col > -1 ? t.columns[this._col] : null;\n    i && e && (i = this._g._getBindingColumn(t, this._row, i));\n    return i;\n  };\n\n  Object.defineProperty(HitTestInfo.prototype, \"range\", {\n    get: function get() {\n      this._rng || (this._rng = new CellRange(this._row, this._col));\n      return this._rng;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeLeft\", {\n    get: function get() {\n      return 0 != (1 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeTop\", {\n    get: function get() {\n      return 0 != (2 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeRight\", {\n    get: function get() {\n      return 0 != (4 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeFarRight\", {\n    get: function get() {\n      return 0 != (16 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeBottom\", {\n    get: function get() {\n      return 0 != (8 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeFarBottom\", {\n    get: function get() {\n      return 0 != (32 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"target\", {\n    get: function get() {\n      return this._target;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  HitTestInfo._SZEDGE = [6, 30];\n  return HitTestInfo;\n}();\n\nexport { HitTestInfo };\nexport function softInput() {\n  return _getModule(\"wijmo.input\");\n}\n\nvar _MASK_PROVIDER = \"$WJ-MSKP\",\n    CellFactory = function () {\n  function CellFactory() {}\n\n  CellFactory.prototype.updateCell = function (e, t, i, o, n, r) {\n    var l = e.grid,\n        s = l.rightToLeft,\n        a = e.rows,\n        d = e.columns,\n        c = a[t],\n        u = d[i],\n        h = t,\n        p = i,\n        g = c instanceof GroupRow ? c : null,\n        f = c instanceof _NewRowTemplate ? c : null,\n        _ = u.renderWidth,\n        m = c.renderHeight,\n        w = e.cellType,\n        C = \"wj-cell\",\n        v = \"\",\n        y = {\n      display: \"\"\n    },\n        b = CellType;\n    0 != r && o.firstElementChild && (1 == o.childNodes.length && \"checkbox\" == o.firstElementChild.type || (o.textContent = \"\"));\n\n    if (n && !n.isSingleCell) {\n      t = n.row;\n      i = n.col;\n      h = n.row2;\n      p = n.col2;\n      c = a[t];\n      u = d[i];\n      g = c instanceof GroupRow ? c : null;\n      m = (I = n.getRenderSize(e)).height;\n      _ = I.width;\n    }\n\n    var R = l._getBindingColumn(e, t, u),\n        E = R.dataType || c.dataType,\n        x = R.dataMap || c.dataMap,\n        S = w == b.Cell ? l._getMapEditor(c, R) : null,\n        H = w == b.RowHeader || w == b.Cell && (!g || l.childItemsPath),\n        M = H && S == DataMapEditor.RadioButtons,\n        F = E == DataType.Boolean && !x,\n        P = R.isContentHtml || c.isContentHtml,\n        T = u.pos,\n        z = c.pos,\n        G = l._ptScrl;\n\n    if (l._useFrozenDiv() && w == b.Cell && !l.editRange) i < d.frozen && h >= a.frozen ? z += G.y : t < a.frozen && p >= d.frozen && (T += G.x);else {\n      var I = l._szClient;\n\n      if (h < a.frozen) {\n        z = Math.min(z, I.height);\n        m = Math.min(m, Math.max(0, I.height - z));\n        z -= G.y;\n      }\n\n      if (p < d.frozen) {\n        T = Math.min(T, I.width);\n        _ = Math.min(_, Math.max(0, I.width - T));\n        T -= G.x;\n      }\n    }\n    s ? y.right = T + \"px\" : y.left = T + \"px\";\n    h >= a.frozen && (z -= e._getOffsetY());\n    y.top = z + \"px\";\n    y.width = _ + \"px\";\n    y.height = m + \"px\";\n    y.zIndex = \"\";\n    (t < a.frozen || i < d.frozen) && (y.zIndex = t < a.frozen && i < d.frozen ? 2 : 1);\n    var A = !1,\n        D = l.alternatingRowStep;\n\n    if (D && (!n || n.row == n.row2)) {\n      A = c.visibleIndex % (D + 1) == 0;\n      1 == D && (A = !A);\n    }\n\n    if (w == b.Cell) {\n      g && (C += \" wj-group\");\n      A && (C += \" wj-alt\");\n      (t < a.frozen || i < d.frozen) && (C += \" wj-frozen\");\n      f && (C += \" wj-new\");\n      c.cssClass && (C += \" \" + c.cssClass);\n      R.cssClass && (C += \" \" + R.cssClass);\n    } else {\n      C += \" wj-header\";\n      A && (C += \" wj-header-alt\");\n      c.cssClass && w == b.ColumnHeader && (C += \" \" + c.cssClass);\n      R.cssClass && w == b.RowHeader && (C += \" \" + R.cssClass);\n      var L = !1;\n      w != b.ColumnHeader && w != b.TopLeft || l.allowResizing & AllowResizing.Columns && (L = null != l._mouseHdl._getResizeCol(e, p));\n      L || w != b.RowHeader || l.allowResizing & AllowResizing.Rows && (L = null != l._mouseHdl._getResizeRow(e, h));\n      L && (C += \" wj-big-header\");\n    }\n\n    c.cssClassAll && (C += \" \" + c.cssClassAll);\n    R.cssClassAll && (C += \" \" + R.cssClassAll);\n    var O = SelectedState,\n        j = e.getSelectedState(t, i, n);\n    j != O.None && w == b.Cell && !F && l.editRange && l.editRange.contains(t, i) && (j = O.None);\n\n    switch (j) {\n      case O.Active:\n        C += \" wj-state-active\";\n        break;\n\n      case O.Cursor:\n        C += \" wj-state-selected wj-state-active\";\n        break;\n\n      case O.Selected:\n        C += \" wj-state-multi-selected\";\n    }\n\n    h == a._lastFrozen && (C += \" wj-frozen-row\");\n    p == d._lastFrozen && (C += \" wj-frozen-col\");\n    (R.wordWrap || c.wordWrap) && (C += \" wj-wrap\");\n    (R.multiLine || c.multiLine) && (C += \" wj-multiline\");\n    var k = R.getAlignment(c);\n    k && (v = \" wj-align-\" + k);\n    var N = w != b.ColumnHeader && w != b.RowHeader || !l._hasColumnGroups() ? null : l._getColumnGroup(t, i);\n    N && N.align && (v = \" wj-align-\" + N.align);\n    y.paddingLeft = y.paddingRight = y.paddingTop = y.paddingBottom = \"\";\n\n    if (w == b.Cell && l.rows.maxGroupLevel > -1 && i == d.firstVisibleIndex && l.treeIndent) {\n      var B = g ? Math.max(0, g.level) : a.maxGroupLevel + 1,\n          V = Math.min(l.treeIndent * B + l._cellPadLeft, _ - l._cellPadHorz) + \"px\";\n      s ? y.paddingRight = V : y.paddingLeft = V;\n    }\n\n    _ <= l._cellPadHorz && null == o.getAttribute(FlexGrid._WJS_MEASURE) && (y.paddingLeft = y.paddingRight = 0);\n    var K = w == b.Cell && i == d.firstVisibleIndex && g && g.hasChildren && !_isEditingCell(l, t, i);\n    K && (v = \"\");\n\n    if (0 != r) {\n      var W = e.getCellData(t, i, !1),\n          q = e.getCellData(t, i, !0);\n\n      if (K) {\n        var U = _getTreeBtn(g);\n\n        q = g.getGroupHeader() || escapeHtml(q);\n        o.innerHTML = U.outerHTML + \" \" + q;\n      } else if (w != b.ColumnHeader || h != l._getSortRowIndex() && R == u) {\n        if (w != b.RowHeader || q) {\n          if (w != b.Cell || E != DataType.Boolean || x || g && !isBoolean(W)) {\n            if (w == b.Cell && !M && _isEditingCell(l, t, i)) {\n              var J = R.inputType || c.inputType;\n              J || (J = E != DataType.Number || x ? \"text\" : \"tel\");\n\n              if (!x && !R.mask && !c.mask) {\n                var Y = e.getCellData(t, i, !1);\n                isNumber(Y) && (q = _getEditString(Y, R.format || c.format));\n              }\n\n              o.innerHTML = (R.multiLine || c.multiLine) && \"checkbox\" != J ? '<textarea wrap=\"soft\"></textarea>' : '<input type=\"' + J + '\"/>';\n              var X = o.children[0];\n              addClass(X, \"wj-grid-editor wj-form-control\");\n              disableAutoComplete(X);\n              P && x && !x.isEditable && (q = toPlainText(q));\n              X.value = q;\n              X.tabIndex = -1;\n              X.required = R.getIsRequired(c);\n              setAttribute(X, \"aria-required\", X.required);\n              var Z = R.maxLength || c.maxLength;\n              Z && (X.maxLength = Z);\n              X.style.textAlign = R.getAlignment(c);\n              var $ = R.mask || c.mask;\n              $ && (X[_MASK_PROVIDER] = new _MaskProvider(X, $));\n              l.showPlaceholders && (X.placeholder = R.header);\n              l._edtHdl._edt = X;\n            } else {\n              if (M) {\n                var Q = [],\n                    ee = e.getCellData(t, i, !1);\n                x.getDisplayValues(c.dataItem).forEach(function (e) {\n                  var t = x.getKeyValue(e) == ee ? \" checked\" : \"\",\n                      i = l.isReadOnly || c.isReadOnly || u.isReadOnly ? \" disabled\" : \"\",\n                      o = escapeHtml(e);\n                  Q.push('<label><input type=\"radio\" tabindex=\"-1\"' + t + i + ' value=\"' + o + '\"><span>' + o + \"</span></label>\");\n                });\n                o.innerHTML = Q.join(\" \");\n                C += \" \" + CellFactory._WJC_RADIOMAP;\n              }\n\n              (le = H ? R._tpl : null) ? _renderTemplate(le, o, W, q, c, R) : M || (w == b.Cell && P ? o.innerHTML = q : o.textContent = q || \"\");\n\n              if (N && N.collapseTo) {\n                var te = N._rng;\n\n                if (te && (w == b.ColumnHeader && te.columnSpan > 1 || w == b.RowHeader && te.rowSpan > 1)) {\n                  var ie = N.isCollapsed;\n                  o.innerHTML = '<div role=\"button\" class=\"' + CellFactory._WJC_COLLAPSE + '\">' + _getGlyph(ie ? \"plus\" : \"minus\") + \"</div>&nbsp;\" + o.innerHTML;\n                  ie && addClass(o, \"wj-state-collapsed\");\n                }\n              }\n            }\n          } else {\n            var oe = o.firstChild;\n\n            if (!l._isNativeCheckbox(oe)) {\n              o.innerHTML = '<label><input type=\"checkbox\" class=\"' + CellFactory._WJC_CHECKBOX + '\" tabindex=\"-1\"/><span></span></label>';\n              oe = o.querySelector(\"input\");\n            }\n\n            setChecked(oe, W);\n            oe.disabled = !l.canEditCell(t, i);\n            oe.disabled && (oe.style.cursor = \"default\");\n            l.editRange && l.editRange.contains(t, i) && (l._edtHdl._edt = oe);\n          }\n        } else {\n          if (i == l._getEditColumnIndex()) {\n            var ne = l.editableCollectionView,\n                re = ne ? ne.currentEditItem : null;\n            q = o.innerHTML = re && c.dataItem == re ? _getGlyph(\"pencil\") : c instanceof _NewRowTemplate ? _getGlyph(\"asterisk\") : \"\";\n          }\n\n          var le;\n          (le = R._tpl) && _renderTemplate(le, o, W, q, c, R);\n        }\n      } else {\n        o.innerHTML = escapeHtml(q);\n        var se = R.currentSort;\n\n        if (se && l.showSort) {\n          C += \" wj-sort-\" + (\"+\" == se ? \"asc\" : \"desc\");\n          o.innerHTML += \"&nbsp;\" + _getSortGlyph(R);\n        }\n\n        l.allowPinning && contains(l.hostElement, o) && _addPinButton(o, i < l.frozenColumns);\n      }\n\n      if (S == DataMapEditor.DropDownList && l.showDropDown && l.canEditCell(t, i) && softInput()) {\n        var ae = _getDropDownBtn();\n\n        o.insertBefore(ae, o.firstChild);\n        _isEditingCell(l, t, i) && (C += \" wj-hasdropdown\");\n      }\n    }\n\n    if (w == b.RowHeader || w == b.ColumnHeader) {\n      var de = w == b.RowHeader ? !g && !f && c.allowDragging && 0 != (l.allowDragging & AllowDragging.Rows) : u.allowDragging && 0 != (l.allowDragging & AllowDragging.Columns);\n      setAttribute(o, \"draggable\", de ? \"true\" : null);\n    }\n\n    C += v;\n    o.className != C && (o.className = C);\n    var ce = o.style;\n\n    for (var ue in y) {\n      ce[ue] !== y[ue] && (ce[ue] = y[ue]);\n    }\n\n    if (l._edtHdl._edt && l._edtHdl._edt.parentElement == o) {\n      var he = l._root,\n          pe = he.getBoundingClientRect(),\n          ge = o.getBoundingClientRect(),\n          fe = pe.top + he.clientHeight - ge.top,\n          _e = pe.left + he.clientWidth - ge.left;\n\n      ge.height > fe && (o.style.height = fe + \"px\");\n      ge.width > _e && (o.style.width = _e + \"px\");\n    }\n\n    if ((w == b.Cell || w == b.RowHeader) && l._getShowErrors()) {\n      var me = l._getError(e, t, i);\n\n      l._edtHdl._setCellError(o, me);\n    }\n\n    l.itemFormatter && l.itemFormatter(e, t, i, o);\n\n    if (l.formatItem.hasHandlers) {\n      var we = CellFactory._fmtItemArgs;\n\n      if (we) {\n        we._p = e;\n\n        we._rng.setRange(t, i, h, p);\n\n        we._cell = o;\n      } else we = CellFactory._fmtItemArgs = new FormatItemEventArgs(e, new CellRange(t, i, h, p), o);\n\n      we._updateContent = !1 !== r;\n      l.onFormatItem(we);\n    }\n  };\n\n  CellFactory.prototype.disposeCell = function (e) {};\n\n  CellFactory.prototype.getEditorValue = function (e) {\n    var t = e._edtHdl._edt;\n    if (t instanceof HTMLInputElement) switch (t.type) {\n      case \"checkbox\":\n        return t.checked;\n\n      case \"radio\":\n        return t.value;\n    }\n\n    if (t instanceof HTMLInputElement || t instanceof HTMLTextAreaElement) {\n      var i = t[_MASK_PROVIDER],\n          o = i ? i._applyMask() : t.value,\n          n = t.maxLength;\n\n      if (isNumber(n) && n > -1 && o.length > n) {\n        var r = culture.Globalize.numberFormat[\"%\"] || \"%\",\n            l = o.length && o[o.length - 1] == r;\n        o = o.substr(0, n);\n        l && o.indexOf(r) < 0 && (o += r);\n      }\n\n      return o;\n    }\n\n    return null;\n  };\n\n  CellFactory._WJC_RADIOMAP = \"wj-radio-map\";\n  CellFactory._WJC_CHECKBOX = \"wj-cell-check\";\n  CellFactory._WJC_COLLAPSE = \"wj-elem-collapse\";\n  CellFactory._WJC_DROPDOWN = \"wj-elem-dropdown\";\n  CellFactory._WJC_PIN = \"wj-elem-pin\";\n  CellFactory._tplDdBtn = _getButton(CellFactory._WJC_DROPDOWN, \"down\");\n  CellFactory._tplCtx = {\n    row: null,\n    col: null,\n    value: null,\n    text: null,\n    item: null\n  };\n  return CellFactory;\n}();\n\nexport { CellFactory };\n\nfunction _renderTemplate(e, t, i, o, n, r) {\n  var l = CellFactory._tplCtx;\n  l.value = i;\n  l.text = o;\n  l.item = n.dataItem;\n  l.row = n;\n  l.col = r;\n  var s = isString(e) ? evalTemplate(e, l) : e(l, t);\n  null != s && (t.innerHTML = s);\n}\n\nfunction _getEditString(e, t) {\n  t = t || \"n\";\n\n  var i = Globalize._parseNumericFormat(t);\n\n  switch (i.spec) {\n    case \"d\":\n    case \"x\":\n      break;\n\n    case \"e\":\n      t = t.replace(/[0-9]/g, \"\");\n      break;\n\n    default:\n      t = \"p\" == i.spec ? \"P15\" : \"r\";\n      i.scale && (t += Array(i.scale / 3 + 1).join(\",\"));\n  }\n\n  return Globalize.formatNumber(e, t, !0);\n}\n\nfunction _isEditingCell(e, t, i) {\n  return e.editRange && e.editRange.contains(t, i);\n}\n\nfunction _getDropDownBtn() {\n  var e = CellFactory._ddBtn;\n\n  if (!e) {\n    e = CellFactory._ddBtn = createElement(CellFactory._tplDdBtn);\n    setAriaLabel(e, culture.FlexGrid.ariaLabels.toggleDropDown);\n    setAttribute(e, \"aria-expanded\", !1);\n  }\n\n  return e.cloneNode(!0);\n}\n\nfunction _addPinButton(e, t) {\n  var i = _getButton(CellFactory._WJC_PIN, \"pin\"),\n      o = createElement(i);\n\n  toggleClass(o, \"wj-state-pinned\", t);\n  setAttribute(o, \"aria-pressed\", t);\n  e.insertBefore(o, e.firstChild);\n}\n\nfunction _getSortGlyph(e) {\n  var t = _getGlyph(\"+\" == e.currentSort ? \"up\" : \"down\"),\n      i = e.grid.collectionView;\n\n  if (i && i.sortDescriptions.length > 1) {\n    var o = e.currentSortIndex;\n    o > -1 && (t += '<span class=\"wj-sort-index\">' + (o + 1) + \"</span>\");\n  }\n\n  return t;\n}\n\nfunction _getTreeBtn(e) {\n  var t = CellFactory._WJC_COLLAPSE,\n      i = (e.isCollapsed ? \"\" : \"down-\") + (e.grid.rightToLeft ? \"left\" : \"right\"),\n      o = createElement('<button class=\"wj-btn wj-btn-glyph ' + t + '\" type=\"button\" tabindex=\"-1\">' + _getGlyph(i) + \"</button>\");\n  setAriaLabel(o, culture.FlexGrid.ariaLabels.toggleGroup);\n  setAttribute(o, \"aria-expanded\", !e.isCollapsed);\n  return o;\n}\n\nfunction _getGlyph(e) {\n  return '<span class=\"wj-glyph-' + e + '\"></span>';\n}\n\nfunction _getButton(e, t) {\n  return '<button class=\"wj-btn wj-btn-glyph wj-right {cls}\" type=\"button\" tabindex=\"-1\">{glyph}</button>'.replace(\"{cls}\", e).replace(\"{glyph}\", _getGlyph(t));\n}\n\nvar _LB_PAGE_SIZE = 4,\n    _EditHandler = function () {\n  function _EditHandler(e) {\n    var t = this;\n    this._rng = null;\n    this._edt = null;\n    this._edItem = null;\n    this._edtCanceled = !1;\n    this._list = null;\n    this._fullEdit = !1;\n    this._evtInput = null;\n    this._evtChange = null;\n    this._cstEdtValue = null;\n    this._validating = !1;\n    this._g = e;\n    this._evtInput = document.createEvent(\"HTMLEvents\");\n\n    this._evtInput.initEvent(\"input\", !0, !1);\n\n    this._evtChange = document.createEvent(\"HTMLEvents\");\n\n    this._evtChange.initEvent(\"change\", !0, !1);\n\n    e.selectionChanging.addHandler(function (i, o) {\n      if (t.finishEditing()) {\n        var n = e._selHdl.selection.row;\n\n        if (n != o.row) {\n          var r = e.rows.length;\n          (n > -1 && n < r ? e.rows[n].dataItem : null) != (o.row > -1 && o.row < r ? e.rows[o.row].dataItem : null) && t._commitRowEdits();\n        }\n      } else o.cancel = !0;\n    });\n    e.lostFocus.addHandler(function () {\n      var e = getActiveElement();\n      e && \"fixed\" == getComputedStyle(e).position ? t.finishEditing() : t._commitRowEdits();\n    });\n    var i = e.hostElement;\n    e.addEventListener(i, \"mousedown\", function (i) {\n      if (!i.defaultPrevented && 0 == i.button && !e._mouseHdl._szRowCol) {\n        var o = e.hitTest(i);\n        o.cellType != CellType.Cell && o.cellType != CellType.None && (t.finishEditing() || t.finishEditing(!0));\n      }\n    }, !0);\n    e.addEventListener(i, \"compositionend\", this._keypress.bind(this));\n  }\n\n  _EditHandler.prototype.startEditing = function (e, t, i, o, n) {\n    void 0 === e && (e = !0);\n    var r = this._g,\n        l = r._selHdl.selection;\n    t = asNumber(t, !0, !0);\n    i = isString(i) ? r.columns.indexOf(i) : asNumber(i, !0, !0);\n    null == t && (t = l.row);\n    null == i && (i = l.col);\n    null == o && (o = !0);\n    if (!this._allowEdit(t, i)) return !1;\n    var s = r.getMergedRange(r.cells, t, i, !1);\n    s || (s = new CellRange(t, i));\n    var a = r.rows[t].dataItem;\n    r.scrollIntoView(s.row, s.col, !0);\n    if (!r.select(s, !0)) return !1;\n    if (!r.rows[t] || a != r.rows[t].dataItem) return !1;\n\n    if (this.activeEditor) {\n      if (s.equals(this._rng)) return !0;\n      if (!this.finishEditing()) return !1;\n    }\n\n    var d = new CellRangeEventArgs(r.cells, s, n);\n    if (!r.onBeginningEdit(d)) return !1;\n    var c = r.editableCollectionView,\n        u = !1;\n\n    if (c) {\n      (u = (a = r.rows[t].dataItem) != c.currentEditItem) && r.onRowEditStarting(d);\n      c.editItem(a);\n\n      if (u) {\n        r.onRowEditStarted(d);\n        this._edItem = a;\n      }\n    }\n\n    var h = r.rows[t],\n        p = r._getBindingColumn(r.cells, t, r.columns[i]),\n        g = p.dataMap || h.dataMap,\n        f = DataMapEditor.RadioButtons,\n        _ = h.dataMap && h.dataMapEditor == f || p.dataMap && p.dataMapEditor == f;\n\n    this._fullEdit = asBoolean(e);\n    this._rng = s;\n    this._list = null;\n\n    if (g && !_ && !p.editor) {\n      var m = g.getDisplayValues(a);\n      (p.isContentHtml || h.isContentHtml) && (m = m.map(function (e) {\n        return toPlainText(e);\n      }));\n      this._list = m;\n    }\n\n    if (_) {\n      var w = r._activeCell || r.hostElement.querySelector(\".wj-cell.wj-state-active\");\n\n      if (w) {\n        var C = n ? n.target : null;\n        C instanceof HTMLSpanElement && (C = closest(C, \"label\"));\n        C instanceof HTMLLabelElement && (C = C.querySelector(\"input\"));\n        this._edt = C instanceof HTMLInputElement ? C : w.querySelector(\"input\");\n\n        this._updateRowHeaderCell(t);\n      }\n    } else s.isSingleCell ? this._updateEditorCell(t, i, u) : r.refresh(!1);\n\n    var v = this._edt;\n\n    if (v) {\n      if (\"checkbox\" == v.type || \"radio\" == v.type) this._fullEdit = !1;else if (o) {\n        var y = 0,\n            b = v.value.length,\n            R = !1,\n            E = culture.Globalize.numberFormat[\"%\"] || \"%\",\n            x = r.getCellData(t, i, !1);\n        isNumber(x) ? R = v.value.indexOf(E) > -1 : null == x && (R = /^p/i.test(p.format)) && v.value.indexOf(E) < 0 && (v.value += E);\n\n        if (R) {\n          var S = v.value;\n          y = 0;\n          b = S.length;\n\n          for (; b > 0 && (S[b - 1] == E || \" \" == S[b - 1]);) {\n            b--;\n          }\n\n          for (; y < b && S[y] == E;) {\n            y++;\n          }\n        }\n\n        n && \"keydown\" == n.type && n.keyCode == Key.Space && (y = b);\n        setSelectionRange(v, y, b);\n        isIE() && \"right\" == v.style.textAlign && (v.style.paddingRight = \"1px\");\n      }\n      r.onPrepareCellForEdit(d);\n    }\n\n    o && !r.containsFocus() && r.focus();\n    return null != v && !v.disabled && !v.readOnly;\n  };\n\n  _EditHandler.prototype.finishEditing = function (e) {\n    var t = this._edt;\n\n    if (!t) {\n      this._removeListBox();\n\n      return !0;\n    }\n\n    var i = this._g,\n        o = this._rng,\n        n = new CellEditEndingEventArgs(i.cells, o),\n        r = i.containsFocus();\n\n    if (!e) {\n      var l = i.hostElement.querySelector(\".wj-control.wj-state-focused\");\n\n      if (l) {\n        var s = Control.getControl(l);\n        s && s.containsFocus() && s.onLostFocus(n);\n      }\n    }\n\n    n.cancel = e;\n\n    if (!e && i.validateEdits) {\n      if (p = this._getValidationError()) {\n        n.cancel = !0;\n        var a = i.cells.getCellElement(o.row, o.col);\n\n        if (a) {\n          this._setCellError(a, p);\n\n          n.stayInEditMode = !0;\n        }\n      }\n    }\n\n    this._cstEdtValue = null;\n    n.data = i.cells.getCellData(o.topRow, o.leftCol, !1);\n\n    if (!i.onCellEditEnding(n) && n.stayInEditMode) {\n      r ? setTimeout(function () {\n        t.select();\n      }) : t.select();\n      this._fullEdit = !0;\n      return !1;\n    }\n\n    if (!n.cancel) {\n      for (var d = this._cstEdtValue, c = d && !isUndefined(d.value) ? d.value : i.cellFactory.getEditorValue(i), u = o.topRow; u <= o.bottomRow && u < i.rows.length; u++) {\n        for (var h = o.leftCol; h <= o.rightCol && h < i.columns.length; h++) {\n          if (!i.cells.setCellData(u, h, c, !0, !1) && i.validateEdits) {\n            var p;\n\n            if (p = this._getValidationError(!0)) {\n              n.cancel = !0;\n              var g = i.cells.getCellElement(o.row, o.col);\n\n              if (g) {\n                this._setCellError(g, p);\n\n                n.stayInEditMode = !0;\n              }\n\n              return !1;\n            }\n          }\n        }\n      }\n\n      t.value == this._edtValue && t.dispatchEvent(this._evtChange);\n    }\n\n    this._edt = null;\n    this._rng = null;\n    this._list = null;\n    this._edtValue = null;\n    this._edtCanceled = n.cancel;\n\n    this._removeListBox();\n\n    var f = closest(t, \".wj-cell\");\n    contains(f, getActiveElement()) && i._setFocusNoScroll(f);\n    !n.cancel && n.refresh && i._refreshOnEdit ? i.refresh(!1) : this._updateEditorCell(o.row, o.col, !1);\n    r && i.focus();\n    i.onCellEditEnded(n);\n    return !0;\n  };\n\n  _EditHandler.prototype._setCustomEditorValue = function (e) {\n    this._cstEdtValue = {\n      value: e\n    };\n  };\n\n  _EditHandler.prototype._setCellError = function (e, t) {\n    var i = this._g;\n    \"\" == t && (t = null);\n    toggleClass(e, \"wj-state-invalid\", null != t);\n    var o = i.errorTip,\n        n = i.activeEditor;\n\n    if (o) {\n      o.setTooltip(e, t);\n      n && contains(e, n) && setAttribute(n, \"title\", \"\");\n    } else setAttribute(e, \"title\", t);\n\n    n && e == i.activeCell && !contains(e, n) && o && o.setTooltip(n, t);\n  };\n\n  Object.defineProperty(_EditHandler.prototype, \"activeEditor\", {\n    get: function get() {\n      return this._edt;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_EditHandler.prototype, \"editRange\", {\n    get: function get() {\n      return this._rng;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _EditHandler.prototype.getClipString = function (e, t, i, o) {\n    var n,\n        r = this,\n        l = this._g,\n        s = l.selectionMode,\n        a = [],\n        d = 0 != (t & ClipStringOptions.CSV),\n        c = d ? \"\\r\\n\" : \"\\n\",\n        u = d ? \",\" : \"\\t\",\n        h = 0 != (t & ClipStringOptions.InvisibleRows),\n        p = SelectionMode,\n        g = null != e;\n    if (!e && s != p.ListBox) for (var f = l.rows, _ = 0; _ < f.length; _++) {\n      if (f[_].isSelected) {\n        s = p.ListBox;\n        break;\n      }\n    }\n\n    if (!e) {\n      l._selHdl._expandSelection();\n\n      e = l.selection;\n\n      switch (s) {\n        case p.Row:\n        case p.RowRange:\n        case p.ListBox:\n          e.col = 0;\n          e.col2 = l.columns.length - 1;\n          break;\n\n        case p.MultiRange:\n          var m = l.selectedRanges;\n\n          if (m.length > 1) {\n            var w = this._sameCols(m),\n                C = this._sameRows(m);\n\n            if (w || C) {\n              (m = m.slice()).sort(function (e, t) {\n                var i = e.topRow - t.topRow;\n                return i || e.leftCol - t.leftCol;\n              });\n\n              for (var v = 0; v < m.length; v++) {\n                for (var y = m[v], b = v + 1; b < m.length; b++) {\n                  if (y.contains(m[b])) {\n                    m.splice(b, 1);\n                    b--;\n                  }\n                }\n              }\n\n              if (w) {\n                var R = [];\n                m.forEach(function (e) {\n                  R.push(r.getClipString(e, t, i, o));\n                  i = !1;\n                });\n                return R.join(c);\n              }\n\n              if (C) {\n                var E;\n                m.forEach(function (e) {\n                  var n = r.getClipString(e, t, i, o).split(c);\n\n                  if (null == E) {\n                    E = n;\n                    o = !1;\n                  } else n.forEach(function (e, t) {\n                    E[t] += u + e;\n                  });\n                });\n                return E.join(c);\n              }\n            }\n          }\n\n      }\n    }\n\n    var x = e.col > -1 && e.col2 > -1;\n    i && x && (n = l.columnHeaders).rows.forEach(function (i, l) {\n      if (h || i.isVisible) {\n        var s = r._getRowClipString(n, l, e, t, o);\n\n        a.push(s);\n      }\n    });\n\n    if (e.row > -1 && e.row2 > -1) {\n      n = l.cells;\n\n      if (s != p.ListBox || g) {\n        assert(e.bottomRow < n.rows.length, \"Row index must be less than the number of rows.\");\n\n        for (v = e.topRow; v <= e.bottomRow; v++) {\n          if (h || n.rows[v].isVisible) {\n            var S = this._getRowClipString(n, v, e, t, o);\n\n            a.push(S);\n          }\n        }\n      } else n.rows.forEach(function (i, l) {\n        if (i.isSelected && (h || i.isVisible)) {\n          var s = r._getRowClipString(n, l, e, t, o);\n\n          a.push(s);\n        }\n      });\n    }\n\n    return a.join(c);\n  };\n\n  _EditHandler.prototype._getRowClipString = function (e, t, i, o, n) {\n    var r = [],\n        l = e.rows[t],\n        s = ClipStringOptions,\n        a = 0 != (o & s.CSV),\n        d = 0 != (o & s.InvisibleColumns),\n        c = 0 == (o & s.Unformatted),\n        u = 0 != (o & s.SkipMerged);\n\n    if (l.isVisible) {\n      if (n) for (var h = e.cellType == CellType.ColumnHeader ? e.grid.topLeftCells : e.grid.rowHeaders, p = 0; p < h.columns.length; p++) {\n        if (d || h.columns[p].isVisible) {\n          var g = h.getCellData(t, p, !0);\n          u && this._skipMergedCell(e, null, t, p) && (g = \"\");\n          r.push(this._getCellClipString(g, o));\n        }\n      }\n\n      if (i.col > -1 && i.col2 > -1) {\n        assert(i.rightCol < e.columns.length, \"Column index must be less than the number of columns.\");\n\n        for (p = i.leftCol; p <= i.rightCol; p++) {\n          if (d || e.columns[p].isVisible) {\n            !(g = e.getCellData(t, p, c)) && l instanceof GroupRow && p == e.columns.firstVisibleIndex && (g = toPlainText(l.getGroupHeader()));\n            u && this._skipMergedCell(e, null, t, p) && (g = \"\");\n            r.push(this._getCellClipString(g, o));\n          }\n        }\n      }\n    }\n\n    return r.join(a ? \",\" : \"\\t\");\n  };\n\n  _EditHandler.prototype._skipMergedCell = function (e, t, i, o) {\n    var n = e.grid.getMergedRange(e, i, o, !1);\n\n    if (n) {\n      if (t) {\n        n.row = Math.max(t.topRow, n.row);\n        n.col = Math.max(t.leftCol, n.col);\n      }\n\n      if (n.row != i || n.col != o) return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._getCellClipString = function (e, t) {\n    isString(e) || (e = isDate(e) ? e.toJSON() : null != e ? e.toString() : \"\");\n    e = e.replace(/\\t/g, \" \");\n    var i = 0 != (t & ClipStringOptions.QuoteAll);\n    (i = i || /\\n|^\"|\"$/.test(e)) || 0 == (t & ClipStringOptions.CSV) || (i = e.indexOf(\",\") > -1);\n    i && (e = '\"' + (e = e.replace(/\"/g, '\"\"')) + '\"');\n    return e;\n  };\n\n  _EditHandler.prototype._sameRows = function (e) {\n    for (var t = e[0], i = 1; i < e.length; i++) {\n      if (e[i].topRow != t.topRow || e[i].bottomRow != t.bottomRow) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype._sameCols = function (e) {\n    for (var t = e[0], i = 1; i < e.length; i++) {\n      if (e[i].leftCol != t.leftCol || e[i].rightCol != t.rightCol) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype.setClipString = function (e, t) {\n    var i = this,\n        o = this._g,\n        n = o.editableCollectionView,\n        r = null == t,\n        l = SelectionMode;\n\n    if (r) {\n      o._selHdl._expandSelection();\n\n      t = o.selection;\n\n      switch (o.selectionMode) {\n        case l.Row:\n        case l.RowRange:\n        case l.ListBox:\n          t.col = 0;\n          t.col2 = o.columns.length - 1;\n          break;\n\n        case l.MultiRange:\n          var s = o.selectedRanges;\n\n          if (s.length > 1) {\n            n && n.beginUpdate();\n            s.forEach(function (t) {\n              o.setClipString(e, t);\n            });\n            n && n.endUpdate();\n            o.selectedRanges = s;\n            return;\n          }\n\n      }\n    }\n\n    t = asType(t, CellRange);\n\n    var a = this._parseClipString(asString(e));\n\n    !r && a.length > t.rowSpan && (a = a.slice(0, t.rowSpan));\n\n    this._expandClipRows(a, t);\n\n    var d = r ? new CellRange(t.topRow, t.leftCol, t.topRow + a.length - 1, t.leftCol + a[0].length - 1) : t,\n        c = new CellRangeEventArgs(o.cells, d, e);\n    if (!o.onPasting(c)) return !1;\n    d = new CellRange(t.topRow, t.leftCol);\n\n    var u = new CellRangeEventArgs(o.cells, new CellRange(t.topRow, -1)),\n        h = !1,\n        p = 0,\n        g = t.topRow,\n        f = o.rows,\n        _ = o.columns,\n        m = this._deferPaste(t, a.length);\n\n    o.deferUpdate(function () {\n      var e = -1;\n\n      if (n && m) {\n        e = n.currentPosition;\n        n.beginUpdate();\n      }\n\n      for (var r = 0; r < a.length && g < f.length; r++, g++) {\n        var l = f[g];\n\n        if (l.isVisible) {\n          var s = l.dataItem,\n              c = n ? n.currentEditItem : null;\n\n          if (c && s != c) {\n            o.onRowEditEnding(u);\n            o.onRowEditEnded(u);\n          }\n\n          if (s != c) {\n            u._rng.setRange(g, -1);\n\n            o.onRowEditStarting(u);\n            o.onRowEditStarted(u);\n          }\n\n          if (l instanceof _NewRowTemplate && n) {\n            m && (l.dataItem = n.addNew());\n\n            u._rng.setRange(o.newRowAtTop ? 0 : g + p, -1);\n\n            o.onRowEditStarting(u);\n            o.onRowEditStarted(u);\n          }\n\n          for (var w = a[r], C = t.leftCol, v = 0; v < w.length && C < _.length; v++, C++) {\n            var y = _[C];\n\n            if (y.isVisible) {\n              if (i._allowEdit(g, C)) {\n                var b = w[v],\n                    R = b.length;\n                R > 1 && '\"' == b[0] && '\"' == b[R - 1] && b.indexOf(\"\\n\") > -1 && (b = b.substr(1, R - 2));\n                var E = y.maxLength || l.maxLength;\n                E && (b = b.substr(0, E));\n                var x = new CellRangeEventArgs(o.cells, new CellRange(g + p, C), b);\n\n                if (o.onPastingCell(x)) {\n                  if (n) {\n                    n.editItem(s);\n                    i._edItem = n.currentEditItem;\n                  }\n\n                  var S = o.getCellData(g, C, !1);\n\n                  if (o.setCellData(g, C, x.data)) {\n                    x.data = S;\n                    o.onPastedCell(x);\n                    h = !0;\n                  }\n                }\n\n                d.row2 = Math.max(d.row2, g + p);\n                d.col2 = Math.max(d.col2, C);\n              }\n            } else v--;\n          }\n\n          if (i._edItem && n instanceof CollectionView) {\n            var H = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change, i._edItem, g);\n            n.onCollectionChanged(H);\n          }\n\n          if (l instanceof _NewRowTemplate && n && m) {\n            l.dataItem = null;\n\n            if (h) {\n              u._rng.setRange(o.newRowAtTop ? 0 : g + p, -1);\n\n              o.onRowEditEnding(u);\n              o.onRowEditEnded(u);\n              g--;\n              p++;\n              n.commitNew();\n            } else n.cancelNew();\n          }\n        } else r--;\n      }\n\n      if (n) if (m) {\n        if (n.currentEditItem) {\n          n.commitEdit();\n          o.onRowEditEnding(u);\n          o.onRowEditEnded(u);\n        }\n\n        n.moveCurrentToPosition(e);\n        n.endUpdate(!0);\n      } else {\n        var M = n.currentAddItem;\n        !M && 0 == t.row && o.newRowAtTop && f[0] instanceof _NewRowTemplate && (M = f[0].dataItem);\n\n        if (M) {\n          n.editItem(M);\n          i._edItem = M;\n        }\n      }\n      d.rowSpan > 1 && 0 == d.topRow && f[0] instanceof _NewRowTemplate && (d.row = d.row2 = 0);\n      o.select(d);\n    });\n    o.onPasted(c);\n\n    if (h && closest(o.hostElement, \"form\")) {\n      var w = document.createEvent(\"HTMLEvents\"),\n          C = createElement(\"<input>\", o.hostElement);\n      w.initEvent(\"change\", !0, !1);\n      C.dispatchEvent(w);\n      removeChild(C);\n    }\n  };\n\n  _EditHandler.prototype._deferPaste = function (e, t) {\n    var i = this._g.rows,\n        o = i.length;\n\n    if (t > 1) {\n      if (o > 1 && i[0].dataItem != i[1].dataItem) return !0;\n      if (1 == o && i[0] instanceof _NewRowTemplate) return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._parseClipString = function (e) {\n    e = (e = e.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\")).replace(/\\n$/, \"\");\n    var t = 0,\n        i = 0,\n        o = [];\n\n    for (t = 0; t < e.length; t++) {\n      var n = '\"' == e[t],\n          r = !1,\n          l = !1;\n\n      for (i = t; i < e.length && !l; i++) {\n        var s = e[i];\n\n        switch (s) {\n          case '\"':\n            n && (r = !r);\n            break;\n\n          case \"\\t\":\n          case \"\\n\":\n            if (!r) {\n              this._parseClipCell(o, e, t, i, \"\\n\" == s);\n\n              t = i;\n              i == e.length - 1 && (t = i + 1);\n              l = !0;\n            }\n\n        }\n      }\n\n      if (i == e.length) {\n        this._parseClipCell(o, e, t, i, !1);\n\n        break;\n      }\n    }\n\n    0 == o.length && o.push([\"\"]);\n    return o;\n  };\n\n  _EditHandler.prototype._parseClipCell = function (e, t, i, o, n) {\n    e.length || e.push([]);\n    var r = t.substr(i, o - i),\n        l = r.length;\n    l > 2 && '\"' == r[0] && '\"' == r[l - 1] && r.indexOf('\"\"') > -1 ? r = (r = r.substr(1, l - 2)).replace(/\"\"/g, '\"') : \"\\t\" == r && (r = \"\");\n    e[e.length - 1].push(r);\n    n && e.push([]);\n  };\n\n  _EditHandler.prototype._expandClipRows = function (e, t) {\n    for (var i = e.length, o = 0, n = 0; n < i; n++) {\n      o = Math.max(o, e[n].length);\n    }\n\n    for (var r = this._g, l = 0, s = 0, a = t.topRow; a <= t.bottomRow; a++) {\n      r.rows[a].isVisible && l++;\n    }\n\n    for (var d = t.leftCol; d <= t.rightCol; d++) {\n      r.columns[d].isVisible && s++;\n    }\n\n    if (l > 1 || s > 1) {\n      1 == l && (l = i);\n      1 == s && (s = o);\n\n      if (s % o == 0 && l % i == 0) {\n        for (d = o; d < s; d++) {\n          for (a = 0; a < i; a++) {\n            e[a].push(e[a % i][d % o]);\n          }\n        }\n\n        for (a = i; a < l; a++) {\n          e.push(e[a % i]);\n        }\n      }\n    }\n  };\n\n  _EditHandler.prototype._updateEditorCell = function (e, t, i) {\n    var o = this._g,\n        n = o.cells.getCellElement(e, t),\n        r = o._useFrozenDiv() && (e < o.frozenRows || t < o.frozenColumns);\n    if (!n || r || o._hasPendingUpdates()) o.refresh(!1);else if (o.onUpdatingView(new CancelEventArgs())) {\n      this._updateCell(n);\n\n      (i || o._getHasValidation()) && this._updateRowHeaderCell(e);\n      o.onUpdatedView();\n    }\n  };\n\n  _EditHandler.prototype._updateRowHeaderCell = function (e) {\n    var t = this._g;\n\n    if (t.headersVisibility & HeadersVisibility.Row) {\n      var i = t.rowHeaders,\n          o = t._getEditColumnIndex(),\n          n = i.getCellElement(e, o);\n\n      n && this._updateCell(n);\n    }\n  };\n\n  _EditHandler.prototype._updateCell = function (e) {\n    var t = new HitTestInfo(e, null),\n        i = FlexGrid._WJS_UPDATING;\n\n    if (t.panel) {\n      addClass(e, i);\n      t.grid.cellFactory.updateCell(t.panel, t.row, t.col, e, t.range);\n      removeClass(e, i);\n    }\n  };\n\n  _EditHandler.prototype._getValidationError = function (e) {\n    var t = this,\n        i = this._g,\n        o = \"\";\n\n    if (i && this._rng && !this._validating) {\n      var n = this._rng.row,\n          r = this._rng.col,\n          l = i.activeEditor,\n          s = i.cellFactory.getEditorValue(i),\n          a = i.getCellData(n, r, !1);\n      e && (o = i._getError(i.cells, n, r, !0));\n\n      if (!o && i._getHasValidation()) {\n        l && (o = l.validationMessage);\n\n        if (!o) {\n          var d = i.columns[r],\n              c = i.rows[n];\n          !i._getBindingColumn(i.cells, n, d).getIsRequired(c) || null != s && \"\" != s || (o = this._getRequiredMsg());\n        }\n\n        if (!o && i.setCellData(n, r, s, !0, !1)) {\n          o = i._getError(i.cells, n, r);\n          i.setCellData(n, r, a, !1, !1);\n        }\n      }\n\n      if (!o) {\n        var u = Control.getControl(closest(l, \".wj-control\"));\n\n        if (u && u != i && u.invalidInput.hasHandlers) {\n          var invInputHandler = function invInputHandler(e, l) {\n            if (l.cancel) {\n              o = i._getError(i.cells, n, r, !0) || t._getBadInputMsg();\n              l.cancel = !1;\n            }\n          };\n\n          this._validating = !0;\n          var h = l.value;\n          u.invalidInput.addHandler(invInputHandler);\n          u.onLostFocus();\n          u.invalidInput.removeHandler(invInputHandler);\n          l.value = h;\n          l.select();\n          this._validating = !1;\n        }\n      }\n    }\n\n    return o;\n  };\n\n  _EditHandler.prototype._getRequiredMsg = function () {\n    if (!_EditHandler._msgRequired) {\n      var e = document.createElement(\"input\");\n      e.required = !0;\n      _EditHandler._msgRequired = e.validationMessage;\n    }\n\n    return _EditHandler._msgRequired;\n  };\n\n  _EditHandler.prototype._getBadInputMsg = function () {\n    if (!_EditHandler._msgBadInput) {\n      var e = document.createElement(\"input\");\n      e.pattern = \"x\";\n      e.value = \"a\";\n      _EditHandler._msgBadInput = e.validationMessage || \"Bad Input\";\n    }\n\n    return _EditHandler._msgBadInput;\n  };\n\n  _EditHandler.prototype._allowEdit = function (e, t) {\n    var i = this._g;\n    if (i.isReadOnly || i.selectionMode == SelectionMode.None) return !1;\n    if (i.collectionView && !i.editableCollectionView) return !1;\n\n    if (null != e) {\n      if (e < 0 || e >= i.rows.length) return !1;\n      var o = i.rows[e];\n      if (!o || o.isReadOnly || !o.isVisible) return !1;\n    }\n\n    if (null != t) {\n      if (t < 0 || t >= i.columns.length) return !1;\n\n      var n = i._getBindingColumn(i.cells, e, i.columns[t]);\n\n      if (!n || n.isReadOnly || !n.isVisible) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype._commitRowEdits = function () {\n    var e = this._g;\n\n    if (this.finishEditing() && this._edItem) {\n      var t = e.editableCollectionView;\n\n      if (t && (t.currentEditItem || t.currentAddItem)) {\n        var i = new CellRangeEventArgs(e.cells, e.selection);\n        e.onRowEditEnding(i);\n        t.commitEdit();\n        e.onRowEditEnded(i);\n      }\n\n      this._edItem = null;\n    }\n  };\n\n  _EditHandler.prototype._keydown = function (e) {\n    var t = this._edt;\n\n    switch (e.keyCode) {\n      case Key.F2:\n        this._fullEdit = !this._fullEdit;\n        e.preventDefault();\n        return !0;\n\n      case Key.F4:\n        this._toggleListBox(e);\n\n        e.preventDefault();\n        return !0;\n\n      case Key.Space:\n        if (t && \"checkbox\" == t.type && !t.disabled && !t.readOnly) {\n          setChecked(t, t.indeterminate || !t.checked);\n          this.finishEditing();\n          e.preventDefault();\n        }\n\n        return !0;\n\n      case Key.Enter:\n        e.preventDefault();\n\n        if (t && e.altKey) {\n          var i = e.target;\n\n          if (i instanceof HTMLTextAreaElement && \"soft\" == i.wrap) {\n            i.style.setProperty(\"ime-mode\", \"auto\", \"important\");\n            var o = i.value,\n                n = i.selectionStart,\n                r = i.selectionEnd;\n            i.value = o.substr(0, n) + \"\\n\" + o.substr(r);\n            setSelectionRange(i, n + 1);\n            i.style.imeMode = \"\";\n          }\n\n          return !0;\n        }\n\n        if (t && this._lbx) {\n          this._toggleListBox(e);\n\n          return !0;\n        }\n\n        return !this.finishEditing();\n\n      case Key.Tab:\n        e.preventDefault();\n        return !this.finishEditing();\n\n      case Key.Escape:\n        e.preventDefault();\n        this.finishEditing(!0);\n        return !0;\n\n      case Key.Up:\n      case Key.Down:\n      case Key.Left:\n      case Key.Right:\n      case Key.PageUp:\n      case Key.PageDown:\n      case Key.Home:\n      case Key.End:\n        if (this._lbx) return this._keydownListBox(e);\n        if (e.altKey) switch (e.keyCode) {\n          case Key.Up:\n          case Key.Down:\n            this._toggleListBox(e);\n\n            e.preventDefault();\n            return !0;\n        }\n        if (this._fullEdit) switch (e.keyCode) {\n          case Key.PageUp:\n          case Key.PageDown:\n            e.preventDefault();\n        } else if (this.finishEditing()) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype._keydownListBox = function (e) {\n    var t = !0;\n    if (this._lbx) switch (e.keyCode) {\n      case Key.Up:\n        e.altKey ? this._toggleListBox(e) : this._lbx.selectedIndex > 0 && this._lbx.selectedIndex--;\n        break;\n\n      case Key.Down:\n        e.altKey ? this._toggleListBox(e) : this._lbx.selectedIndex++;\n        break;\n\n      case Key.Home:\n      case Key.PageUp:\n        this._lbx.selectedIndex = 0;\n        break;\n\n      case Key.End:\n      case Key.PageDown:\n        this._lbx.selectedIndex = this._lbx.collectionView.items.length - 1;\n        break;\n\n      default:\n        t = !1;\n    }\n\n    if (t) {\n      e.preventDefault();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._keypress = function (e) {\n    if (\"AltLeft\" != e.code && \"AltRight\" != e.code) {\n      var t = this._edt,\n          i = e.charCode || 32,\n          o = this._list;\n\n      if (t && \"checkbox\" != t.type && getActiveElement() == t && o && o.length > 0 && i >= 32) {\n        var n = t.selectionStart,\n            r = t.value.substr(0, n);\n\n        if (e.target == t && e.charCode) {\n          r += String.fromCharCode(e.charCode);\n          n++;\n        }\n\n        var l = this._findString(o, r, !0);\n\n        l < 0 && !this._g.caseSensitiveSearch && (l = this._findString(o, r, !1));\n\n        if (l > -1) {\n          var s = this._lbx;\n          s && (s.selectedIndex = l);\n          t.value = o[l];\n          setSelectionRange(t, n, t.value.length);\n          t.dispatchEvent(this._evtInput);\n          e.preventDefault && e.preventDefault();\n        }\n      }\n    } else e.preventDefault();\n  };\n\n  _EditHandler.prototype._findString = function (e, t, i) {\n    i || (t = t.toLowerCase());\n\n    for (var o = 0; o < e.length; o++) {\n      var n = e[o];\n\n      if (null != n) {\n        n = n.toString();\n        i || (n = n.toLowerCase());\n        if (0 == n.indexOf(t)) return o;\n      }\n    }\n\n    return -1;\n  };\n\n  _EditHandler.prototype._toggleListBox = function (e, t) {\n    var i = this._g,\n        o = i._selHdl.selection,\n        n = i.isTouching;\n    t || (t = o);\n\n    if (this._lbx) {\n      this._removeListBox();\n\n      if (o.intersects(t)) {\n        i.activeEditor ? i.activeEditor.focus() : i.containsFocus() || i.focus();\n        return !0;\n      }\n    }\n\n    if (!t.isValid) return !1;\n\n    var r = i.rows[t.row],\n        l = i._getBindingColumn(i.cells, t.row, i.columns[t.col]),\n        s = r.dataMap || l.dataMap,\n        a = i._getMapEditor(r, l);\n\n    if (!s || a != DataMapEditor.DropDownList || !softInput()) return !1;\n    if (null != l.editor) return !1;\n    if (!t.intersects(i.editRange) && !this.startEditing(!0, t.row, t.col, !n, e)) return !1;\n\n    var d = this._lbx = this._createListBox();\n\n    requestAnimationFrame(function () {\n      return d.showSelection();\n    });\n    n && d.focus();\n    return !0;\n  };\n\n  _EditHandler.prototype._createListBox = function () {\n    var e = this,\n        t = this._g,\n        i = t.activeEditor,\n        o = this._rng,\n        n = t.rows[o.row],\n        r = t._getBindingColumn(t.cells, o.row, t.columns[o.col]),\n        l = r.isContentHtml || n.isContentHtml,\n        s = r.dataMap || n.dataMap,\n        a = r.dropDownCssClass || n.dropDownCssClass,\n        d = document.createElement(\"div\");\n\n    this._removeListBox();\n\n    addClass(d, \"wj-dropdown-panel wj-grid-listbox\");\n    addClass(d, a);\n    var c = i ? i.value : t.getCellData(o.row, o.col, !0),\n        u = new mInput.ListBox(d, {\n      maxHeight: n.renderHeight * _LB_PAGE_SIZE,\n      isContentHtml: l,\n      itemsSource: s.getDisplayValues(n.dataItem),\n      selectedValue: c\n    });\n    u.addEventListener(d, \"keydown\", function (i) {\n      switch (i.keyCode) {\n        case Key.Enter:\n        case Key.Escape:\n          e._removeListBox();\n\n          t.focus();\n      }\n    });\n    u.addEventListener(d, \"click\", function () {\n      e._removeListBox();\n\n      t.focus();\n      e.finishEditing();\n    });\n    u.gotFocus.addHandler(function () {\n      u.containsFocus() && i && i.focus();\n    });\n    u.selectedIndexChanged.addHandler(function () {\n      var i = t.activeEditor;\n\n      if (i) {\n        i.value = e._list[u.selectedIndex];\n        i.dispatchEvent(e._evtInput);\n        setSelectionRange(i, 0, i.value.length);\n      }\n    });\n    var h = t.cells.getCellElement(o.row, o.col);\n\n    if (h) {\n      showPopup(d, h, !1, !1, !1);\n      var p = h.querySelector(\".\" + CellFactory._WJC_DROPDOWN);\n      setAttribute(p, \"aria-expanded\", !0);\n    } else {\n      showPopup(d, t.getCellBoundingRect(o.row, o.col));\n      d[Control._OWNR_KEY] = t.hostElement;\n    }\n\n    return u;\n  };\n\n  _EditHandler.prototype._removeListBox = function () {\n    var e = this._lbx;\n\n    if (e) {\n      this._lbx = null;\n      hidePopup(e.hostElement, function () {\n        e.dispose();\n      });\n    }\n  };\n\n  _EditHandler._msgRequired = \"\";\n  _EditHandler._msgBadInput = \"\";\n  return _EditHandler;\n}();\n\nexport { _EditHandler };\n\nvar _CustomEditor = function () {\n  function _CustomEditor(e, t) {\n    this._col = asType(e, Column);\n    this._ctl = t;\n    this._tbx = t.hostElement.querySelector(\"input\");\n    assert(this._col instanceof Column, \"Invalid Column\");\n    assert(this._ctl instanceof Control, \"Invalid edit control\");\n    assert(this._tbx instanceof HTMLInputElement, \"Input element not found in editor\");\n    var i = this._ctl;\n    this._prop = isUndefined(i.value) ? isUndefined(i.checkedItems) ? isUndefined(i.text) ? null : \"text\" : \"checkedItems\" : \"value\";\n    assert(null != this._prop, \"value, text properties not found in editor\");\n    var o = softInput();\n\n    if (o) {\n      this._isDropDown = i instanceof o.DropDown;\n      this._isComboBox = i instanceof o.ComboBox;\n      this._isAutoComplete = i instanceof o.AutoComplete;\n      this._isInputDateTime = i instanceof o.InputDateTime;\n      this._isInputMask = i instanceof o.InputMask;\n    }\n\n    this._updateFocusBnd = this._updateFocus.bind(this);\n    this._keypressBnd = this._keypress.bind(this);\n    this._keydownBnd = this._keydown.bind(this);\n    this._cmpstartBnd = this._cmpstart.bind(this);\n    this._mousedownBnd = this._mousedown.bind(this);\n\n    this._connect();\n\n    this._col.gridChanged.addHandler(this._connect, this);\n\n    this._hideEditor();\n\n    this._updateFocus();\n  }\n\n  Object.defineProperty(_CustomEditor.prototype, \"grid\", {\n    get: function get() {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_CustomEditor.prototype, \"column\", {\n    get: function get() {\n      return this._col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_CustomEditor.prototype, \"control\", {\n    get: function get() {\n      return this._ctl;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _CustomEditor.prototype.dispose = function () {\n    this._disconnect();\n\n    this._isDropDown && (this._isDropDown = !1);\n    this._g = this._col = this._ctl = this._tbx = null;\n  };\n\n  _CustomEditor.prototype._connect = function () {\n    var e = this._col ? this._col.grid : null;\n\n    if (e != this._g) {\n      this._disconnect();\n\n      if (e) {\n        var t = e.hostElement,\n            i = e.addEventListener.bind(e),\n            o = this._updateFocusBnd;\n        this._g = e;\n        i(t, \"keydown\", this._keydownBnd, !0);\n        i(t, \"keypress\", this._keypressBnd, !0);\n        i(t, \"mousedown\", this._mousedownBnd, !0);\n        i(t, \"mouseup\", o, !0);\n        i(t, \"blur\", o, !0);\n        i(t, \"focus\", o);\n        i(this._tbx, \"compositionstart\", this._cmpstartBnd);\n        e.selectionChanged.addHandler(o, this);\n        e.prepareCellForEdit.addHandler(this._prepareCellForEdit, this);\n        e.cellEditEnding.addHandler(this._cellEditEnding, this);\n        e.cellEditEnded.addHandler(this._cellEditEnded, this);\n      }\n    }\n  };\n\n  _CustomEditor.prototype._disconnect = function () {\n    var e = this._g;\n\n    if (e) {\n      var t = e.hostElement,\n          i = e.removeEventListener.bind(e),\n          o = this._updateFocusBnd;\n      i(t, \"keydown\", this._keydownBnd);\n      i(t, \"keypress\", this._keypressBnd);\n      i(t, \"mousedown\", this._mousedownBnd);\n      i(t, \"mouseup\", o);\n      i(t, \"blur\", o);\n      i(t, \"focus\", o);\n      i(this._tbx, \"compositionstart\", this._cmpstartBnd);\n      e.selectionChanged.removeHandler(o, this);\n      e.prepareCellForEdit.removeHandler(this._prepareCellForEdit, this);\n      e.cellEditEnding.removeHandler(this._cellEditEnding, this);\n      e.cellEditEnded.removeHandler(this._cellEditEnded, this);\n      this._g = null;\n    }\n  };\n\n  _CustomEditor.prototype._prepareCellForEdit = function (e, t) {\n    if (!t.cancel && t.getColumn(!0) == this._col) {\n      var i = this.grid,\n          o = this._ctl,\n          n = this._tbx,\n          r = this._prop,\n          l = t.range,\n          s = t.data,\n          a = s ? s.type : \"\",\n          d = i.getCellData(l.row, l.col, \"text\" == r || this._isInputMask),\n          c = !1;\n\n      if (this._isComboBox) {\n        o._oldText = \"\";\n\n        if (!o.isRequired) {\n          o.selectedIndex = -1;\n          n.value = \"\";\n        }\n\n        this._isInputDateTime && o._setDropdown(o._ddDate);\n      }\n\n      if (\"checkedItems\" == r) {\n        if (o.showFilterInput) {\n          o.showFilterInput = !1;\n          o.showFilterInput = !0;\n        }\n\n        if (null == d || 0 == d.length) {\n          o[r] = [];\n          o.selectedIndex = 0;\n        }\n      }\n\n      if (null != d || !o.isRequired) {\n        o[r] = d;\n\n        if (this._isAutoComplete) {\n          clearTimeout(o._toSearch);\n          d && (o.selectedIndex = o._findNext(d, 1, -1));\n        }\n      }\n\n      switch (a) {\n        case \"keydown\":\n        case \"mousedown\":\n          if (isUndefined(s.keyCode) || s.keyCode == Key.F4 || s.altKey) {\n            c = this._isDropDown;\n\n            if (this._isAutoComplete && (null == d || isString(d))) {\n              var u = o.collectionView;\n\n              if (u) {\n                if (u.filter || o._rxHighlight) {\n                  o._rxHighlight = null;\n                  u.filter = null;\n                }\n\n                o.selectedIndex = d ? o._findNext(d, 1, -1) : -1;\n              }\n            }\n          }\n\n      }\n\n      i.showPlaceholders && !o.placeholder && (n.placeholder = this._col.header);\n\n      this._showEditor();\n\n      i._edtHdl._fullEdit = !0;\n\n      if (0 == a.indexOf(\"key\") && 32 == s.keyCode) {\n        setSelectionRange(n, n.value.length);\n        s.preventDefault();\n      }\n\n      if (isIE()) if (\"keypress\" == a && s.key) {\n        setTimeout(function () {\n          n.value = s.key;\n          setSelectionRange(n, 1);\n          var e = document.createEvent(\"HTMLEvents\");\n          e.initEvent(\"input\", !0, !1);\n          n.dispatchEvent(e);\n        });\n        s.preventDefault();\n      } else if (\"compositionstart\" == a) {\n        var h = n.value.length;\n        setSelectionRange(n, h);\n      }\n      this._isDropDown && (o.isDroppedDown = c);\n    }\n  };\n\n  _CustomEditor.prototype._cellEditEnding = function (e, t) {\n    if (!t.cancel && t.getColumn(!0) == this._col) {\n      var i = this.grid,\n          o = this._ctl,\n          n = this._prop;\n\n      if (this._isAutoComplete) {\n        var r = o.selectedIndex;\n\n        if (isNumber(r) && r < 0) {\n          var l = o.collectionView;\n          l && 1 == l.items.length ? o.selectedIndex = 0 : this._col.isRequired && (t.cancel = !0);\n        }\n      }\n\n      !t.cancel && n && i._edtHdl._setCustomEditorValue(o[n]);\n    }\n  };\n\n  _CustomEditor.prototype._cellEditEnded = function (e, t) {\n    this._hideEditor();\n\n    this._updateFocus();\n  };\n\n  _CustomEditor.prototype._cmpstart = function (e) {\n    var t = this;\n    isIE() ? setTimeout(function () {\n      t._activateEditor(e);\n    }) : this._activateEditor(e);\n  };\n\n  _CustomEditor.prototype._keypress = function (e) {\n    e.defaultPrevented || this.grid.activeEditor || !this._checkColumn(e.target) || e.ctrlKey || e.altKey || e.metaKey || 27 == e.keyCode || this._activateEditor(e);\n  };\n\n  _CustomEditor.prototype._keydown = function (e) {\n    if (!e.defaultPrevented && this._checkColumn(e.target)) if (this.grid.activeEditor) {\n      if (e.keyCode == Key.Enter && this._isDropDown) {\n        var t = this._ctl;\n\n        if (t.isDroppedDown) {\n          t.isDroppedDown = !1;\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n      }\n    } else if (this._isDropDown) {\n      var i = e.keyCode;\n\n      switch (i) {\n        case Key.F4:\n        case Key.Up:\n        case Key.Down:\n          if (i == Key.F4 || e.altKey) {\n            this._activateEditor(e);\n\n            e.preventDefault();\n          }\n\n      }\n    }\n  };\n\n  _CustomEditor.prototype._checkColumn = function (e) {\n    if (contains(e, this._tbx)) {\n      var t = this._g,\n          i = t._selHdl.selection;\n      return t._getBindingColumn(t.cells, i.row, t.columns[i.col]) == this._col;\n    }\n\n    return !1;\n  };\n\n  _CustomEditor.prototype._mousedown = function (e) {\n    if (!e.defaultPrevented && 0 == e.button && !e.shiftKey && !e.ctrlKey && !e.metaKey && this._isDropDown && closestClass(e.target, CellFactory._WJC_DROPDOWN)) {\n      var t = this.grid,\n          i = t.hitTest(e);\n\n      if (i.getColumn(!0) == this._col) {\n        t.select(i.range);\n        t.refresh();\n\n        this._activateEditor(e);\n\n        e.preventDefault();\n      }\n    }\n  };\n\n  _CustomEditor.prototype._activateEditor = function (e) {\n    var t = this.grid;\n\n    if (!t.activeEditor) {\n      var i = t._selHdl.selection;\n      if (i.isValid) return t.startEditing(!0, i.row, i.col, !0, e);\n    }\n\n    return !1;\n  };\n\n  _CustomEditor.prototype._showEditor = function () {\n    var e = this.grid,\n        t = e.activeEditor,\n        i = closest(t, \".wj-cell\");\n\n    if (i) {\n      var o = this._tbx,\n          n = this._ctl.hostElement;\n      setCss(n, _CustomEditor._cssVisible);\n      toggleClass(o, \"wj-grid-ime\", !1);\n      i.innerHTML = \"\";\n      i.appendChild(n);\n      e._edtHdl._edt = o;\n      o.select();\n      o.focus();\n      t.value = \"\";\n    }\n  };\n\n  _CustomEditor.prototype._hideEditor = function () {\n    var e = this.grid,\n        t = this._ctl.hostElement,\n        i = this._tbx;\n    this._isDropDown && (this._ctl.isDroppedDown = !1);\n    i.setCustomValidity(\"\");\n    var o = i.value;\n    i.value = o + \" \";\n    i.value = o;\n    setCss(t, _CustomEditor._cssHidden);\n    toggleClass(i, \"wj-grid-ime\", !0);\n    e && t.parentElement != e._root && e._root.appendChild(t);\n  };\n\n  _CustomEditor.prototype._updateFocus = function () {\n    var e = this.grid;\n\n    if (e && !e.activeEditor) {\n      var t = e.hostElement,\n          i = \".wj-flexgrid\",\n          o = this._tbx,\n          n = getActiveElement(),\n          r = e._getTabIndex();\n\n      if (closest(n, i) == t) if (closest(o, i) != t) this._hideEditor();else {\n        var l = e._selHdl.selection,\n            s = e._getBindingColumn(e.cells, l.row, e.columns[l.col]);\n\n        if (s && s == this._col && e.canEditCell(l.row, l.col)) {\n          o.tabIndex = r;\n          o.select();\n          o.focus();\n        } else if (o.tabIndex > -1) {\n          o.tabIndex = -1;\n          n == o && e.focus(!0);\n        }\n      }\n    }\n  };\n\n  _CustomEditor._cssHidden = {\n    position: \"fixed\",\n    left: -32e3,\n    top: -32e3,\n    width: \"1px\",\n    height: \"1px\",\n    overflow: \"hidden\",\n    border: \"none\"\n  };\n  _CustomEditor._cssVisible = {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\"\n  };\n  return _CustomEditor;\n}();\n\nexport { _CustomEditor };\nexport var KeyAction;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.MoveDown = 1] = \"MoveDown\";\n  e[e.MoveAcross = 2] = \"MoveAcross\";\n  e[e.Cycle = 3] = \"Cycle\";\n  e[e.CycleOut = 4] = \"CycleOut\";\n  e[e.CycleEditable = 5] = \"CycleEditable\";\n}(KeyAction || (KeyAction = {}));\n\nvar _KeyboardHandler = function () {\n  function _KeyboardHandler(e) {\n    this._kaTab = KeyAction.None;\n    this._kaEnter = KeyAction.MoveDown;\n    this._g = e;\n    var t = e.hostElement;\n    e.addEventListener(t, \"keypress\", this._keypress.bind(this));\n    e.addEventListener(t, \"keydown\", this._keydown.bind(this));\n  }\n\n  _KeyboardHandler.prototype._keydown = function (e) {\n    var t = this._g,\n        i = t._edtHdl,\n        o = t.selection,\n        n = e.ctrlKey || e.metaKey,\n        r = e.shiftKey,\n        l = e.altKey,\n        s = e.target,\n        a = e.char || e.key,\n        d = !0;\n\n    if (!n && !l && a && 1 == a.length && closest(s, \".wj-cell\") && s.firstElementChild && (\" \" != a || !r)) {\n      var c = s.querySelectorAll(\".\" + CellFactory._WJC_RADIOMAP + \" label input\");\n\n      if (c && c.length) {\n        for (var u = -1, h = 0; h < c.length; h++) {\n          if (c[h].checked) {\n            u = h;\n            break;\n          }\n        }\n\n        a = a.toLowerCase();\n\n        for (h = 0; h < c.length; h++) {\n          var p = c[(u + h + 1) % c.length];\n\n          if (\" \" == a || p.value.toLowerCase()[0] == a) {\n            p.click();\n            e.preventDefault();\n            return;\n          }\n        }\n      }\n    }\n\n    if (!t._wantsInput(s)) {\n      var g = tryCast(t.rows[o.row], GroupRow),\n          f = t.editableCollectionView,\n          _ = t._getKeyCode(e),\n          m = SelMove,\n          w = SelectionMode,\n          C = e.defaultPrevented && !(s instanceof HTMLInputElement);\n\n      if ((t.isRangeValid(o) && !C || n && 65 == _) && (!t.activeEditor || !i._keydown(e) || t._isNativeCheckbox(t.activeEditor))) {\n        if (t.autoClipboard) {\n          if (n && (67 == _ || 45 == _)) {\n            var v = new CellRangeEventArgs(t.cells, o);\n\n            if (t.onCopying(v)) {\n              var y = HeadersVisibility,\n                  b = 0 != (t.copyHeaders & y.Column),\n                  R = 0 != (t.copyHeaders & y.Row),\n                  E = t.getClipString(null, !1, b, R) + \"\\r\\n\";\n\n              t._eFocus.focus();\n\n              Clipboard.copy(E);\n              t.onCopied(v);\n            }\n\n            e.stopPropagation();\n            return;\n          }\n\n          if (n && 86 == _ || r && 45 == _) {\n            t.isReadOnly || Clipboard.paste(function (e) {\n              t.setClipString(e);\n            });\n            e.stopPropagation();\n            return;\n          }\n        }\n\n        (r || n) && \"Space\" == e.code && (_ = Key.Space);\n\n        switch (_) {\n          case Key.Space:\n            if (r && o.isValid) switch (t.selectionMode) {\n              case w.CellRange:\n              case w.MultiRange:\n              case w.Row:\n              case w.RowRange:\n              case w.ListBox:\n                t.select(new CellRange(o.row, 0, o.row, t.columns.length - 1), !1);\n            } else if (n && o.isValid) switch (t.selectionMode) {\n              case w.CellRange:\n              case w.MultiRange:\n                t.select(new CellRange(0, o.col, t.rows.length - 1, o.col), !1);\n            } else {\n              (d = this._startEditing(!0, e)) && setTimeout(function () {\n                var e = t.activeEditor;\n                if (e) if (e.disabled || e.readOnly && !closest(e, \".wj-control\")) t.finishEditing();else if (\"checkbox\" == e.type) {\n                  setChecked(e, e.indeterminate || !e.checked);\n                  t.finishEditing();\n                }\n              });\n              d = !0;\n            }\n            break;\n\n          case 65:\n            if (n) switch (t.selectionMode) {\n              case w.None:\n              case w.Cell:\n                break;\n\n              default:\n                t.selectAll();\n            } else d = !1;\n            break;\n\n          case Key.Left:\n            n || l ? d = !1 : o.isValid && 0 == o.leftCol && g && !g.isCollapsed && g.hasChildren ? g.isCollapsed = !0 : this._moveSel(m.None, n ? m.Home : m.Prev, r);\n            break;\n\n          case Key.Right:\n            n || e.altKey ? d = !1 : o.isValid && 0 == o.leftCol && g && g.isCollapsed ? g.isCollapsed = !1 : this._moveSel(m.None, n ? m.End : m.Next, r);\n            break;\n\n          case Key.Up:\n            n ? d = !1 : e.altKey && i._toggleListBox(e) ? d = !0 : this._moveSel(m.Prev, m.None, r);\n            break;\n\n          case Key.Down:\n            n ? d = !1 : e.altKey && i._toggleListBox(e) ? d = !0 : this._moveSel(m.Next, m.None, r);\n            break;\n\n          case Key.PageUp:\n            this._moveSel(e.altKey ? m.Home : m.PrevPage, m.None, r);\n\n            if (t.rows.frozen && t.selection.row < t.rows.frozen) {\n              var x = t.scrollPosition;\n              x.y && (t.scrollPosition = new Point(x.x, 0));\n            }\n\n            break;\n\n          case Key.PageDown:\n            this._moveSel(e.altKey ? m.End : m.NextPage, m.None, r);\n\n            break;\n\n          case Key.Home:\n            this._moveSel(n ? m.Home : m.None, m.Home, r);\n\n            break;\n\n          case Key.End:\n            this._moveSel(n ? m.End : m.None, m.End, r);\n\n            break;\n\n          case Key.Tab:\n            d = this._performKeyAction(t.keyActionTab, r);\n            break;\n\n          case Key.Enter:\n            d = this._performKeyAction(t.keyActionEnter, r);\n            !r && f && null != f.currentEditItem && i._commitRowEdits();\n            break;\n\n          case Key.Escape:\n            d = !1;\n\n            if (f && (f.currentAddItem || f.currentEditItem)) {\n              var S = new CellRangeEventArgs(t.cells, t.selection);\n              S.cancel = !0;\n              t.onRowEditEnding(S);\n              f.currentAddItem && f.cancelNew();\n              f.currentEditItem && f.cancelEdit();\n              t.onRowEditEnded(S);\n              d = !0;\n            }\n\n            t._mouseHdl.resetMouseState();\n\n            break;\n\n          case Key.Delete:\n          case Key.Back:\n            d = this._deleteSel(e);\n            break;\n\n          case Key.F2:\n            d = this._startEditing(!0, e);\n            break;\n\n          case Key.F4:\n            d = i._toggleListBox(e);\n            break;\n\n          default:\n            d = !1;\n        }\n\n        if (d) {\n          t.containsFocus() || t.focus();\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._performKeyAction = function (e, t) {\n    var i = KeyAction,\n        o = SelMove;\n\n    switch (e) {\n      case i.MoveDown:\n        this._moveSel(t ? o.Prev : o.Next, o.None, !1);\n\n        return !0;\n\n      case i.MoveAcross:\n        this._moveSel(o.None, t ? o.Prev : o.Next, !1);\n\n        return !0;\n\n      case i.Cycle:\n        this._moveSel(o.None, t ? o.PrevCell : o.NextCell, !1);\n\n        return !0;\n\n      case i.CycleEditable:\n        this._moveSel(o.None, t ? o.PrevEditableCell : o.NextEditableCell, !1);\n\n        return !0;\n\n      case i.CycleOut:\n        var n = this._g.selection;\n\n        this._moveSel(o.None, t ? o.PrevCell : o.NextCell, !1);\n\n        return !n.equals(this._g.selection);\n    }\n\n    return !1;\n  };\n\n  _KeyboardHandler.prototype._keypress = function (e) {\n    var t = this,\n        i = this._g;\n\n    if (!i._wantsInput(e.target) && !e.defaultPrevented) {\n      var o = i._edtHdl;\n      if (i.activeEditor) o._keypress(e);else if (e.charCode > Key.Space && \"AltLeft\" != e.code && \"AltRight\" != e.code) if (this._startEditing(!1, e) && i.activeEditor) {\n        var n = getActiveElement();\n\n        if (n instanceof HTMLInputElement && \"checkbox\" != n.type || n instanceof HTMLTextAreaElement) {\n          var r = i._selHdl.selection,\n              l = i.getCellData(r.row, r.col, !0),\n              s = i.getCellData(r.row, r.col, !1),\n              a = culture.Globalize.numberFormat[\"%\"] || \"%\",\n              d = String.fromCharCode(e.charCode),\n              c = isNumber(s) && l.indexOf(a) > -1 || \"\" == l && n.value == a;\n          n.value = c ? d + a : d;\n          setSelectionRange(n, 1);\n          n.dispatchEvent(o._evtInput);\n\n          o._keypress(e);\n\n          o._edtValue = n.value != l ? n.value : null;\n          e.preventDefault();\n        }\n      } else if (i.autoSearch) {\n        var u = !1;\n        r = i._selHdl.selection;\n\n        if (e.charCode > 32 || 32 == e.charCode && this._search) {\n          e.preventDefault();\n          this._search += String.fromCharCode(e.charCode);\n          this._toSearch && clearTimeout(this._toSearch);\n          this._toSearch = setTimeout(function () {\n            t._toSearch = null;\n            t._search = \"\";\n          }, Control._SEARCH_DELAY);\n\n          var h = this._findNext(r.row, r.col);\n\n          if (h < 0 && this._search.length > 1) {\n            this._search = this._search[this._search.length - 1];\n            h = this._findNext(r.row, r.col);\n          }\n\n          if (h > -1) {\n            u = !0;\n            i.select(h, r.col);\n          }\n        }\n\n        u || (this._search = \"\");\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._findNext = function (e, t) {\n    var i = this._g,\n        o = i.rows.length;\n    (e < 0 || 1 == this._search.length) && e++;\n    var n = this._search,\n        r = i.caseSensitiveSearch;\n    r || (n = n.toLowerCase());\n\n    for (var l = i.columns[t].isContentHtml, s = 0; s < o; s++) {\n      var a = (e + s) % o,\n          d = i.getCellData(a, t, !0).trim();\n      l && (d = toPlainText(d));\n      r || (d = d.toLowerCase());\n      if (0 == d.indexOf(n)) return a;\n    }\n\n    return -1;\n  };\n\n  _KeyboardHandler.prototype._moveSel = function (e, t, i) {\n    var o = this._g;\n    o.selectionMode != SelectionMode.None && o._selHdl.moveSelection(e, t, i);\n  };\n\n  _KeyboardHandler.prototype._deleteSel = function (e) {\n    var t = this,\n        i = this._g,\n        o = i.rows,\n        n = i.editableCollectionView,\n        r = i.selection,\n        l = [],\n        s = new CellRange(),\n        a = new CellEditEndingEventArgs(i.cells, s, e),\n        d = SelectionMode;\n    if (!i._edtHdl._allowEdit()) return !1;\n    if (i.allowDelete && (null == n || n.canRemove && !n.isAddingNew && !n.isEditingItem) && 0 == (l = o.filter(function (e) {\n      return e.isSelected;\n    })).length) switch (i.selectionMode) {\n      case d.CellRange:\n      case d.MultiRange:\n        var c = i._getDeleteColumnIndex();\n\n        i.selectedRanges.forEach(function (e) {\n          if (e.leftCol == c && e.rightCol == i.columns.length - 1) for (var t = e.topRow; t > -1 && t <= e.bottomRow; t++) {\n            var n = o[t];\n            l.indexOf(n) < 0 && l.push(n);\n          }\n        });\n        break;\n\n      case d.Row:\n        r.topRow > -1 && l.push(o[r.topRow]);\n        break;\n\n      case d.RowRange:\n        for (var u = r.topRow; u > -1 && u <= r.bottomRow; u++) {\n          l.push(o[u]);\n        }\n\n    }\n\n    if (l.length > 0) {\n      var h = 0;\n      i.deferUpdate(function () {\n        n && n.beginUpdate();\n\n        for (var e = l.length - 1; e >= 0; e--) {\n          var t = l[e];\n\n          if (!(t instanceof _NewRowTemplate)) {\n            s.setRange(t.index, -1);\n\n            if (i.onDeletingRow(a)) {\n              n && t.dataItem ? n.remove(t.dataItem) : i.rows.removeAt(t.index);\n              h++;\n              i.onDeletedRow(a);\n            }\n          }\n        }\n\n        n && n.endUpdate(!1);\n      });\n\n      if (h > 0) {\n        var p = r.topRow;\n        p = Math.min(p, i.rows.length - 1);\n\n        for (; p > 0 && i.rows[p] instanceof _NewRowTemplate;) {\n          p--;\n        }\n\n        r.row = r.row2 = p;\n        i.select(r, !1);\n        i.childItemsPath && n && n.refresh();\n      }\n\n      return !0;\n    }\n\n    if (0 == l.length) {\n      i.deferUpdate(function () {\n        var s = i.scrollPosition,\n            a = -1;\n        l = o.filter(function (e) {\n          return e.isSelected;\n        });\n        var c = i.selectedRanges.length > 1 || l.length > 1 || r.isValid && o[r.row].dataItem != o[r.row2].dataItem;\n        n && n.beginUpdate();\n\n        if (l.length) {\n          var u = new CellRange(0, 0, 0, i.columns.length - 1);\n          l.forEach(function (i) {\n            u.row = u.row2 = i.index;\n\n            t._deleteRange(e, u);\n\n            a = u.bottomRow;\n          });\n        } else {\n          t._deleteRange(e, r);\n\n          a = r.bottomRow;\n          i.selectionMode == d.MultiRange && i._selHdl.extendedSelection.forEach(function (i) {\n            t._deleteRange(e, i);\n\n            a = i.bottomRow;\n          });\n        }\n\n        i.select(r, !1);\n        i.scrollPosition = s;\n\n        if (n) {\n          if (c && n.currentEditItem) {\n            n.commitEdit();\n            var h = new CellRangeEventArgs(i.cells, new CellRange(a, -1));\n            i.onRowEditEnding(h);\n            i.onRowEditEnded(h);\n          }\n\n          n.endUpdate(!1);\n        }\n      });\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _KeyboardHandler.prototype._deleteRange = function (e, t) {\n    for (var i = this._g, o = i.editableCollectionView, n = new CellRange(), r = new CellEditEndingEventArgs(i.cells, n, e), l = new CellRangeEventArgs(i.cells, new CellRange(t.topRow, -1)), s = t.topRow; s <= t.bottomRow; s++) {\n      var a = i.rows[s];\n      if (!a.isReadOnly) for (var d = t.leftCol; d <= t.rightCol; d++) {\n        var c = i._getBindingColumn(i.cells, s, i.columns[d]);\n\n        if (!c.getIsRequired(a) && !c.isReadOnly && i.getCellData(s, d, !0)) {\n          n.setRange(s, d);\n          r.cancel = !1;\n\n          if (i.onBeginningEdit(r)) {\n            var u = a.dataItem,\n                h = o ? o.currentEditItem : null;\n\n            if (h && u != h) {\n              i.onRowEditEnding(l);\n              i.onRowEditEnded(l);\n            }\n\n            if (u != h) {\n              l._rng.setRange(s, -1);\n\n              i.onRowEditStarting(l);\n              i.onRowEditStarted(l);\n            }\n\n            if (o) {\n              o.editItem(u);\n              i._edtHdl._edItem = u;\n            }\n\n            i.setCellData(s, d, \"\", !0, !1);\n            i.onCellEditEnding(r);\n            i.onCellEditEnded(r);\n          }\n        }\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._startEditing = function (e, t, i, o) {\n    return this._g._edtHdl.startEditing(e, i, o, !0, t);\n  };\n\n  return _KeyboardHandler;\n}();\n\nexport { _KeyboardHandler };\nvar _AR_ALLCELLS = 4,\n    _WJC_DRAGSRC = \"wj-state-dragsrc\",\n    _WJC_FLEXGRID = \"wj-flexgrid\";\nexport var AllowResizing;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Columns = 1] = \"Columns\";\n  e[e.Rows = 2] = \"Rows\";\n  e[e.Both = 3] = \"Both\";\n  e[e.ColumnsAllCells = e.Columns | _AR_ALLCELLS] = \"ColumnsAllCells\";\n  e[e.RowsAllCells = e.Rows | _AR_ALLCELLS] = \"RowsAllCells\";\n  e[e.BothAllCells = e.Both | _AR_ALLCELLS] = \"BothAllCells\";\n}(AllowResizing || (AllowResizing = {}));\nexport var AutoSizeMode;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Headers = 1] = \"Headers\";\n  e[e.Cells = 2] = \"Cells\";\n  e[e.Both = 3] = \"Both\";\n}(AutoSizeMode || (AutoSizeMode = {}));\nexport var AllowDragging;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Columns = 1] = \"Columns\";\n  e[e.Rows = 2] = \"Rows\";\n  e[e.Both = 3] = \"Both\";\n}(AllowDragging || (AllowDragging = {}));\n\nvar _MouseHandler = function () {\n  function _MouseHandler(e) {\n    var t = this,\n        i = e.hostElement,\n        o = e.addEventListener.bind(e),\n        n = e.removeEventListener.bind(e);\n    this._g = e;\n    this._dvMarker = createElement('<div class=\"wj-marker\">&nbsp;</div>');\n    o(i, \"mousedown\", function (i) {\n      e._rcBounds = null;\n\n      if (!i.defaultPrevented && 0 == i.button) {\n        var r = i.target;\n\n        if (!e.containsFocus()) {\n          var l = r instanceof HTMLElement && r.tabIndex > -1 ? r : e._eFocus;\n\n          e._setFocusNoScroll(l);\n        }\n\n        setTimeout(function () {\n          i.defaultPrevented || e.focus();\n        });\n        var s = closestClass(r, _WJC_FLEXGRID);\n\n        if (s && s != e.hostElement || !e.activeEditor && e._isInputElement(r) && !t._hasRadioMap(i) && !e._isNativeCheckbox(r)) {\n          var a = e.hitTest(i),\n              d = CellType;\n\n          switch (a.cellType) {\n            case d.Cell:\n              e.select(a.range, !1);\n              r instanceof HTMLElement && \"root\" != r.getAttribute(\"wj-part\") && r.focus();\n              break;\n\n            case d.ColumnHeader:\n            case d.ColumnFooter:\n              e.scrollIntoView(-1, a.col);\n              break;\n\n            case d.RowHeader:\n              e.scrollIntoView(a.row, -1);\n          }\n\n          isIE() && a.cellType != d.Cell && e._isInputElement(r) && r.focus();\n          return;\n        }\n\n        var c = document;\n        n(c, \"mousemove\");\n        n(c, \"mouseup\");\n        o(c, \"mousemove\", mouseMove);\n        o(c, \"mouseup\", mouseUp);\n        t._isDown = !0;\n\n        t._mousedown(i);\n      }\n    });\n\n    var mouseMove = function mouseMove(e) {\n      t._mousemove(e);\n    },\n        mouseUp = function mouseUp(e) {\n      t._isDown = !1;\n      n(document, \"mousemove\");\n      n(document, \"mouseup\");\n\n      t._mouseup(e);\n    };\n\n    o(i, \"mouseenter\", function (t) {\n      e._rcBounds = null;\n    });\n    o(i, \"mousemove\", this._hover.bind(this));\n    o(i, \"dblclick\", this._dblclick.bind(this));\n    o(i, \"click\", this._click.bind(this));\n    o(i, \"selectstart\", function (t) {\n      e._isInputElement(t.target) || t.preventDefault();\n    });\n    o(i, \"wheel\", function (t) {\n      if (!t.defaultPrevented && t.deltaY && !t.ctrlKey && !t.metaKey) {\n        var i = e._root,\n            o = t.deltaY;\n\n        if ((t.shiftKey ? i.scrollWidth > i.clientWidth : i.scrollHeight > i.clientHeight) && closestClass(t.target, _WJC_FLEXGRID) == e.hostElement) {\n          switch (t.deltaMode) {\n            case 1:\n              o = e.rows.defaultSize * (o < 0 ? -1 : 1);\n              break;\n\n            case 2:\n              o = (t.shiftKey ? i.clientWidth : i.clientHeight) * (o < 0 ? -1 : 1);\n              break;\n\n            case 0:\n            default:\n              isSafari() && (o = clamp(o, -150, 150));\n          }\n\n          e.containsFocus() || e._eFocus.focus();\n          e.finishEditing(!1) && (t.shiftKey ? i.scrollLeft += o : i.scrollTop += o);\n          t.preventDefault();\n          t.stopImmediatePropagation();\n        }\n      }\n    });\n    o(i, \"dragstart\", this._dragstart.bind(this));\n    o(i, \"dragover\", this._dragover.bind(this));\n    o(i, \"dragleave\", this._dragover.bind(this));\n    o(i, \"drop\", this._drop.bind(this));\n    o(i, \"dragend\", this._dragend.bind(this));\n  }\n\n  _MouseHandler.prototype.resetMouseState = function () {\n    var e = this._g,\n        t = e.hostElement;\n\n    if (this._updating) {\n      this._updating = !1;\n      e.endUpdate();\n    }\n\n    this._dragSrc && removeClass(this._dragSrc, _WJC_DRAGSRC);\n\n    this._showDragMarker(null);\n\n    t && (t.style.cursor = \"\");\n    isSafari() && this._szRowCol && e.invalidate();\n    e.removeEventListener(document, \"mousemove\");\n    e.removeEventListener(document, \"mouseup\");\n    this._eMouse = null;\n    this._isDown = null;\n    this._htDown = null;\n    this._lbSelState = null;\n    this._szRowCol = null;\n    this._szArgs = null;\n    e._rcBounds = null;\n  };\n\n  _MouseHandler.prototype._mousedown = function (e) {\n    var t = this._g,\n        i = e.target,\n        o = t.hitTest(e),\n        n = o.cellType,\n        r = CellType,\n        l = e.ctrlKey || e.metaKey;\n    this._selDown = t.selection;\n    this._ignoreClick = !1;\n\n    if (o.panel == t.cells) {\n      if (closestClass(i, CellFactory._WJC_DROPDOWN)) {\n        var s = t.hitTest(i);\n\n        t._edtHdl._toggleListBox(e, s.range);\n\n        e.preventDefault();\n        this._ignoreClick = !0;\n        return;\n      }\n\n      var a = t.editRange;\n      if (a && a.contains(o.range)) return;\n    }\n\n    var d = getActiveElement();\n    if (i != d || !t._isInputElement(i)) if (n != r.None) {\n      this._htDown = o;\n      this._eMouse = e;\n\n      if (null == this._szRowCol) {\n        var c = t.allowResizing,\n            u = AllowResizing;\n        if ((n == r.RowHeader || n == r.TopLeft) && o.edgeBottom && c & u.Rows && this._getResizeRowHt(o)) this._ignoreClick = !0;else if ((n == r.ColumnHeader || n == r.TopLeft) && o.edgeRight && c & u.Columns && this._getResizeColHt(o)) this._ignoreClick = !0;else {\n          var h = t.allowDragging,\n              p = AllowDragging;\n\n          switch (n) {\n            case r.Cell:\n            case r.RowHeader:\n              if (l && t.selectionMode == SelectionMode.ListBox) {\n                this._lbSelState = t.rows[o.row].isSelected;\n                closest(i, \".wj-elem-collapse\") && (this._lbSelState = !1);\n              }\n\n              this._mouseSelect(e, e.shiftKey);\n\n              if (n == r.RowHeader && !(h & p.Rows)) {\n                e.preventDefault();\n                t.focus();\n              }\n\n              break;\n\n            case r.ColumnHeader:\n              t.allowSorting || h & p.Columns || closest(i, \"button\") || this._mouseSelect(e, e.shiftKey);\n          }\n        }\n      } else {\n        var g = t._eFocus;\n\n        if (d != g) {\n          g.tabIndex = 0;\n          g.focus();\n        }\n\n        this._ignoreClick = !0;\n\n        this._handleResizing(e);\n      }\n    } else {\n      t.finishEditing();\n      i != t._root && i != t._fCt && t._edtHdl._commitRowEdits();\n    }\n  };\n\n  _MouseHandler.prototype._mousemove = function (e) {\n    if (this._htDown && !e.defaultPrevented) {\n      if (0 == e.buttons && this._eMouse && e.timeStamp - this._eMouse.timeStamp > 600) {\n        this.resetMouseState();\n        return;\n      }\n\n      this._eMouse = e;\n      if (this._szRowCol) this._handleResizing(e);else {\n        var t = this._g,\n            i = t.allowDragging,\n            o = AllowDragging,\n            n = CellType;\n\n        switch (this._htDown.cellType) {\n          case n.Cell:\n            this._mouseSelect(e, !0);\n\n            break;\n\n          case n.RowHeader:\n            i & o.Rows || this._mouseSelect(e, !0);\n            break;\n\n          case n.ColumnHeader:\n            i & o.Columns || t.allowSorting || this._mouseSelect(e, !0);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._mouseup = function (e) {\n    var t = this._g;\n\n    if (!t.isTouching || !(this._dragSrc || e.target instanceof HTMLHtmlElement)) {\n      var i = t.hitTest(e),\n          o = this._htDown;\n\n      if (o && !e.defaultPrevented) {\n        this._szArgs && this._finishResizing(e);\n\n        if (!this._szArgs && i.panel == o.panel && i.row == o.row && i.col == o.col) {\n          var n = i.getColumn();\n\n          if (n) {\n            if (!(n._getFlag(RowColFlags.HasTemplate) && !n.cellTemplate)) {\n              var r = i.target;\n\n              if (r != o.target && r instanceof HTMLElement) {\n                if (o.target instanceof HTMLInputElement) {\n                  var l = i.point,\n                      s = o.point;\n                  Math.abs(l.x - s.x) + Math.abs(l.y - s.y) < 10 && (r = r.querySelector(\"input\") || r);\n                }\n\n                var a = document.createEvent(\"Event\");\n                a.initEvent(\"click\", !0, !0);\n\n                for (var d in e) {\n                  /Key$|X$|Y$|^button|^(x|y|which)$/.test(d) && (a[d] = e[d]);\n                }\n\n                r.dispatchEvent(a);\n              }\n            }\n          }\n        }\n      }\n\n      this.resetMouseState();\n    }\n  };\n\n  _MouseHandler.prototype._click = function (e) {\n    if (this._ignoreClick) {\n      this._ignoreClick = !1;\n      e.preventDefault();\n    }\n\n    if (!e.defaultPrevented) {\n      var t = this._g,\n          i = e.target,\n          o = t.hitTest(i),\n          n = tryCast(i, HTMLInputElement),\n          r = \"input.\" + CellFactory._WJC_CHECKBOX;\n\n      if (!n) {\n        var l = closest(i, \"label\");\n        l && (n = l.querySelector(r));\n      }\n\n      !n && t.bigCheckboxes && (n = i.querySelector(r));\n\n      if (n != t.activeEditor && t._isNativeCheckbox(n)) {\n        if (o.panel == t.cells) {\n          var s = t.getCellData(o.row, o.col, !1);\n\n          if (t.startEditing(!1, o.row, o.col, !1, e)) {\n            t.activeEditor.checked = !s;\n            t.finishEditing();\n            t.focus();\n          } else n.checked = s;\n        }\n\n        return;\n      }\n\n      if (this._hasRadioMap(e)) {\n        this._handleClick(e);\n\n        return;\n      }\n\n      var a = e.ctrlKey || e.metaKey;\n\n      if (t.rows.maxGroupLevel > -1 && closestClass(i, CellFactory._WJC_COLLAPSE)) {\n        var d = t.rows[o.row];\n\n        if (o.panel == t.cells && d instanceof GroupRow) {\n          a ? t.collapseGroupsToLevel(d.isCollapsed ? d.level + 1 : d.level) : d.isCollapsed = !d.isCollapsed;\n          return;\n        }\n      }\n\n      if (!a && !e.shiftKey && !t.activeEditor && o.panel == t.cells) {\n        var c = t._selHdl.selection;\n\n        if (c.equals(this._selDown) && o.range.contains(c)) {\n          t.startEditing(!0, null, null, !0, e);\n          return;\n        }\n      }\n\n      this._handleClick(e);\n    }\n  };\n\n  _MouseHandler.prototype._handleClick = function (e) {\n    var t = this._g,\n        i = e.target,\n        o = t.hitTest(i),\n        n = e.ctrlKey || e.metaKey,\n        r = o.panel;\n\n    if (!e.defaultPrevented && o.grid == t) {\n      if (r == t.cells && this._hasRadioMap(e)) {\n        var l = closest(i, \"label\"),\n            s = l && l.querySelector(\"input\");\n        s && !s.disabled && t.startEditing(!1, o.row, o.col, !1, e) && t.finishEditing() && (t._edtHdl._edtCanceled ? e.preventDefault() : t.setCellData(o.row, o.col, l.textContent, !0, t.refreshOnEdit));\n        return;\n      }\n\n      if (!t._isInputElement(i)) {\n        if (r == t.topLeftCells) {\n          var a = SelectionMode;\n\n          switch (t.selectionMode) {\n            case a.None:\n            case a.Cell:\n              break;\n\n            default:\n              t.selectAll();\n          }\n\n          return;\n        }\n\n        if (r == t.columnHeaders) {\n          if (t.allowPinning && closestClass(i, CellFactory._WJC_PIN)) this._clickPin(e, o);else if (closestClass(e.target, CellFactory._WJC_COLLAPSE)) {\n            if (p = t._getColumnGroup(o.row, o.col)) if (n) {\n              for (var d = p.isCollapsed, c = p.level, u = [], h = 0; h < t.columns.length; h++) {\n                if ((p = t._getColumnGroup(o.row, h)) && p.collapseTo && p.level == c && u.indexOf(p) < 0) {\n                  u.push(p);\n                  p.isCollapsed = !d;\n                }\n              }\n            } else p.isCollapsed = !p.isCollapsed;\n          } else {\n            i instanceof HTMLSpanElement && i.parentElement instanceof HTMLLabelElement && (i = i.parentElement.querySelector(\"input\"));\n            i instanceof HTMLInputElement || this._clickSort(e, o);\n            t.focus();\n          }\n          return;\n        }\n\n        if (r == t.rowHeaders) {\n          if (closestClass(e.target, CellFactory._WJC_COLLAPSE)) {\n            var p;\n            if (p = t._getColumnGroup(o.row, o.col)) if (n) {\n              d = p.isCollapsed, c = p.level, u = [];\n\n              for (var g = 0; g < t.rows.length; g++) {\n                if ((p = t._getColumnGroup(g, o.col)) && p.collapseTo && p.level == c && u.indexOf(p) < 0) {\n                  u.push(p);\n                  p.isCollapsed = !d;\n                }\n              }\n            } else p.isCollapsed = !p.isCollapsed;\n          }\n\n          return;\n        }\n\n        if (r == t.cells) {\n          if (o.row < 0) {\n            this._clickSort(e, o);\n\n            return;\n          }\n\n          if (closestClass(i, CellFactory._WJC_COLLAPSE)) {\n            var f = t.rows[o.row];\n            f instanceof GroupRow && (n ? t.collapseGroupsToLevel(f.isCollapsed ? f.level + 1 : f.level) : f.isCollapsed = !f.isCollapsed);\n            return;\n          }\n\n          closestClass(i, CellFactory._WJC_DROPDOWN) && t._edtHdl._toggleListBox(e, o.range);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._hasRadioMap = function (e) {\n    var t = e.target;\n\n    if (closest(t, \"label\")) {\n      var i = closestClass(t, CellFactory._WJC_RADIOMAP);\n      return closestClass(i, _WJC_FLEXGRID) == this._g.hostElement;\n    }\n\n    return !1;\n  };\n\n  _MouseHandler.prototype._clickSort = function (e, t) {\n    var i = this._g,\n        o = i.allowSorting,\n        n = i.collectionView,\n        r = n ? n.sortDescriptions : null,\n        l = e.ctrlKey || e.metaKey,\n        s = e.shiftKey;\n\n    if (n && n.canSort && o != AllowSorting.None) {\n      var a = t.panel.columns[t.col],\n          d = i._getBindingColumn(t.panel, t.row, a),\n          c = d ? d._getBindingSort() : null;\n\n      if (d.allowSorting && c) {\n        if (a == d) {\n          var u = i.getMergedRange(t.panel, t.row, t.col, !1);\n          if (u && u.columnSpan > 1) return;\n        }\n\n        var h = new CellRangeEventArgs(t.panel, t.range, e);\n\n        if (i.onSortingColumn(h)) {\n          i._edtHdl._commitRowEdits();\n\n          for (var p = -1, g = null, f = 0; f < r.length; f++) {\n            if (r[f].property == c) {\n              p = f;\n              g = r[f];\n              break;\n            }\n          }\n\n          r.deferUpdate(function () {\n            if (l && s) r.clear();else if (g) {\n              var e = l;\n              !e && i.isTouching && (e = 0 == g.ascending);\n              e ? r.removeAt(p) : r[p] = new SortDescription(c, !g.ascending);\n            } else {\n              o != AllowSorting.MultiColumn && r.clear();\n              var t = new SortDescription(c, !0);\n              r.push(t);\n            }\n          });\n          i.onSortedColumn(h);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._clickPin = function (e, t) {\n    var i = this._g,\n        o = i.columns,\n        n = o.frozen,\n        r = i.allowPinning;\n    r == AllowPinning.Both && (r = e.shiftKey ? AllowPinning.ColumnRange : AllowPinning.SingleColumn);\n    var l = new CellRangeEventArgs(i.cells, t.range);\n\n    if (i.onPinningColumn(l)) {\n      if (r == AllowPinning.SingleColumn) if (t.col >= n) {\n        o.moveElement(t.col, n, !1);\n        o.frozen++;\n      } else {\n        o.moveElement(t.col, n - 1, !1);\n        o.frozen--;\n      }\n      r == AllowPinning.ColumnRange && (t.col + 1 != n ? o.frozen = t.col + 1 : o.frozen = 0);\n      i.onPinnedColumn(l);\n    }\n  };\n\n  _MouseHandler.prototype._dblclick = function (e) {\n    if (!e.defaultPrevented) {\n      var t,\n          i = this._g,\n          o = i.hitTest(e),\n          n = e.ctrlKey || e.metaKey,\n          r = o.range,\n          l = o.cellType,\n          s = CellType,\n          a = i.selection,\n          d = i.allowResizing,\n          c = AllowResizing;\n\n      if (o.edgeRight && d & c.Columns) {\n        if (l == s.TopLeft) {\n          if (o.panel.columns[o.col].allowResizing) {\n            t = new CellRangeEventArgs(o.panel, new CellRange(-1, o.col));\n\n            if (i.onAutoSizingColumn(t) && i.onResizingColumn(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeColumn(o.col, !0);\n              i.onAutoSizedColumn(t);\n              i.onResizedColumn(t);\n              e.preventDefault();\n            }\n          }\n        } else if (l == s.ColumnHeader || d & _AR_ALLCELLS) {\n          l == s.ColumnHeader && n && a.containsColumn(o.col) && (r = a);\n\n          for (var u = l == s.RowHeader || l == s.BottomLeft, h = r.leftCol; h <= r.rightCol; h++) {\n            if (o.panel.columns[h].allowResizing) {\n              t = new CellRangeEventArgs(o.panel, new CellRange(-1, h));\n\n              if (i.onAutoSizingColumn(t) && i.onResizingColumn(t)) {\n                this._ignoreClick = !0;\n                i.autoSizeColumn(h, u);\n                i.onResizedColumn(t);\n                i.onAutoSizedColumn(t);\n                e.preventDefault();\n              }\n            }\n          }\n        }\n\n        this.resetMouseState();\n      } else if (o.edgeBottom && d & c.Rows) {\n        if (l == s.TopLeft || l == s.BottomLeft) {\n          if (o.getRow().allowResizing) {\n            u = l == s.TopLeft || null;\n            t = new CellRangeEventArgs(o.panel, new CellRange(o.row, -1));\n\n            if (i.onAutoSizingRow(t) && i.onResizingRow(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeRow(o.row, u);\n              i.onResizedRow(t);\n              i.onAutoSizedRow(t);\n              e.preventDefault();\n            }\n          }\n        } else if (l == s.RowHeader || d & _AR_ALLCELLS) {\n          var p = o.panel;\n          u = p == i.columnHeaders || p == i.columnFooters && null;\n          n && a.containsRow(o.row) && p == i.cells && (r = a);\n\n          for (var g = r.topRow; g <= r.bottomRow; g++) {\n            if (p.rows[g].allowResizing) {\n              t = new CellRangeEventArgs(p, new CellRange(g, -1));\n\n              if (i.onAutoSizingRow(t) && i.onResizingRow(t)) {\n                this._ignoreClick = !0;\n                i.autoSizeRow(g, u);\n                i.onResizedRow(t);\n                i.onAutoSizedRow(t);\n                e.preventDefault();\n              }\n            }\n          }\n        }\n\n        this.resetMouseState();\n      } else ;\n    }\n  };\n\n  _MouseHandler.prototype._hover = function (e) {\n    if (!this._isDown) {\n      var t = this._g,\n          i = t.hitTest(e),\n          o = \"\";\n      this._szRowCol = this._getResizeColHt(i) || this._getResizeRowHt(i);\n      this._szRowCol instanceof Column ? o = \"col-resize\" : this._szRowCol instanceof Row && (o = \"row-resize\");\n      this._szStart = this._szRowCol ? this._szRowCol.renderSize : 0;\n      t.hostElement.style.cursor = o;\n      return i;\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._getResizeColHt = function (e) {\n    var t,\n        i = this._g.allowResizing,\n        o = e.cellType,\n        n = CellType;\n\n    if (i & AllowResizing.Columns && (o == n.ColumnHeader || o == n.TopLeft || i & _AR_ALLCELLS)) {\n      e.edgeRight && (t = e.getColumn());\n      e.edgeFarRight && (t = this._getResizeCol(e.panel, e.col) || e.getColumn());\n      e.edgeLeft && (t = this._getResizeCol(e.panel, e.col, !0) || t);\n    }\n\n    return t && t.allowResizing ? t : null;\n  };\n\n  _MouseHandler.prototype._getResizeRowHt = function (e) {\n    var t,\n        i = this._g.allowResizing,\n        o = AllowResizing,\n        n = e.cellType,\n        r = CellType;\n\n    if (i & o.Rows && (n == r.RowHeader || n == r.TopLeft || i & _AR_ALLCELLS)) {\n      e.edgeBottom && (t = e.getRow());\n      e.edgeFarBottom && (t = this._getResizeRow(e.panel, e.row) || e.getRow());\n      e.edgeTop && (t = this._getResizeRow(e.panel, e.row, !0) || t);\n    }\n\n    return t && t.allowResizing ? t : null;\n  };\n\n  _MouseHandler.prototype._getResizeCol = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = e.columns;\n\n    if (i) {\n      for (var r = t - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n\n      if (n == o.columns && 0 != (o.headersVisibility & HeadersVisibility.Row)) for (r = (n = o.rowHeaders.columns).length - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n      return null;\n    }\n\n    for (r = t + 1; r < n.length; r++) {\n      if ((l = n[r]).isVisible) return this._asResizable(l);\n    }\n\n    if (t == n.length - 1 && n == o.rowHeaders.columns) {\n      n = o.columns;\n\n      for (r = 0; r < n.length; r++) {\n        var l;\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._getResizeRow = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = e.rows;\n\n    if (i) {\n      for (var r = t - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n\n      if (n == o.rows && 0 != (o.headersVisibility & HeadersVisibility.Column)) for (r = (n = o.columnHeaders.rows).length - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n      return null;\n    }\n\n    for (r = t + 1; r < n.length; r++) {\n      if ((l = n[r]).isVisible) return this._asResizable(l);\n    }\n\n    if (t == n.length - 1 && n == o.columnHeaders.rows) {\n      n = o.rows;\n\n      for (r = 0; r < n.length; r++) {\n        var l;\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._asResizable = function (e) {\n    return 0 == e.renderSize && e.allowResizing ? e : null;\n  };\n\n  _MouseHandler.prototype._mouseSelect = function (e, t) {\n    var i = this,\n        o = this._g;\n\n    if (e && this._htDown && this._htDown.panel && o.selectionMode != SelectionMode.None) {\n      var n = new HitTestInfo(this._htDown.panel, e);\n\n      this._handleSelection(n, t);\n\n      !isIE9() && e.button >= 0 && e.target != o._root && ((n = new HitTestInfo(o, e)).panel || setTimeout(function () {\n        i._isDown && i._eMouse && i._mouseSelect(i._eMouse, t);\n      }, 100));\n    }\n  };\n\n  _MouseHandler.prototype._handleResizing = function (e) {\n    \"mousedown\" == e.type && (isSafari() ? setAttribute(e.target, \"draggable\", null) : e.preventDefault());\n    var t = this._szRowCol;\n\n    if (t instanceof Column) {\n      var i = this._g,\n          o = mouseToPage(e).x,\n          n = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (o - this._htDown.point.x) * (i.rightToLeft ? -1 : 1)));\n\n      if (t.renderSize != n) {\n        if (null == this._szArgs) {\n          var r = i.rowHeaders.columns.indexOf(t) > -1 ? i.rowHeaders : i.cells;\n          this._szArgs = new CellRangeEventArgs(r, new CellRange(-1, t.index));\n        }\n\n        this._szArgs.cancel = !1;\n        i.onResizingColumn(this._szArgs) && (i.deferResizing ? this._showResizeMarker(n) : t.width = n);\n      }\n    }\n\n    var l = this._szRowCol;\n\n    if (l instanceof Row) {\n      i = this._g;\n      var s = mouseToPage(e).y;\n      n = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (s - this._htDown.point.y)));\n\n      if (l.renderSize != n) {\n        if (null == this._szArgs) {\n          r = i.columnHeaders.rows.indexOf(l) > -1 ? i.columnHeaders : i.columnFooters.rows.indexOf(l) > -1 ? i.columnFooters : i.cells;\n          this._szArgs = new CellRangeEventArgs(r, new CellRange(l.index, -1));\n        }\n\n        this._szArgs.cancel = !1;\n        i.onResizingRow(this._szArgs) && (i.deferResizing ? this._showResizeMarker(n) : l.height = n);\n      }\n    }\n\n    this._szArgs && e.preventDefault();\n  };\n\n  _MouseHandler.prototype._dragstart = function (e) {\n    var t = this._g,\n        i = this._htDown,\n        o = AllowDragging,\n        n = CellType;\n\n    if (i) {\n      this._dragSrc = null;\n      this._htDrag = null;\n\n      if (!this._szRowCol) {\n        var r = new CellRangeEventArgs(i.panel, i.range),\n            l = t.allowDragging,\n            s = i.cellType,\n            a = i.panel.rows,\n            d = i.panel.columns;\n        i.col > -1 && d[i.col].allowDragging && (s == n.ColumnHeader || s == n.TopLeft) && l & o.Columns && (t.onDraggingColumn(r) ? this._dragSrc = e.target : e.preventDefault());\n\n        if (!this._dragSrc && i.row > -1 && a[i.row].allowDragging) {\n          var c = a[i.row];\n          c instanceof GroupRow || c instanceof _NewRowTemplate || s == n.RowHeader && l & o.Rows && (t.onDraggingRow(r) ? this._dragSrc = e.target : e.preventDefault());\n        }\n      }\n\n      if (this._dragSrc && e.dataTransfer && !e.defaultPrevented) {\n        this._htDrag = i;\n\n        _startDrag(e.dataTransfer, \"move\");\n\n        e.stopPropagation();\n        addClass(this._dragSrc, _WJC_DRAGSRC);\n        t.beginUpdate();\n        this._updating = !0;\n      }\n    }\n  };\n\n  _MouseHandler.prototype._dragend = function (e) {\n    this._dragSrc = null;\n    this._htDrag = null;\n    this.resetMouseState();\n  };\n\n  _MouseHandler.prototype._dragover = function (e) {\n    var t = this._g,\n        i = this._hitTest(e),\n        o = this._dragSrc ? this._htDrag : null,\n        n = CellType,\n        r = !1;\n\n    if (o && i.cellType == o.cellType) {\n      var l = new CellRangeEventArgs(i.panel, i.range, o);\n\n      if (i.cellType == n.ColumnHeader) {\n        l.cancel = !t.columns.canMoveElement(o.col, i.col);\n        r = t.onDraggingColumnOver(l);\n      } else if (i.cellType == n.RowHeader) {\n        l.cancel = !t.rows.canMoveElement(o.row, i.row);\n        r = t.onDraggingRowOver(l);\n      } else if (i.cellType == n.TopLeft) {\n        l.cancel = !t.topLeftCells.columns.canMoveElement(o.col, i.col);\n        r = t.onDraggingColumnOver(l);\n      }\n    }\n\n    if (r) {\n      e.dataTransfer.dropEffect = \"move\";\n      e.preventDefault();\n      e.stopPropagation();\n\n      this._showDragMarker(i);\n    } else this._showDragMarker(null);\n\n    if (o && t.autoScroll) {\n      var s = t.controlRect,\n          a = t.scrollPosition,\n          d = Control._DRAG_SCROLL_EDGE,\n          c = Control._DRAG_SCROLL_STEP;\n\n      if (o.panel == t.columnHeaders) {\n        e.pageX - s.left < d && (a.x += c);\n        s.right - e.pageX < d && (a.x -= c);\n      } else if (o.panel == t.rowHeaders) {\n        e.pageY - s.top < d && (a.y += c);\n        s.bottom - e.pageY < d && (a.y -= c);\n      }\n\n      if (!a.equals(t._ptScrl)) {\n        t.scrollPosition = a;\n        t._rcBounds = null;\n      }\n    }\n  };\n\n  _MouseHandler.prototype._drop = function (e) {\n    var t = this._g,\n        i = this._hitTest(e),\n        o = this._dragSrc ? this._htDrag : null,\n        n = CellType;\n\n    if (o && i.cellType == o.cellType) {\n      var r = t.selection,\n          l = new CellRangeEventArgs(i.panel, i.range, o);\n\n      if (i.cellType == n.ColumnHeader) {\n        t.columns.moveElement(o.col, i.col);\n        t.select(r.row, i.col);\n        t.onDraggedColumn(l);\n      } else if (i.cellType == n.RowHeader) {\n        t.rows.moveElement(o.row, i.row);\n        t.select(i.row, r.col);\n        t.onDraggedRow(l);\n      } else if (i.cellType == n.TopLeft) {\n        t.topLeftCells.columns.moveElement(o.col, i.col);\n        t.onDraggedColumn(l);\n      }\n    }\n\n    this.resetMouseState();\n  };\n\n  _MouseHandler.prototype._hitTest = function (e) {\n    var t = this._g;\n    t._rcBounds = null;\n    return t.hitTest(e);\n  };\n\n  _MouseHandler.prototype._showResizeMarker = function (e) {\n    var t,\n        i = this._g,\n        o = i._ptScrl,\n        n = this._szArgs.panel.cellType,\n        r = CellType,\n        l = this._dvMarker,\n        s = i.cells.hostElement;\n    l.parentElement != s && s.appendChild(l);\n\n    if (this._szRowCol instanceof Column) {\n      t = {\n        left: this._szRowCol.pos + e - 1,\n        top: -1e3,\n        right: \"\",\n        bottom: 0,\n        width: 3,\n        height: \"\"\n      };\n      n != r.TopLeft && n != r.RowHeader || (t.left -= i._eTL.offsetWidth + o.x);\n      n == r.Cell && this._szRowCol.index < i.frozenColumns && (t.left -= o.x);\n      i.rightToLeft && (t.left = s.clientWidth - t.left - t.width);\n    } else {\n      t = {\n        left: -1e3,\n        top: this._szRowCol.pos + e - 1,\n        right: 0,\n        bottom: \"\",\n        width: \"\",\n        height: 3\n      };\n      n != r.TopLeft && n != r.ColumnHeader || (t.top -= i._eTL.offsetHeight + o.y);\n      n == r.Cell && this._szRowCol.index < i.frozenRows && (t.top -= o.y);\n    }\n\n    setCss(l, t);\n  };\n\n  _MouseHandler.prototype._showDragMarker = function (e) {\n    var t = this._dvMarker;\n\n    if (e && e.panel) {\n      if (!e.range.equals(this._rngTarget)) {\n        this._rngTarget = e.range;\n        var i = e.panel.hostElement;\n        t.parentElement != i && i.appendChild(t);\n        var o = this._g,\n            n = o._ptScrl,\n            r = CellType,\n            l = {\n          left: 0,\n          top: 0,\n          width: 6,\n          height: 6,\n          right: \"\",\n          bottom: \"\"\n        };\n\n        switch (e.cellType) {\n          case r.TopLeft:\n          case r.ColumnHeader:\n            var s = e.panel.columns[e.col];\n            l.left = s.pos - l.width / 2;\n            l.height = e.panel.height;\n            this._htDown && e.col > this._htDown.col && (l.left += s.renderWidth);\n            e.cellType == r.ColumnHeader && e.col < o.frozenColumns && (l.left -= n.x);\n            o.rightToLeft && (l.left = t.parentElement.clientWidth - l.left - l.width);\n            break;\n\n          case r.RowHeader:\n            var a = e.getRow();\n            l.top = a.pos - l.height / 2;\n            l.width = e.panel.width;\n            e.row > this._htDown.row && (l.top += a.renderHeight);\n            e.row < o.frozenRows && (l.top -= n.y);\n        }\n\n        setCss(t, l);\n      }\n    } else {\n      removeChild(t);\n      this._rngTarget = null;\n    }\n  };\n\n  _MouseHandler.prototype._finishResizing = function (e) {\n    var t = this._g,\n        i = t.selection,\n        o = this._szArgs,\n        n = this._eMouse,\n        r = n && (n.ctrlKey || n.metaKey),\n        l = CellType;\n\n    if (o && !o.cancel) {\n      if (o.col > -1) {\n        var s = o.col,\n            a = mouseToPage(e).x,\n            d = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (a - this._htDown.point.x) * (this._g.rightToLeft ? -1 : 1)));\n        o.panel.columns[s].width = Math.round(d);\n        t.onResizedColumn(o);\n        if (r && this._htDown.cellType == l.ColumnHeader && i.containsColumn(s)) for (var c = i.leftCol; c <= i.rightCol; c++) {\n          if (t.columns[c].allowResizing && c != s) {\n            o = new CellRangeEventArgs(t.cells, new CellRange(-1, c));\n\n            if (t.onResizingColumn(o)) {\n              t.columns[c].size = t.columns[s].size;\n              t.onResizedColumn(o);\n            }\n          }\n        }\n        e.preventDefault();\n      }\n\n      if (o.row > -1) {\n        var u = o.row,\n            h = mouseToPage(e).y;\n        d = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (h - this._htDown.point.y)));\n        o.getRow().height = Math.round(d);\n        t.onResizedRow(o);\n        if (r && this._htDown.cellType == l.RowHeader && i.containsRow(u)) for (var p = i.topRow; p <= i.bottomRow; p++) {\n          if (t.rows[p].allowResizing && p != u) {\n            o = new CellRangeEventArgs(t.cells, new CellRange(p, -1));\n\n            if (t.onResizingRow(o)) {\n              t.rows[p].size = t.rows[u].size;\n              t.onResizedRow(o);\n            }\n          }\n        }\n        e.preventDefault();\n      }\n    }\n  };\n\n  _MouseHandler.prototype._handleSelection = function (e, t) {\n    var i = this._g,\n        o = i._selHdl.selection,\n        n = new CellRange(e.row, e.col),\n        r = CellType,\n        l = SelectionMode;\n    if (n.isValid) if (null == this._lbSelState) {\n      switch (e.cellType) {\n        case r.RowHeader:\n          n.col = 0;\n          n.col2 = i.columns.length - 1;\n          break;\n\n        case r.ColumnHeader:\n          switch (i.selectionMode) {\n            case l.Row:\n            case l.Cell:\n              n.row = n.row2 = o.row;\n              t = !1;\n              break;\n\n            default:\n              n.row = 0;\n              n.row2 = i.rows.length - 1;\n          }\n\n      }\n\n      if (t) {\n        if (i.anchorCursor) {\n          n.row = o.row;\n          n.col = o.col;\n        } else {\n          n.row2 = o.row2;\n          n.col2 = o.col2;\n        }\n\n        if (!n.isValid) {\n          var s = this._htDown;\n          s && (n = new CellRange(s.row, s.col));\n        }\n      }\n\n      if (i.selectionMode == SelectionMode.MultiRange) {\n        var a = i._mouseHdl._eMouse,\n            d = a && (a.ctrlKey || a.metaKey),\n            c = i._selHdl,\n            u = c.selection,\n            h = c.extendedSelection,\n            p = e.panel != i.cells;\n        closest(a.target, \".wj-elem-collapse\") && (d = !1);\n\n        if (d) {\n          if (!t && c._deselectRange(n)) c.selection.isValid && (n = null);else if (u.isValid && (p || !u.intersects(n))) {\n            (p ? this._splitRange(u) : [u.clone()]).forEach(function (e) {\n              for (var t = !1, i = 0; i < h.length && !t; i++) {\n                h[i].equals(e) && (t = !0);\n              }\n\n              t || h.push(e);\n            });\n          }\n        } else h.clear();\n      }\n\n      if (n) {\n        i.select(n, !1);\n\n        switch (e.cellType) {\n          case r.RowHeader:\n            i.scrollIntoView(e.row, -1);\n            break;\n\n          case r.ColumnHeader:\n            i.scrollIntoView(-1, e.col);\n            break;\n\n          default:\n            i.scrollIntoView(e.row, e.col);\n        }\n      } else {\n        var g = new CellRangeEventArgs(i.cells, new CellRange(e.row, e.col));\n        i.onSelectionChanging(g);\n        i.onSelectionChanged(g);\n        i.invalidate();\n      }\n    } else {\n      i.rows[e.row].isSelected = !this._lbSelState;\n      i.scrollIntoView(e.row, e.col);\n    }\n  };\n\n  _MouseHandler.prototype._splitRange = function (e) {\n    var t = this._g,\n        i = t.columns.length,\n        o = t.rows.length,\n        n = [];\n    if (e.columnSpan == i) for (var r = e.topRow; r <= e.bottomRow; r++) {\n      n.push(new CellRange(r, 0, r, i - 1));\n    } else if (e.rowSpan == o) for (var l = e.leftCol; l <= e.rightCol; l++) {\n      n.push(new CellRange(0, l, o - 1, l));\n    } else n.push(e.clone());\n    return n;\n  };\n\n  _MouseHandler._SZ_MIN = 0;\n  return _MouseHandler;\n}();\n\nexport { _MouseHandler };\n\n_registerModule(\"wijmo.grid\", selfModule);","map":{"version":3,"sources":["C:/Users/Osvaldo/Desktop/Web/Front Angular/frontBovedaOriginal/node_modules/@grapecity/wijmo.grid/es5-esm.js"],"names":["_a","__extends","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","i","hasOwnProperty","__","constructor","prototype","create","isInt","asInt","_addCultureInfo","tryCast","format","Size","CancelEventArgs","asType","asBoolean","isNumber","isString","assert","getActiveElement","closest","Control","ObservableArray","changeType","setAttribute","isIE","isFirefox","setCss","createElement","asNumber","getType","hasClass","toggleClass","removeChild","DateTime","DataType","Point","Rect","Globalize","CollectionView","CollectionViewGroup","NotifyCollectionChangedAction","NotifyCollectionChangedEventArgs","Aggregate","getAggregate","copy","asString","asArray","toHeaderCase","_getModule","Event","_MaskProvider","isArray","asCollectionView","toPlainText","culture","escapeHtml","isBoolean","addClass","contains","setChecked","setAriaLabel","disableAutoComplete","evalTemplate","mouseToPage","SortDescription","isSafari","isIE9","closestClass","removeClass","_startDrag","clamp","Key","setSelectionRange","isDate","isUndefined","showPopup","hidePopup","Clipboard","isiOS","Tooltip","Binding","isFunction","isPrimitive","enable","asFunction","asEnum","setText","getTypes","hasItems","getElementRect","supportsFocusOptions","_deprecated","isIE10","isMobile","_registerModule","mInput","selfModule","DataMapEditor","AutoComplete","DropDownList","RadioButtons","DataMap","_keyPath","_displayPath","_sortByVal","_editable","mapChanged","map","value","_cv","collectionChanged","addHandler","onMapChanged","defineProperty","get","set","enumerable","configurable","getDataItem","_hash","sourceCollection","o","forEach","getDisplayValue","getKeyValue","_indexOf","getDisplayValues","items","getKeyValues","raise","n","r","l","toString","s","toLowerCase","a","d","length","c","u","filter","CellRange","setRange","_row","_col","_row2","_col2","clone","Math","abs","min","max","topRow","bottomRow","leftCol","rightCol","containsRow","containsColumn","intersects","intersectsRow","intersectsColumn","getRenderSize","isValid","height","rows","renderSize","width","columns","equals","combine","CellType","None","Cell","ColumnHeader","RowHeader","TopLeft","ColumnFooter","BottomLeft","GridPanel","_offsetY","_rng","_g","FlexGrid","_ct","_rows","RowCollection","_cols","ColumnCollection","_e","HTMLElement","_vrb","_getViewRange","getTotalSize","getCellData","_toIndex","_getBindingColumn","GroupRow","dataItem","childItemsPath","binding","_binding","getValue","_ubv","header","aggregate","collectionView","firstVisibleIndex","getGroupHeader","h","dataMap","cellType","setCellData","getIsRequired","isContentHtml","p","isEditable","displayMemberPath","selectedValuePath","g","f","dataType","_","m","String","w","Date","mask","replace","C","v","y","b","R","currentEditItem","trackChanges","E","_extend","setValue","x","Change","indexOf","onCollectionChanged","_trackItemChanged","invalidate","getCellBoundingRect","pos","rightToLeft","left","hostElement","clientWidth","right","_root","offsetWidth","getBoundingClientRect","top","frozen","scrollPosition","getCellElement","children","_INDEX_KEY","row","col","rng","getSelectedState","selectionMode","_selHdl","selection","SelectionMode","SelectedState","getMergedRange","showMarquee","Active","Cursor","ListBox","Selected","isSelected","MultiRange","extendedSelection","Row","RowRange","_getAdjustedSelection","showSelectedHeaders","HeadersVisibility","Column","row2","_getOffsetY","_updateContent","_ptScrl","style","_vtRows","_vtCols","col2","_activeCell","_reorderCells","_vru","_recycle","_renderColHdrRow","_renderRow","childElementCount","lastElementChild","_removeExtraCells","_clearCells","cellFactory","disposeCell","document","className","insertBefore","rowHeaderPath","columnHeaders","ariaLabel","_getRowHeaderPath","_renderRowHdrCell","path","_renderColHdrCell","grid","_HTML_CELL","_lazyRender","textContent","position","overflow","opacity","pointerEvents","describedById","join","trim","allowSorting","currentSort","isReadOnly","panel","level","isCollapsed","_renderCell","activeEditor","canEditCell","updateCell","_szClientSB","getItemAt","_clipToScreen","cells","offsetTop","bottom","innerHeight","_getFrozenPos","CellRangeEventArgs","call","_p","_data","getRow","getColumn","FormatItemEventArgs","_cell","CellEditEndingEventArgs","apply","arguments","_stayInEditMode","_refresh","SelMove","Next","Prev","NextPage","PrevPage","Home","End","NextCell","PrevCell","NextEditableCell","PrevEditableCell","_SelectionHandler","_sel","_xSel","_mode","_setSelectionMode","select","range","isRangeValid","_showSelection","getControl","finishEditing","cancel","onSelectionChanging","_setFlag","RowColFlags","refreshCells","_getCvIndex","moveCurrentToPosition","onSelectionChanged","moveSelection","anchorCursor","_adjustReferenceCell","_szClient","getNextCell","clear","_expandSelection","expandSelectionOnCopyPaste","_expandSelectedRows","_expandSelectionRange","_deselectRange","removeAt","selectedRows","index","push","sort","_selectRows","scrollIntoView","isSingleCell","Visible","AllowResizing","AllowDragging","AllowMerging","AllowSorting","AutoGenerated","Collapsed","ParentCollapsed","ReadOnly","HtmlContent","WordWrap","MultiLine","HasTemplate","RowDefault","ColumnDefault","RowCol","_type","_align","_inpType","_mask","_maxLen","_required","_fmt","_map","_ddCssClass","_cssClass","_cssClassAll","_szMin","_szMax","_sz","_pos","_idx","_idxVis","_idxData","gridChanged","onPropertyChanged","_bindingSort","sortMemberPath","removeHandler","_mapEditor","dataMapEditor","_getFlag","_NewRowTemplate","_list","_dirty","_update","isVisible","defaultSize","minSize","maxSize","onGridChanged","_setList","_f","_hdr","_name","_agg","_quickSize","_descById","_tpl","_ctr","_szStar","size","_parseStarSize","_getQuickAutoSize","wordWrap","multiLine","_edt","control","editor","dispose","_CustomEditor","currentSortIndex","sortDescriptions","ascending","_getBindingSort","property","isRequired","getAlignment","align","Boolean","Number","parseFloat","isNaN","_level","_setCollapsed","groupHeaderFormat","showGroups","groupDescription","propertyName","name","CntAll","count","getCellRange","onGroupCollapsedChanging","deferUpdate","onGroupCollapsedChanged","RowColCollection","_frozen","_lastFrozen","_firstVisible","_vlen","_szDef","_szTot","_szCustom","isFrozen","canMoveElement","allowDragging","moveElement","insert","reset","splice","concat","beginUpdate","_setDefaultSize","isUpdating","visible","_updateStarSizes","renderWidth","round","_maxLevel","_ariaLabel","refresh","_ColumnGroupHandler","_grid","createColumnGroups","_groupDefs","autoGenerateColumns","_colGroups","ColumnGroup","_addColumnGroup","_getMaxLevel","_expandRange","cssClassAll","getColumnGroup","hasColumnGroups","getGroupDefinitions","_lvl","_collapsed","_pGrp","parentGroup","_collTo","rowHeaders","onColumnGroupCollapsedChanging","onColumnGroupCollapsedChanged","setTimeout","_updateCollapsedState","collapseTo","_shiftRange","ariaLabels","toggleDropDown","toggleGroup","SingleColumn","MultiColumn","AllowPinning","ColumnRange","Both","All","ClipStringOptions","Default","CSV","QuoteAll","SkipMerged","Unformatted","InvisibleRows","InvisibleColumns","InvisibleCells","_cssPage","_cellPadLeft","_cellPadHorz","_cellPadVert","_autoGenCols","_autoClipboard","_xOnCopyPaste","_autoScroll","_autoSearch","_caseSensitive","_readOnly","_indent","_autoSizeMode","AutoSizeMode","_autoHeights","_hdrVis","_alSorting","_alPinning","_alAddNew","_alDelete","_alResizing","Columns","_alDragging","_alMerging","_ssHdr","_shSort","_shGroups","_shMarquee","_shPlcHld","_altStep","_shErr","_shDropDown","_valEdt","_gHdrFmt","_childItemsPath","_sortRowIndex","_editColIndex","_deferResizing","_pSel","_pOutline","_stickyHdr","_anchorCursor","_copyHeaders","_bigChecks","_fzClone","_vt","_refreshOnEdit","_touchEdit","itemsSourceChanging","itemsSourceChanged","scrollPositionChanged","selectionChanging","selectionChanged","loadingRows","loadedRows","updatingLayout","updatedLayout","resizingColumn","resizedColumn","autoSizingColumn","autoSizedColumn","starSizedColumns","draggingColumn","draggingColumnOver","draggedColumn","pinningColumn","pinnedColumn","resizingRow","resizedRow","autoSizingRow","autoSizedRow","draggingRow","draggingRowOver","draggedRow","groupCollapsedChanging","groupCollapsedChanged","columnGroupCollapsedChanging","columnGroupCollapsedChanged","sortingColumn","sortedColumn","beginningEdit","prepareCellForEdit","cellEditEnding","cellEditEnded","rowEditStarting","rowEditStarted","rowEditEnding","rowEditEnded","rowAdded","deletingRow","deletedRow","copying","copied","pasting","pasted","pastingCell","pastedCell","formatItem","updatingView","updatedView","_mappedColumns","borderRadius","getTemplate","applyTemplate","_eSz","_eCt","_fCt","_eTL","_eBL","_eCHdr","_eRHdr","_eCFtr","_eTLCt","_eBLCt","_eCHdrCt","_eCFtrCt","_eRHdrCt","_eMarquee","_eFocus","parentElement","minWidth","minHeight","maxWidth","maxHeight","webkitOverflowScrolling","display","firstChild","visibility","outline","firstElementChild","addEventListener","elementFromPoint","clientX","clientY","createEvent","initEvent","dispatchEvent","tabIndex","_getDefaultRowHeight","_hdrRows","_hdrCols","_ftrRows","_gpTL","_gpCHdr","_gpRHdr","_gpCells","_gpBL","_gpCFtr","_cf","CellFactory","_keyHdl","_KeyboardHandler","_mouseHdl","_MouseHandler","_edtHdl","_EditHandler","_addHdl","_AddNewHandler","_grpHdl","_mrgMgr","MergeManager","_bndSortConverter","_sortConverter","bind","_errorTip","showDelay","cssClass","initialize","_updateScrollPosition","_forceScrollUpdate","activeCell","_setFocusNoScroll","frozenColumns","parseInt","target","_setFocus","_handleResize","_rcBounds","isTouching","startEditing","_updateStickyHeaders","_getSerializableProperties","JSON","stringify","parse","updateNewRowTemplate","_setAria","getAttribute","isDisabled","_imeHdl","imeEnabled","containsFocus","_ImeHandler","focus","hasHandlers","itemFormatter","newRowAtTop","_bindGrid","alternatingRowStep","_itemValidator","itemValidator","_items","onItemsSourceChanging","currentChanged","sortConverter","_getCollectionView","_lastCount","_cvCurrentChanged","_cvCollectionChanged","onItemsSourceChanged","_rowHdrPath","_getRtlMode","scrollWidth","scrollLeft","scrollTop","_heightBrowser","viewRange","_itemFormatter","_allowEdit","hitTest","HitTestInfo","getClipString","setClipString","itemsSource","_updateColumnTypes","clearTimeout","_toInv","_szCtl","offsetHeight","_updateLayout","refreshRange","autoSizeColumn","autoSizeColumns","topLeftCells","bottomLeftCells","columnFooters","_WJS_MEASURE","_getCanvasContext","autoSizeMode","Headers","_getDesiredWidth","Cells","_getWidestRow","autoSizeRow","autoSizeRows","_getDesiredRowHeight","collapseGroupsToLevel","selectAll","selectedRanges","_maxOffsetY","_getCssPage","scrollHeight","clientHeight","innerWidth","pageXOffset","pageYOffset","scrollTo","documentElement","editRange","_kaTab","KeyAction","_kaEnter","_WJS_WSPRE","toggleDropDownList","_tglDropDown","_toggleListBox","_lbx","_defTypeWidth","onScrollPositionChanged","onLoadingRows","onLoadedRows","_autoRowHeights","onUpdatingLayout","onUpdatedLayout","onResizingColumn","onResizedColumn","onAutoSizingColumn","onAutoSizedColumn","onStarSizedColumns","onDraggingColumn","onDraggingColumnOver","onDraggedColumn","onPinningColumn","onPinnedColumn","onResizingRow","onResizedRow","onAutoSizingRow","onAutoSizedRow","onDraggingRow","onDraggingRowOver","onDraggedRow","onSortingColumn","onSortedColumn","onBeginningEdit","onPrepareCellForEdit","onCellEditEnding","stayInEditMode","onCellEditEnded","onRowEditStarting","onRowEditStarted","onRowEditEnding","onRowEditEnded","onRowAdded","onDeletingRow","onDeletedRow","onCopying","onCopied","onPasting","onPasted","onPastingCell","onPastedCell","onFormatItem","onUpdatingView","onUpdatedView","_getTabIndex","_orgTabIndex","_toAutoHeights","_REFRESH_INTERVAL","_getShowErrors","showErrors","_hasValidation","_getHasValidation","_getError","getError","errorTip","querySelector","_WJC_COLLAPSE","preventScroll","_fixScroll","body","getContext","getComputedStyle","font","fontSize","fontFamily","split","_getRowsPerItem","measureText","columnSpan","rowSpan","_getDesiredHeight","innerHTML","ct","spr","spc","data","_getSortRowIndex","_getDeleteColumnIndex","_getEditColumnIndex","_htDown","sortByDisplayValues","preserveSelectedState","_getMap","preserveOutlineState","maxGroupLevel","_path","_bindColumns","_bindRows","has","_syncSelection","window","Map","action","Add","item","Remove","_findRow","currentItem","editableCollectionView","currentAddItem","_getRowIndex","currentPosition","_updating","dataIndex","_heightReal","_getMaxSupportedCssHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","frozenRows","zIndex","_updateScrollHandler","_WJS_STICKY","_getClipToScreen","_scrollHandlerAttached","_scroll","removeEventListener","_MIN_VIRT_ROWS","_afClip","cancelAnimationFrame","requestAnimationFrame","_afSticky","_tips","_updateMarquee","_toErrorTips","hide","element","setTooltip","_useFrozenDiv","_updateFrozenCells","HTMLInputElement","type","match","selectionStart","selectionEnd","transform","querySelectorAll","navigator","userAgent","cloneNode","checked","getTooltip","appendChild","_getMarqueeRect","offsetLeft","_getColumnTypes","_getMapEditor","isDroppedDown","_getBindingColumns","groups","_addNode","_addGroup","_addBoundRow","_addGroupRow","isBottomLevel","getPrototypeOf","getOwnPropertyNames","getOwnPropertyDescriptor","_hasColumnGroups","_getColumnGroup","_copy","some","columnGroups","_isInputElement","contentEditable","tagName","_isNativeCheckbox","disabled","readOnly","_WJC_CHECKBOX","_wantsInput","_maxCssHeight","_rtlMode","_WJS_UPDATING","controlTemplate","_updateImeFocusAsyncBnd","_updateImeFocusAsync","_cmpstartBnd","_compositionstart","_keypressBnd","_keypress","_cssHidden","_tbx","_maskProvider","_updateImeFocus","_cellEditEnded","_cellEditEnding","HTMLTextAreaElement","lineHeight","textAlign","placeholder","_valueChanged","defaultPrevented","ctrlKey","altKey","metaKey","keyCode","stopPropagation","_enableIme","blur","_toFocus","_nrt","_top","_keydownBnd","_keydown","_committing","_attach","canAddNew","allowAddNew","_beginningEdit","_rowEditEnded","_detach","Escape","newItemCreator","addNew","moveCurrentTo","cancelNew","isAddingNew","commitNew","ColumnHeaders","RowHeaders","AllHeaders","console","error","allowMerging","_mergeCell","S","_edge","Element","_target","MouseEvent","_pt","controlRect","headersVisibility","_SZEDGE","H","softInput","_MASK_PROVIDER","renderHeight","childNodes","I","M","F","P","T","z","G","A","D","visibleIndex","L","allowResizing","_getResizeCol","Rows","_getResizeRow","O","j","k","N","treeIndent","B","V","K","hasChildren","_isEditingCell","W","q","U","_getTreeBtn","outerHTML","J","inputType","Y","_getEditString","X","required","Z","maxLength","$","showPlaceholders","Q","ee","_WJC_RADIOMAP","le","_renderTemplate","te","ie","_getGlyph","oe","cursor","ne","re","se","showSort","_getSortGlyph","allowPinning","_addPinButton","showDropDown","ae","_getDropDownBtn","de","ce","ue","he","pe","ge","fe","me","_setCellError","we","_fmtItemArgs","getEditorValue","_applyMask","numberFormat","substr","_WJC_DROPDOWN","_WJC_PIN","_tplDdBtn","_getButton","_tplCtx","text","_parseNumericFormat","spec","scale","formatNumber","_ddBtn","_LB_PAGE_SIZE","_edItem","_edtCanceled","_fullEdit","_evtInput","_evtChange","_cstEdtValue","_validating","_commitRowEdits","lostFocus","button","_szRowCol","editItem","HTMLSpanElement","HTMLLabelElement","_updateRowHeaderCell","_updateEditorCell","test","Space","_removeListBox","onLostFocus","validateEdits","_getValidationError","_edtValue","_setCustomEditorValue","_sameCols","_sameRows","slice","_getRowClipString","_skipMergedCell","_getCellClipString","toJSON","endUpdate","_parseClipString","_expandClipRows","_deferPaste","commitEdit","_parseClipCell","_hasPendingUpdates","_updateCell","validationMessage","_getRequiredMsg","invalidInput","invInputHandler","_getBadInputMsg","_msgRequired","_msgBadInput","pattern","F2","preventDefault","F4","indeterminate","Enter","wrap","setProperty","imeMode","Tab","Up","Down","Left","Right","PageUp","PageDown","_keydownListBox","selectedIndex","code","charCode","fromCharCode","_findString","caseSensitiveSearch","_createListBox","showSelection","dropDownCssClass","selectedValue","gotFocus","selectedIndexChanged","_OWNR_KEY","_ctl","_prop","checkedItems","_isDropDown","DropDown","_isComboBox","ComboBox","_isAutoComplete","_isInputDateTime","InputDateTime","_isInputMask","InputMask","_updateFocusBnd","_updateFocus","_cmpstart","_mousedownBnd","_mousedown","_connect","_hideEditor","_disconnect","_prepareCellForEdit","_oldText","_setDropdown","_ddDate","showFilterInput","_toSearch","_findNext","_rxHighlight","_showEditor","key","_activateEditor","_checkColumn","stopImmediatePropagation","shiftKey","_cssVisible","setCustomValidity","border","MoveDown","MoveAcross","Cycle","CycleOut","CycleEditable","char","click","_getKeyCode","autoClipboard","copyHeaders","paste","_startEditing","_moveSel","_performKeyAction","keyActionTab","keyActionEnter","cancelEdit","resetMouseState","Delete","Back","_deleteSel","autoSearch","_search","_SEARCH_DELAY","allowDelete","canRemove","isEditingItem","remove","_deleteRange","_AR_ALLCELLS","_WJC_DRAGSRC","_WJC_FLEXGRID","ColumnsAllCells","RowsAllCells","BothAllCells","_dvMarker","_hasRadioMap","mouseMove","mouseUp","_isDown","_mousemove","_mouseup","_hover","_dblclick","_click","deltaY","deltaMode","_dragstart","_dragover","_drop","_dragend","_dragSrc","_showDragMarker","_eMouse","_lbSelState","_szArgs","_selDown","_ignoreClick","edgeBottom","_getResizeRowHt","edgeRight","_getResizeColHt","_mouseSelect","_handleResizing","buttons","timeStamp","HTMLHtmlElement","_finishResizing","cellTemplate","point","bigCheckboxes","_handleClick","refreshOnEdit","_clickPin","_clickSort","canSort","_szStart","edgeFarRight","edgeLeft","edgeFarBottom","edgeTop","_asResizable","_handleSelection","_SZ_MIN","deferResizing","_showResizeMarker","_htDrag","dataTransfer","_hitTest","dropEffect","autoScroll","_DRAG_SCROLL_EDGE","_DRAG_SCROLL_STEP","pageX","pageY","_rngTarget","_splitRange"],"mappings":"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","sourcesContent":["/*!\n    *\n    * Wijmo Library 5.20211.794\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\n\nvar _a,__extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();import{isInt,asInt,_addCultureInfo,tryCast,format,Size,CancelEventArgs,asType,asBoolean,isNumber,isString,assert,getActiveElement,closest,Control,ObservableArray,changeType,setAttribute,isIE,isFirefox,setCss,createElement,asNumber,getType,hasClass,toggleClass,removeChild,DateTime,DataType,Point,Rect,Globalize,CollectionView,CollectionViewGroup,NotifyCollectionChangedAction,NotifyCollectionChangedEventArgs,Aggregate,getAggregate,copy,asString,asArray,toHeaderCase,_getModule,Event,_MaskProvider,isArray,asCollectionView,toPlainText,culture,escapeHtml,isBoolean,addClass,contains,setChecked,setAriaLabel,disableAutoComplete,evalTemplate,mouseToPage,SortDescription,isSafari,isIE9,closestClass,removeClass,_startDrag,clamp,Key,setSelectionRange,isDate,isUndefined,showPopup,hidePopup,Clipboard,isiOS,Tooltip,Binding,isFunction,isPrimitive,enable,asFunction,asEnum,setText,getTypes,hasItems,getElementRect,supportsFocusOptions,_deprecated,isIE10,isMobile,_registerModule}from\"@grapecity/wijmo\";import*as mInput from\"@grapecity/wijmo.input\";import*as selfModule from\"@grapecity/wijmo.grid\";export var DataMapEditor;!function(e){e[e.AutoComplete=0]=\"AutoComplete\";e[e.DropDownList=1]=\"DropDownList\";e[e.RadioButtons=2]=\"RadioButtons\"}(DataMapEditor||(DataMapEditor={}));var DataMap=function(){function DataMap(e,t,i){this._keyPath=\"\";this._displayPath=\"\";this._sortByVal=!0;this._editable=!1;this.mapChanged=new Event;if(isArray(e)&&!t&&!i){e=e.map((function(e){return{value:e}}));t=i=\"value\"}this._cv=asCollectionView(e);this._keyPath=asString(t,!1);this._displayPath=asString(i,!1);this._cv.collectionChanged.addHandler(this.onMapChanged,this)}Object.defineProperty(DataMap.prototype,\"sortByDisplayValues\",{get:function(){return this._sortByVal},set:function(e){this._sortByVal=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"collectionView\",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"selectedValuePath\",{get:function(){return this._keyPath},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"displayMemberPath\",{get:function(){return this._displayPath},enumerable:!0,configurable:!0});DataMap.prototype.getDataItem=function(e){var t=this;if(!this._hash){var i=this._cv.sourceCollection,o={};isArray(i)&&this._keyPath&&i.forEach((function(e){var i=e[t._keyPath];null==o[i]&&(o[i]=e)}));this._hash=o}return this._hash[e]};DataMap.prototype.getDisplayValue=function(e){var t=this._displayPath,i=this.getDataItem(e);return t&&i?i[t]:e};DataMap.prototype.getKeyValue=function(e,t){var i=this._displayPath,o=this._indexOf(e,i,t,!0);o<0&&(o=this._indexOf(e,i,t,!1));return o>-1?this._cv.sourceCollection[o][this._keyPath]:null};DataMap.prototype.getDisplayValues=function(e){var t=this;return this._cv&&this._displayPath?this._cv.items.map((function(e){return e[t._displayPath]})):[]};DataMap.prototype.getKeyValues=function(){var e=this;return this._cv&&this._keyPath?this._cv.items.map((function(t){return t[e._keyPath]})):[]};Object.defineProperty(DataMap.prototype,\"isEditable\",{get:function(){return this._editable},set:function(e){this._editable=asBoolean(e)},enumerable:!0,configurable:!0});DataMap.prototype.onMapChanged=function(e){this._hash=null;this.mapChanged.raise(this,e)};DataMap.prototype._indexOf=function(e,t,i,o){var n=-1,r=-1;if(this._cv&&t){var l=null!=e?e.toString():\"\";l&&i&&(e=toPlainText(l));for(var s=o?l:l.toLowerCase(),a=this._cv.sourceCollection,d=0;d<a.length;d++){var c=a[d],u=c[t];i&&isString(u)&&(u=toPlainText(u));u==e?n=d:o||u.length!=s.length||u.toLowerCase()!=s?null!=u&&u.toString()==l&&(n=d):n=d;if(n==d){if(!this._cv.filter||this._cv.filter(c))return n;r<0&&(r=n)}}}return r};return DataMap}();export{DataMap};var CellRange=function(){function CellRange(e,t,i,o){void 0===e&&(e=-1);void 0===t&&(t=-1);void 0===i&&(i=e);void 0===o&&(o=t);this.setRange(e,t,i,o)}CellRange.prototype.setRange=function(e,t,i,o){void 0===e&&(e=-1);void 0===t&&(t=-1);void 0===i&&(i=e);void 0===o&&(o=t);this._row=asInt(e);this._col=asInt(t);this._row2=asInt(i);this._col2=asInt(o)};Object.defineProperty(CellRange.prototype,\"row\",{get:function(){return this._row},set:function(e){this._row=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"col\",{get:function(){return this._col},set:function(e){this._col=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"row2\",{get:function(){return this._row2},set:function(e){this._row2=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"col2\",{get:function(){return this._col2},set:function(e){this._col2=asInt(e)},enumerable:!0,configurable:!0});CellRange.prototype.clone=function(){return new CellRange(this._row,this._col,this._row2,this._col2)};CellRange.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)};Object.defineProperty(CellRange.prototype,\"rowSpan\",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"columnSpan\",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"topRow\",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"bottomRow\",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"leftCol\",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"rightCol\",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"isValid\",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"isSingleCell\",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0});CellRange.prototype.contains=function(e,t){var i=tryCast(e,CellRange);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(isInt(e)&&isInt(t))return e>=this.topRow&&e<=this.bottomRow&&t>=this.leftCol&&t<=this.rightCol;throw\"contains expects a CellRange or row/column indices.\"};CellRange.prototype.containsRow=function(e){return asInt(e)>=this.topRow&&e<=this.bottomRow};CellRange.prototype.containsColumn=function(e){return asInt(e)>=this.leftCol&&e<=this.rightCol};CellRange.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)};CellRange.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)};CellRange.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)};CellRange.prototype.getRenderSize=function(e){var t=new Size(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)t.height+=e.rows[i].renderSize;for(var o=this.leftCol;o<=this.rightCol;o++)t.width+=e.columns[o].renderSize}return t};CellRange.prototype.equals=function(e){return e instanceof CellRange&&this._row==e._row&&this._col==e._col&&this._row2==e._row2&&this._col2==e._col2};CellRange.prototype.combine=function(e){return e?new CellRange(Math.min(this.topRow,e.topRow),Math.min(this.leftCol,e.leftCol),Math.max(this.bottomRow,e.bottomRow),Math.max(this.rightCol,e.rightCol)):this};CellRange.prototype.toString=function(){return format(\"({row}, {col})-({row2}, {col2})\",this)};return CellRange}();export{CellRange};export var CellType;!function(e){e[e.None=0]=\"None\";e[e.Cell=1]=\"Cell\";e[e.ColumnHeader=2]=\"ColumnHeader\";e[e.RowHeader=3]=\"RowHeader\";e[e.TopLeft=4]=\"TopLeft\";e[e.ColumnFooter=5]=\"ColumnFooter\";e[e.BottomLeft=6]=\"BottomLeft\"}(CellType||(CellType={}));var GridPanel=function(){function GridPanel(e,t,i,o,n){this._offsetY=0;this._rng=new CellRange;this._g=asType(e,FlexGrid);this._ct=asInt(t);this._rows=asType(i,RowCollection);this._cols=asType(o,ColumnCollection);this._e=asType(n,HTMLElement);this._vrb=new CellRange}Object.defineProperty(GridPanel.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"cellType\",{get:function(){return this._ct},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"viewRange\",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"width\",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"height\",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"rows\",{get:function(){return this._rows},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"columns\",{get:function(){return this._cols},enumerable:!0,configurable:!0});GridPanel.prototype.getCellData=function(e,t,i){var o,n=this._g,r=this._rows[asNumber(e,!1,!0)],l=null;if(!r)return null;t=this._toIndex(t);o=this._cols[asNumber(t,!1,!0)];var s=n?n._getBindingColumn(this,e,o):o,a=null;r instanceof GroupRow&&r.dataItem instanceof CollectionViewGroup&&!n.childItemsPath&&(a=r.dataItem);s.binding&&r.dataItem&&!a?l=s._binding.getValue(r.dataItem):r._ubv&&(l=r._ubv[o._hash]);if(null==l){var d=CellType;switch(this._ct){case d.TopLeft:case d.ColumnHeader:e!=this._rows.length-1&&s==o||(l=s.header);break;case d.ColumnFooter:if(r instanceof GroupRow&&s.aggregate!=Aggregate.None){var c=this._g.collectionView;if(c){var u=tryCast(c,CollectionView);l=u?u.getAggregate(s.aggregate,s.binding):getAggregate(s.aggregate,c.items,s.binding)}}break;case d.Cell:r instanceof GroupRow&&(t==this._cols.firstVisibleIndex?l=r.getGroupHeader():a&&s.aggregate!=Aggregate.None&&(l=a.getAggregate(s.aggregate,s.binding,this._g.collectionView)))}}if(i){var h=s.dataMap||r.dataMap;this.cellType==CellType.Cell&&h&&(l=h.getDisplayValue(l));l=null!=l?Globalize.format(l,s.format||r.format):\"\"}return l};GridPanel.prototype.setCellData=function(e,t,i,o,n){void 0===o&&(o=!0);void 0===n&&(n=!0);var r=this._g,l=this._rows[asNumber(e,!1,!0)],s=this._cols[asNumber(this._toIndex(t),!1,!0)],a=DataType;if(!l)return!1;var d=r?r._getBindingColumn(this,e,s):s;if(this._ct==CellType.Cell){var c=d.dataMap||l.dataMap,u=d.getIsRequired(l),h=d.isContentHtml||l.isContentHtml;if(c&&null!=i){var p=c.getKeyValue(i,h);if(null==p&&null==c.getDisplayValue(null)){if(c.getDisplayValue(i)!=i);else if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath){if(\"\"!=i||u)return!1;i=null}}else i=p}var g=a.Object,f=d.dataType||l.dataType,_=this.getCellData(e,t,!1);g=f||getType(_);var m=null==i||\"\"===i&&!c;if(!u&&m){g!=a.String&&(i=null);o=!1}else if(u&&m&&o)return!1;if(o){var w=d.format||l.format;w||g!=a.Date||(w=\"d\");d.mask&&isString(i)&&g!=a.String&&(i=i.replace(/_/g,\"\"));i=changeType(i,g,w,_);if(g!=a.Object&&getType(i)!=g)return!1}}if(l.dataItem&&d.binding){var C=d._binding,v=l.dataItem,y=C.getValue(v);if(i!==y&&!DateTime.equals(i,y)){var b=r.collectionView,R=b instanceof CollectionView&&v!=b.currentEditItem&&b.trackChanges,E=null;R&&(E=b._extend({},v));C.setValue(v,i);if(R){var x=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,v,b.items.indexOf(v));b.onCollectionChanged(x);b._trackItemChanged(v,E)}}}else{l._ubv||(l._ubv={});l._ubv[s._hash]=i}n&&r&&r.invalidate();return!0};GridPanel.prototype.getCellBoundingRect=function(e,t,i){var o=this._g,n=this.rows[e],r=this.columns[this._toIndex(t)],l=new Rect(r.pos,n.pos,r.renderSize,n.renderSize);if(o.rightToLeft){l.left=this.hostElement.clientWidth-l.right;isIE()||(l.left-=o._root.offsetWidth-o._root.clientWidth)}if(!i){var s=this.hostElement.getBoundingClientRect();l.left+=s.left;l.top+=s.top-this._offsetY}e<this.rows.frozen&&(l.top-=o.scrollPosition.y);t<this.columns.frozen&&(l.left-=o.scrollPosition.x*(o.rightToLeft?-1:1));return l};GridPanel.prototype.getCellElement=function(e,t){var i=this.hostElement.children,o=Math.min(e+2,i.length);t=this._toIndex(t);for(var n=0;n<o;n++)for(var r=i[n].children,l=Math.min(t+2,r.length),s=0;s<l;s++){var a=r[s],d=a[GridPanel._INDEX_KEY];if(d&&(d.row==e&&d.col==t||d.rng&&d.rng.contains(e,t)))return a}return null};GridPanel.prototype.getSelectedState=function(e,t,i){var o=this._g,n=o.selectionMode,r=o._selHdl.selection,l=SelectionMode,s=SelectedState;if(n==l.None)return s.None;t=this._toIndex(t);switch(this._ct){case CellType.Cell:i||(i=o.getMergedRange(this,e,t));if(i){if(i.contains(r.row,r.col))return o.showMarquee?s.Active:s.Cursor;if(i.intersects(r)&&n!=l.ListBox)return s.Selected;for(var a=i.leftCol;a<=i.rightCol;a++)if(o.columns[a].isSelected)return s.Selected;for(var d=i.topRow;d<=i.bottomRow;d++)if(o.rows[d].isSelected)return s.Selected}if(r.row==e&&r.col==t)return o.showMarquee?s.Active:s.Cursor;if(o.rows[e].isSelected||o.columns[t].isSelected)return s.Selected;if(n==l.MultiRange)for(var c=o._selHdl.extendedSelection,u=0;u<c.length;u++)if(c[u].contains(e,t)||i&&i.intersects(c[u]))return s.Selected;if(i)switch(n){case l.Row:case l.RowRange:if(i.containsRow(r.row))return s.Selected}return n==l.ListBox?s.None:(r=this._getAdjustedSelection(r)).containsRow(e)&&r.containsColumn(t)?s.Selected:s.None;case CellType.ColumnHeader:if(o.showSelectedHeaders&HeadersVisibility.Column&&(o.columns[t].isSelected||r.containsColumn(t)||r.intersectsColumn(i))){i&&(e=i.bottomRow);if(e==this.rows.length-1)return s.Selected}break;case CellType.RowHeader:if(o.showSelectedHeaders&HeadersVisibility.Row&&(o.rows[e].isSelected||r.containsRow(e)||r.intersectsRow(i))){i&&(t=i.rightCol);if(t==this.columns.length-1)return s.Selected}}return s.None};Object.defineProperty(GridPanel.prototype,\"hostElement\",{get:function(){return this._e},enumerable:!0,configurable:!0});GridPanel.prototype._toIndex=function(e){if(isString(e)&&(e=this._cols.indexOf(e))<0)throw\"Invalid column name or binding.\";return e};GridPanel.prototype._getAdjustedSelection=function(e){var t=this._g,i=this._rng,o=SelectionMode;switch(t.selectionMode){case o.Cell:i.setRange(e.row,e.col,e.row,e.col);break;case o.Row:i.setRange(e.row,0,e.row,t.columns.length-1);break;case o.RowRange:case o.ListBox:i.setRange(e.row,0,e.row2,t.columns.length-1);break;default:i.copy(e)}return i};GridPanel.prototype._getOffsetY=function(){return this._offsetY};GridPanel.prototype._updateContent=function(e,t,i){var o=this._g,n=this._e,r=this._rows,l=this._cols,s=this._ct;if(s==CellType.ColumnHeader||s==CellType.ColumnFooter||s==CellType.RowHeader){var a=o._ptScrl,d=n.style;s==CellType.RowHeader?d.top=a.y+\"px\":o.rightToLeft?d.right=a.x+\"px\":d.left=a.x+\"px\"}if(this._offsetY!=i){e=!1;this._offsetY=i}var c=this._getViewRange(),u=c;if(u.isValid){var h=r.length<=o._vtRows?r.length:0,p=l.length<=o._vtCols?l.length:0;u=new CellRange(Math.max(c.row-h,r.frozen),Math.max(c.col-p,l.frozen),Math.min(c.row2+h,r.length-1),Math.min(c.col2+p,l.length-1))}if(e&&!t&&this._vrb.contains(c)&&!r.frozen&&!l.frozen)return this._activeCell;e&&u.equals(this._vrb)||(t=!1);e&&!t&&this._ct!=CellType.TopLeft&&this._reorderCells(u,this._vrb);this._activeCell=null;this._vru=c;this._vrb=u;this._recycle=e;var g=0;this._ct==CellType.Cell&&(g=this._renderColHdrRow(u,t));for(var f=0;f<r.frozen&&f<r.length;f++)g=this._renderRow(f,u,t,g);for(f=u.topRow;f<=u.bottomRow&&f>-1;f++)g=this._renderRow(f,u,t,g);for(;n.childElementCount>g;){var _=n.lastElementChild;removeChild(_);this._removeExtraCells(_,0)}return this._activeCell};GridPanel.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,i=e.childElementCount-1;i>=0;i--){var o=e.children[i];removeChild(o);for(var n=o.childElementCount-1;n>=0;n--)t.disposeCell(o.children[n])}};GridPanel.prototype._reorderCells=function(e,t){if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){if(e.row!=t.row){var i=this._e;if(0!=(l=e.row-t.row)){var o=this._ct==CellType.Cell?1:0;o+=this.rows.frozen;if(l>0)for(var n=0;n<l;n++)removeChild(i.children[o]);else if(l<0){var r=i.children[o];for(n=0;n<-l;n++){(s=document.createElement(\"div\")).className=\"wj-row\";i.insertBefore(s,r)}}}}if(e.col!=t.col){var l;i=this._e;if(0!=(l=e.col-t.col)){o=this._ct==CellType.Cell&&this._g.rowHeaderPath?1:0;o+=this.columns.frozen;for(n=0;n<i.children.length;n++){var s=i.children[n];if(hasClass(s,\"wj-row\"))if(l>0)for(var a=0;a<l;a++)removeChild(s.children[o]);else if(l<0){r=s.children[o];for(var d=0;d<-l;d++){var c=document.createElement(\"div\");c.className=\"wj-cell\";s.insertBefore(c,r)}}}}}}};GridPanel.prototype._renderColHdrRow=function(e,t){if(t)return 1;var i=this._e.children[0];i||(i=createElement('<div class=\"wj-row\" role=\"row\"></div>',this._e));var o=this._g,n=o?o.columnHeaders.rows.ariaLabel:null;setAttribute(i,\"aria-label\",n);setAttribute(i,\"aria-selected\",null);var r=0,l=this._g._getRowHeaderPath();l&&(r=this._renderRowHdrCell(i,-1,l.path));for(var s=0;s<this.columns.frozen&&s<this.columns.length;s++)r=this._renderColHdrCell(i,s,e,t,r);for(s=e.leftCol;s<=e.rightCol&&s>-1;s++)r=this._renderColHdrCell(i,s,e,t,r);this._removeExtraCells(i,r);return 1};GridPanel.prototype._renderColHdrCell=function(e,t,i,o,n){var r=this.grid,l=this.columns[t];if(l.renderSize<=0)return n;if(o)return n+1;var s=e.children[n];s||(s=createElement(GridPanel._HTML_CELL,e));setAttribute(s,\"role\",\"columnheader\");if(s&&this._recycle&&r._lazyRender){var a=s[GridPanel._INDEX_KEY];if(a&&-1==a.row&&a.col==t&&t>=this.columns.frozen)return n+1}s.textContent=this.columns[t].header;setCss(s,{position:\"fixed\",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:\"hidden\",opacity:\"0\",pointerEvents:\"none\"});if(l.describedById||this.columns.describedById){var d=[l.describedById,this.columns.describedById].join(\" \").trim();setAttribute(s,\"aria-describedby\",d||null)}if(r.allowSorting){var c=\"none\";switch(r._getBindingColumn(this,0,l).currentSort){case\"+\":c=\"ascending\";break;case\"-\":c=\"descending\"}setAttribute(s,\"aria-sort\",c)}if(!r.isReadOnly){setAttribute(s,\"aria-readonly\",l.isReadOnly);setAttribute(s,\"aria-required\",l.getIsRequired())}s[GridPanel._INDEX_KEY]={row:-1,col:t,panel:this};return n+1};GridPanel.prototype._renderRowHdrCell=function(e,t,i){var o=e.children[0];o||(o=createElement(GridPanel._HTML_CELL,e));o.setAttribute(\"role\",t<0?\"columnheader\":\"rowheader\");o.textContent=i?i.toString():\"\";setCss(o,{position:\"fixed\",left:-32e3,top:-32e3,width:.1,height:.1,overflow:\"hidden\",opacity:\"0\"});o[GridPanel._INDEX_KEY]={row:t,col:-1,panel:this};return 1};GridPanel.prototype._renderRow=function(e,t,i,o){var n=this._g,r=this.rows[e];if(r.renderSize<=0)return o;var l=this._e.children[o];l||(l=createElement('<div class=\"wj-row\"></div>',this._e));if(this._ct==CellType.Cell){l.setAttribute(\"role\",\"row\");var s=SelectionMode,a=r.isSelected;switch(n.selectionMode){case s.Row:case s.RowRange:a=a||this._g._selHdl.selection.containsRow(e)}setAttribute(l,\"aria-selected\",!!a||null);setAttribute(l,\"aria-level\",r instanceof GroupRow?r.level+1:null);setAttribute(l,\"aria-expanded\",r instanceof GroupRow?!r.isCollapsed:null);this.rows.ariaLabel&&setAttribute(l,\"aria-label\",this.rows.ariaLabel)}var d=0;if(this._ct==CellType.Cell){var c=this._g._getRowHeaderPath();c&&(d=this._renderRowHdrCell(l,e,c.getValue(r.dataItem)))}for(var u=0;u<this.columns.frozen&&u<this.columns.length;u++)d=this._renderCell(l,e,u,t,i,d);for(u=t.leftCol;u<=t.rightCol&&u>-1;u++)d=this._renderCell(l,e,u,t,i,d);this._removeExtraCells(l,d);return o+1};GridPanel.prototype._renderCell=function(e,t,i,o,n,r){var l=this._g,s=l.getMergedRange(this,t,i);if(s){for(var a=Math.max(o.row,s.row);a<t;a++)if(this.rows[a].renderSize)return r;for(a=Math.max(o.col,s.col);a<i;a++)if(this.columns[a].renderSize)return r;var d=this.columns.frozen;if(d&&s.col<d&&s.col2>=d&&i>s.col)return r}var c=this.columns[i];if(c.renderSize<=0&&(!s||s.getRenderSize(this).width<=0))return r;var u=e.children[r];if(u&&!n&&this._recycle&&l._lazyRender&&!l.activeEditor){var h=u[GridPanel._INDEX_KEY];h&&h.row==t&&h.col==i&&h.rng==s&&t>=this.rows.frozen&&i>=this.columns.frozen&&(n=!0)}var p=SelectedState,g=this.getSelectedState(t,i,s),f=g==p.Cursor||g==p.Active;if(u&&n){toggleClass(u,\"wj-state-active\",f);toggleClass(u,\"wj-state-selected\",g==p.Cursor);toggleClass(u,\"wj-state-multi-selected\",g==p.Selected);setAttribute(u,\"aria-selected\",!(!f&&g==p.None)||null);f&&(this._activeCell=u);return r+1}u||(u=createElement(GridPanel._HTML_CELL,e));f&&(this._activeCell=u);if(this._ct==CellType.Cell){setAttribute(u,\"role\",\"gridcell\");setAttribute(u,\"aria-selected\",!(g==p.None&&!f)||null);setAttribute(u,\"aria-readonly\",!l.canEditCell(t,i)||null);setAttribute(u,\"aria-required\",c.getIsRequired())}l.cellFactory.updateCell(this,t,i,u,s);u[GridPanel._INDEX_KEY]={row:t,col:i,rng:s,panel:this};return r+1};GridPanel.prototype._removeExtraCells=function(e,t){for(var i=this._g.cellFactory;e.childElementCount>t;){var o=e.lastElementChild;removeChild(o);i.disposeCell(o)}};GridPanel.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,i=e._szClientSB,o=this._rows,n=this._cols,r=new CellRange(0,0,o.length-1,n.length-1);if(this._ct==CellType.Cell||this._ct==CellType.RowHeader){var l=-t.y+this._offsetY,s=i.height;if((u=Math.min(o.frozen,o.length-1))>0){l+=g=o[u-1].pos;s-=g}if(u>0&&o[u].pos>i.height)r.row=r.row2=-1;else{r.row=Math.min(o.length-1,Math.max(u,o.getItemAt(l)));r.row2=Math.max(r.row,o.getItemAt(l+s))}var a=e.hostElement;if(e._clipToScreen&&a){var d=a.getBoundingClientRect(),c=-d.top-e.cells._e.offsetTop;d.top<0&&(r.row=Math.max(r.row,o.getItemAt(c)-1));d.bottom>innerHeight&&(r.row2=Math.min(r.row2,o.getItemAt(c+innerHeight)+1))}}if(this._ct==CellType.Cell||this._ct==CellType.ColumnHeader){var u,h=-t.x,p=i.width;if((u=Math.min(n.frozen,n.length-1))>0){var g;h+=g=n[u-1].pos;p-=g}if(u>0&&n[u].pos>i.width)r.col=r.col2=-1;else{r.col=Math.min(n.length-1,Math.max(u,n.getItemAt(h)));r.col2=Math.max(r.col,n.getItemAt(h+p))}}o.length<=o.frozen&&(r.row=r.row2=-1);n.length<=n.frozen&&(r.col=r.col2=-1);return r};GridPanel.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,i=e>0?this._rows[e-1]:null,o=t>0?this._cols[t-1]:null,n=i?i.pos+i.renderSize:0,r=o?o.pos+o.renderSize:0;return new Point(r,n)};GridPanel._INDEX_KEY=\"wj-cell-index\";GridPanel._HTML_CELL='<div class=\"wj-cell\" tabindex=\"-1\"></div>';return GridPanel}();export{GridPanel};var CellRangeEventArgs=function(e){__extends(CellRangeEventArgs,e);function CellRangeEventArgs(t,i,o){var n=e.call(this)||this;n._p=asType(t,GridPanel,!0);n._rng=asType(i,CellRange,!0);n._data=o;return n}Object.defineProperty(CellRangeEventArgs.prototype,\"panel\",{get:function(){return this._p},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"range\",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"row\",{get:function(){return this._rng.row},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"col\",{get:function(){return this._rng.col},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"data\",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0});CellRangeEventArgs.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null};CellRangeEventArgs.prototype.getColumn=function(e){var t=this._p,i=t&&this.col>-1?t.columns[this.col]:null;i&&e&&(i=t.grid._getBindingColumn(t,this.row,i));return i};return CellRangeEventArgs}(CancelEventArgs);export{CellRangeEventArgs};var FormatItemEventArgs=function(e){__extends(FormatItemEventArgs,e);function FormatItemEventArgs(t,i,o,n){void 0===n&&(n=!0);var r=e.call(this,t,i)||this;r._updateContent=!0;r._cell=asType(o,HTMLElement);return r}Object.defineProperty(FormatItemEventArgs.prototype,\"cell\",{get:function(){return this._cell},enumerable:!0,configurable:!0});Object.defineProperty(FormatItemEventArgs.prototype,\"updateContent\",{get:function(){return this._updateContent},enumerable:!0,configurable:!0});return FormatItemEventArgs}(CellRangeEventArgs);export{FormatItemEventArgs};var CellEditEndingEventArgs=function(e){__extends(CellEditEndingEventArgs,e);function CellEditEndingEventArgs(){var t=null!==e&&e.apply(this,arguments)||this;t._stayInEditMode=!1;t._refresh=!0;return t}Object.defineProperty(CellEditEndingEventArgs.prototype,\"stayInEditMode\",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellEditEndingEventArgs.prototype,\"refresh\",{get:function(){return this._refresh},set:function(e){this._refresh=asBoolean(e)},enumerable:!0,configurable:!0});return CellEditEndingEventArgs}(CellRangeEventArgs);export{CellEditEndingEventArgs};export var SelectionMode;!function(e){e[e.None=0]=\"None\";e[e.Cell=1]=\"Cell\";e[e.CellRange=2]=\"CellRange\";e[e.Row=3]=\"Row\";e[e.RowRange=4]=\"RowRange\";e[e.ListBox=5]=\"ListBox\";e[e.MultiRange=6]=\"MultiRange\"}(SelectionMode||(SelectionMode={}));export var SelectedState;!function(e){e[e.None=0]=\"None\";e[e.Selected=1]=\"Selected\";e[e.Cursor=2]=\"Cursor\";e[e.Active=3]=\"Active\"}(SelectedState||(SelectedState={}));export var SelMove;!function(e){e[e.None=0]=\"None\";e[e.Next=1]=\"Next\";e[e.Prev=2]=\"Prev\";e[e.NextPage=3]=\"NextPage\";e[e.PrevPage=4]=\"PrevPage\";e[e.Home=5]=\"Home\";e[e.End=6]=\"End\";e[e.NextCell=7]=\"NextCell\";e[e.PrevCell=8]=\"PrevCell\";e[e.NextEditableCell=9]=\"NextEditableCell\";e[e.PrevEditableCell=10]=\"PrevEditableCell\"}(SelMove||(SelMove={}));var _SelectionHandler=function(){function _SelectionHandler(e){this._sel=new CellRange(0,0);this._xSel=new ObservableArray;this._mode=SelectionMode.CellRange;this._g=e;this._e=new CellRangeEventArgs(e.cells,new CellRange(0,0));this._xSel.collectionChanged.addHandler((function(){e.invalidate()}))}Object.defineProperty(_SelectionHandler.prototype,\"selectionMode\",{get:function(){return this._mode},set:function(e){e!=this._mode&&this._setSelectionMode(e)},enumerable:!0,configurable:!0});Object.defineProperty(_SelectionHandler.prototype,\"selection\",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0});Object.defineProperty(_SelectionHandler.prototype,\"extendedSelection\",{get:function(){return this._xSel},enumerable:!0,configurable:!0});_SelectionHandler.prototype.select=function(e,t,i){void 0===t&&(t=!0);void 0===i&&(i=!1);var o=this._g,n=this._e.range,r=this._sel,l=n,s=!1,a=SelectionMode;if(isNumber(e)&&isString(t)){var d=o.columns.indexOf(t);if(d<0)throw\"Invalid column name or binding.\";n.setRange(e,d);t=!0}else if(isNumber(e)&&isNumber(t)){n.setRange(e,t);t=!0}else e instanceof CellRange?n.copy(e):assert(!1,\"CellRange expected\");switch(o.selectionMode){case a.Cell:l.row2=l.row;l.col2=l.col;break;case a.Row:l.row2=l.row;break;case a.ListBox:s=!0}var c=l.equals(r);if(c&&s)for(var u=0;u<o.rows.length;u++)if(o.rows[u].isSelected!==l.containsRow(u)){c=!1;break}if(c&&o.isRangeValid(l)){t&&this._showSelection();return!0}var h=Control.getControl(closest(getActiveElement(),\".wj-flexgrid\"));if(h&&h.activeEditor&&!h.finishEditing())return!1;var p=this._e;p._rng=l;p.cancel=!1;if(!o.onSelectionChanging(p)&&!i)return!1;s&&o.rows.forEach((function(e,t){e._setFlag(RowColFlags.Selected,l.containsRow(t),!0)}));l.row=Math.min(l.row,o.rows.length-1);l.row2=Math.min(l.row2,o.rows.length-1);this._sel.copy(l);o.refreshCells(!1,!0,!0);t&&this._showSelection();var g=o.collectionView;if(g){var f=o._getCvIndex(l.row);g.moveCurrentToPosition(f)}o.onSelectionChanged(p);return!0};_SelectionHandler.prototype.moveSelection=function(e,t,i){var o=this._g,n=this._sel,r=i&&o.anchorCursor?new CellRange(n.row2,n.col2):new CellRange(n.row,n.col);this._adjustReferenceCell(r,e,t);var l=r.row,s=r.col,a=o.rows,d=o.columns,c=Math.max(0,o._szClient.height-o.columnHeaders.height),u=SelMove;switch(t){case u.NextCell:case u.NextEditableCell:if((s=d.getNextCell(s,t))==r.col&&(l=a.getNextCell(l,t))>r.row){s=d.getNextCell(0,t);s=d.getNextCell(s,t==u.NextCell?u.PrevCell:u.PrevEditableCell)}o.select(l,s);break;case u.PrevCell:case u.PrevEditableCell:if((s=d.getNextCell(r.col,t))==r.col&&(l=a.getNextCell(l,t))<r.row){s=d.getNextCell(d.length-1,t);s=d.getNextCell(s,t==u.PrevCell?u.NextCell:u.NextEditableCell)}o.select(l,s);break;default:l=a.getNextCell(l,e,c);s=d.getNextCell(s,t,c);i?o.selection=o.anchorCursor?new CellRange(n.row,n.col,l,s):new CellRange(l,s,n.row2,n.col2):o.select(l,s)}};_SelectionHandler.prototype._setSelectionMode=function(e){var t=this._g,i=t.rows,o=SelectionMode;if(e==o.ListBox||this._mode==o.ListBox)for(var n=0;n<i.length;n++){var r=e==o.ListBox&&this._sel.containsRow(n);i[n]._setFlag(RowColFlags.Selected,r,!0)}this._mode=e;this._xSel.clear();if(i.length){r=this._sel;r=e!=o.None?new CellRange(r.row,r.col):new CellRange;this.select(r,!1,!0);t.invalidate()}};_SelectionHandler.prototype._expandSelection=function(){var e=this._g,t=e.selectionMode;if(e.expandSelectionOnCopyPaste&&t){var i=this.selection,o=SelectionMode;switch(t){case o.Cell:case o.Row:break;case o.ListBox:this._expandSelectedRows();break;case o.RowRange:i=new CellRange(i.topRow,0,i.bottomRow,e.columns.length-1);default:var n=this._expandSelectionRange(i);n&&this.select(n,!1)}}};_SelectionHandler.prototype._deselectRange=function(e){var t=this.selection,i=this.extendedSelection;if(t.contains(e)){var o=i.length;this._sel=o?i[o-1]:new CellRange;o&&i.removeAt(o-1);return!0}for(var n=0;n<i.length;n++)if(i[n].contains(e)){i.removeAt(n);return!0}return!1};_SelectionHandler.prototype._expandSelectedRows=function(){assert(this.selectionMode==SelectionMode.ListBox,\"ListBox mode expected\");for(var e=this._g,t=e.selectedRows.map((function(e){return e.index})),i=[],o=0;o<t.length;o++)for(var n=new CellRange(t[o],0,t[o],e.columns.length-1),r=this._expandSelectionRange(n)||n,l=r.topRow;l<=r.bottomRow;l++)-1===i.indexOf(l)&&i.push(l);i.sort();this._selectRows(i)};_SelectionHandler.prototype._expandSelectionRange=function(e){var t=this._g,i=t.cells,o=t.getMergedRange(i,e.topRow,e.leftCol,!1),n=t.getMergedRange(i,e.bottomRow,e.leftCol,!1),r=t.getMergedRange(i,e.topRow,e.rightCol,!1),l=t.getMergedRange(i,e.bottomRow,e.rightCol,!1);if(o||n||r||l){o=o||new CellRange(e.topRow,e.leftCol);n=n||new CellRange(e.bottomRow,e.leftCol);r=r||new CellRange(e.topRow,e.rightCol);l=l||new CellRange(e.bottomRow,e.rightCol);return new CellRange(Math.min(o.topRow,n.topRow,r.topRow,l.topRow),Math.min(o.leftCol,n.leftCol,r.leftCol,l.leftCol),Math.max(o.bottomRow,n.bottomRow,r.bottomRow,l.bottomRow),Math.max(o.rightCol,n.rightCol,r.rightCol,l.rightCol))}return null};_SelectionHandler.prototype._selectRows=function(e){assert(this.selectionMode==SelectionMode.ListBox,\"ListBox mode expected\");for(var t=this._g,i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n.index)>-1;if(r&&o){o=!1;this.select(i,this.selection.col)}n.isSelected=r}};_SelectionHandler.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)};_SelectionHandler.prototype._adjustReferenceCell=function(e,t,i){var o=this._g,n=o.getMergedRange(o.cells,e.row,e.col);if(n&&!n.isSingleCell){var r=SelMove;switch(t){case r.Next:case r.NextCell:case r.NextEditableCell:e.row=n.bottomRow;break;case r.Prev:case r.PrevCell:case r.PrevEditableCell:e.row=n.topRow}switch(i){case r.Next:case r.NextCell:case r.NextEditableCell:e.col=n.rightCol;break;case r.Prev:case r.PrevCell:case r.PrevEditableCell:e.col=n.leftCol}}};return _SelectionHandler}();export{_SelectionHandler};export var RowColFlags;!function(e){e[e.Visible=1]=\"Visible\";e[e.AllowResizing=2]=\"AllowResizing\";e[e.AllowDragging=4]=\"AllowDragging\";e[e.AllowMerging=8]=\"AllowMerging\";e[e.AllowSorting=16]=\"AllowSorting\";e[e.AutoGenerated=32]=\"AutoGenerated\";e[e.Collapsed=64]=\"Collapsed\";e[e.ParentCollapsed=128]=\"ParentCollapsed\";e[e.Selected=256]=\"Selected\";e[e.ReadOnly=512]=\"ReadOnly\";e[e.HtmlContent=1024]=\"HtmlContent\";e[e.WordWrap=2048]=\"WordWrap\";e[e.MultiLine=4096]=\"MultiLine\";e[e.HasTemplate=8192]=\"HasTemplate\";e[e.RowDefault=3]=\"RowDefault\";e[e.ColumnDefault=23]=\"ColumnDefault\"}(RowColFlags||(RowColFlags={}));var RowCol=function(){function RowCol(){this._type=null;this._align=null;this._inpType=null;this._mask=null;this._maxLen=null;this._required=null;this._fmt=null;this._map=null;this._ddCssClass=null;this._cssClass=null;this._cssClassAll=null;this._szMin=null;this._szMax=null;this._sz=null;this._pos=0;this._idx=-1;this._idxVis=-1;this._idxData=-1;this.gridChanged=new Event}Object.defineProperty(RowCol.prototype,\"binding\",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=asString(e);this._binding=t?new Binding(t):null;if(!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var o=i.sourceCollection[0];this._type=getType(this._binding.getValue(o))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"sortMemberPath\",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=asString(e);this._bindingSort=t?new Binding(t):null;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataType\",{get:function(){return this._type},set:function(e){e=asEnum(e,DataType,!0);if(this._type!=e){this._type=e;this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"inputType\",{get:function(){return this._inpType},set:function(e){this._inpType=asString(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"mask\",{get:function(){return this._mask},set:function(e){this._mask=asString(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"maxLength\",{get:function(){return this._maxLen},set:function(e){this._maxLen=asNumber(e,!0,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"align\",{get:function(){return this._align},set:function(e){if(this._align!=e){this._align=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"format\",{get:function(){return this._fmt},set:function(e){if(this._fmt!=e){this._fmt=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataMap\",{get:function(){return this._map},set:function(e){if(this._map!=e){this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this);isArray(e)&&(e=new DataMap(e,null,null));this._map=asType(e,DataMap,!0);this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataMapEditor\",{get:function(){return null!=this._mapEditor?this._mapEditor:DataMapEditor.DropDownList},set:function(e){if(e!=this._mapEditor){this._mapEditor=asEnum(e,DataMapEditor);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"showDropDown\",{get:function(){return this.dataMapEditor==DataMapEditor.DropDownList},set:function(e){_deprecated(\"showDropDown\",\"dataMapEditor\");this.dataMapEditor=e?DataMapEditor.DropDownList:DataMapEditor.AutoComplete},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dropDownCssClass\",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=asString(e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"visible\",{get:function(){return this._getFlag(RowColFlags.Visible)},set:function(e){this._setFlag(RowColFlags.Visible,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isVisible\",{get:function(){return!!this._getFlag(RowColFlags.Visible)&&(!this._getFlag(RowColFlags.ParentCollapsed)||this instanceof _NewRowTemplate)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"pos\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._pos},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"index\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._idx},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"visibleIndex\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"size\",{get:function(){return this._sz},set:function(e){if(e!=this._sz){this._sz=asNumber(e,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"renderSize\",{get:function(){var e=0,t=this._list;if(this.isVisible){(null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0);t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize);t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize);null!=this._szMin&&e<this._szMin&&(e=this._szMin);null!=this._szMax&&e>this._szMax&&(e=this._szMax)}return e},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowResizing\",{get:function(){return this._getFlag(RowColFlags.AllowResizing)},set:function(e){this._setFlag(RowColFlags.AllowResizing,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowDragging\",{get:function(){return this._getFlag(RowColFlags.AllowDragging)},set:function(e){this._setFlag(RowColFlags.AllowDragging,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowMerging\",{get:function(){return this._getFlag(RowColFlags.AllowMerging)},set:function(e){this._setFlag(RowColFlags.AllowMerging,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isSelected\",{get:function(){return this._getFlag(RowColFlags.Selected)},set:function(e){if(!!e!=this.isSelected){var t=this.grid;if(t){var i=this instanceof Row?new CellRange(this.index,-1):new CellRange(-1,this.index),o=new CellRangeEventArgs(t?t.cells:null,i);if(t.onSelectionChanging(o)&&this._setFlag(RowColFlags.Selected,e,!0)){t.refreshCells(!1,!0,!0);t.onSelectionChanged(o)}}else this._setFlag(RowColFlags.Selected,e)}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isReadOnly\",{get:function(){return this._getFlag(RowColFlags.ReadOnly)},set:function(e){this._setFlag(RowColFlags.ReadOnly,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isRequired\",{get:function(){return this._required},set:function(e){this._required=asBoolean(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isContentHtml\",{get:function(){return this._getFlag(RowColFlags.HtmlContent)},set:function(e){if(this.isContentHtml!=e){this._setFlag(RowColFlags.HtmlContent,e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"wordWrap\",{get:function(){return this._getFlag(RowColFlags.WordWrap)},set:function(e){this._setFlag(RowColFlags.WordWrap,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"multiLine\",{get:function(){return this._getFlag(RowColFlags.MultiLine)},set:function(e){this._setFlag(RowColFlags.MultiLine,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"cssClass\",{get:function(){return this._cssClass},set:function(e){if(e!=this._cssClass){this._cssClass=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"cssClassAll\",{get:function(){return this._cssClassAll},set:function(e){if(e!=this._cssClassAll){this._cssClassAll=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"grid\",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"collectionView\",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0});RowCol.prototype.onPropertyChanged=function(){if(this._list){this._list._dirty=!0;this.grid.invalidate()}};RowCol.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)};RowCol.prototype._setList=function(e){if(e!=this._list){this._list=e;this.onGridChanged()}};RowCol.prototype._getFlag=function(e){return 0!=(this._f&e)};RowCol.prototype._setFlag=function(e,t,i){if(!!t!=this._getFlag(e)){this._f=t?this._f|e:this._f&~e;i||this.onPropertyChanged();return!0}return!1};return RowCol}();export{RowCol};var Column=function(e){__extends(Column,e);function Column(t){var i=e.call(this)||this;i._hdr=null;i._name=null;i._agg=null;i._quickSize=null;i._descById=null;i._tpl=null;i._f=RowColFlags.ColumnDefault;i._hash=Column._ctr.toString(36);Column._ctr++;copy(i,t);return i}Object.defineProperty(Column.prototype,\"name\",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"width\",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){if(null!=Column._parseStarSize(e)){this._szStar=e;this.onPropertyChanged()}else{this._szStar=null;this.size=asNumber(e,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"minWidth\",{get:function(){return this._szMin},set:function(e){if(e!=this._szMin){this._szMin=asNumber(e,!0,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"maxWidth\",{get:function(){return this._szMax},set:function(e){if(e!=this._szMax){this._szMax=asNumber(e,!0,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"quickAutoSize\",{get:function(){return this._quickSize},set:function(e){this._quickSize=asBoolean(e,!0)},enumerable:!0,configurable:!0});Column.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(RowColFlags.HasTemplate)))};Object.defineProperty(Column.prototype,\"renderWidth\",{get:function(){return this.renderSize},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"header\",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){if(this._hdr!=e){this._hdr=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"cellTemplate\",{get:function(){return this._tpl},set:function(e){if(e!=this._tpl){assert(null==e||isString(e)||isFunction(e),\"cellTemplate should be a string or an ICellTemplateFunction.\");this._tpl=e;this._setFlag(RowColFlags.HasTemplate,null!=e&&\"\"!=e);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"editor\",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){if(e!=this.editor){if(this._edt){this._edt.dispose();this._edt=null}if(null!=e){e=asType(e,Control);this._edt=new _CustomEditor(this,e)}}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"allowSorting\",{get:function(){return this._getFlag(RowColFlags.AllowSorting)},set:function(e){this._setFlag(RowColFlags.AllowSorting,e)},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"currentSort\",{get:function(){var e=this.currentSortIndex;if(e>-1){return this.grid.collectionView.sortDescriptions[e].ascending?\"+\":\"-\"}return null},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"currentSortIndex\",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,i=t&&t.length?this._getBindingSort():null;if(i)for(var o=0;o<t.length;o++)if(t[o].property==i)return o;return-1},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"aggregate\",{get:function(){return null!=this._agg?this._agg:Aggregate.None},set:function(e){if((e=asEnum(e,Aggregate))!=this._agg){this._agg=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"describedById\",{get:function(){return this._descById},set:function(e){if(e!=this._descById){this._descById=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Column.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==DataType.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=DataType.String||(null!=e.dataMap||null!=e.mask&&e.mask.length>0)};Column.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case DataType.Boolean:return\"center\";case DataType.Number:return\"right\"}if(e&&!e.dataMap)switch(e.dataType){case DataType.Boolean:return\"center\";case DataType.Number:return\"right\"}return\"\"};Column.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null};Column._parseStarSize=function(e){if(isString(e)){var t=e.length;if(t>0&&\"*\"==e[t-1]){var i=1==t?1:parseFloat(e);if(i>0&&!isNaN(i))return i}}return null};Column._ctr=0;return Column}(RowCol);export{Column};var Row=function(e){__extends(Row,e);function Row(t){var i=e.call(this)||this;i._f=RowColFlags.ColumnDefault;i._data=t||null;return i}Object.defineProperty(Row.prototype,\"dataItem\",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"dataIndex\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._idxData},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"height\",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"renderHeight\",{get:function(){return this.renderSize},enumerable:!0,configurable:!0});return Row}(RowCol);export{Row};var GroupRow=function(e){__extends(GroupRow,e);function GroupRow(t){var i=e.call(this,t)||this;i._level=-1;i.level=t instanceof CollectionViewGroup?t.level:-1;i.isReadOnly=!0;return i}Object.defineProperty(GroupRow.prototype,\"level\",{get:function(){return this._level},set:function(e){asInt(e);if(e!=this._level){this._level=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(GroupRow.prototype,\"hasChildren\",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,t=tryCast(e,GroupRow),i=tryCast(e,_NewRowTemplate);return null!=e&&null==i&&(null==t||t.level>this.level)}return!0},enumerable:!0,configurable:!0});Object.defineProperty(GroupRow.prototype,\"isCollapsed\",{get:function(){return this._getFlag(RowColFlags.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(asBoolean(e))},enumerable:!0,configurable:!0});GroupRow.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||culture.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof CollectionViewGroup&&t&&e.showGroups&&!e.childItemsPath){var o=i.groupDescription.propertyName,n=i.name,r=e.getColumn(o),l=this.isContentHtml;if(r){l=l||r.isContentHtml;r.header&&(o=r.header);var s=r.dataMap;s&&(n=s.getDisplayValue(n));r.dataType==getType(n)&&(n=Globalize.format(n,r.format))}else o=toHeaderCase(o);var a=i.getAggregate(Aggregate.CntAll,null,e.collectionView);return format(t,{name:escapeHtml(o),value:l?n:escapeHtml(n),level:i.level,count:a})}return\"\"};GroupRow.prototype._setCollapsed=function(e){var t=this,i=this.grid,o=i.rows,n=this.getCellRange(),r=new CellRangeEventArgs(i.cells,new CellRange(this.index,-1));if(i.onGroupCollapsedChanging(r)){i.deferUpdate((function(){o.deferUpdate((function(){t._setFlag(RowColFlags.Collapsed,e,!0);for(var i=n.topRow+1;i<=n.bottomRow&&i>-1&&i<o.length;i++){o[i]._setFlag(RowColFlags.ParentCollapsed,e,!0);var r=o[i];r instanceof GroupRow&&r.isCollapsed&&(i=r.getCellRange().bottomRow)}}))}));i.onGroupCollapsedChanged(r)}};GroupRow.prototype.getCellRange=function(){for(var e=this._list,t=this.index,i=e.length-1,o=t+1;o<=i;o++){var n=e[o];if(n instanceof GroupRow&&n.level<=this.level){i=o-1;break}}return new CellRange(t,0,i,this.grid.columns.length-1)};return GroupRow}(Row);export{GroupRow};var RowColCollection=function(e){__extends(RowColCollection,e);function RowColCollection(t,i){var o=e.call(this)||this;o._frozen=0;o._lastFrozen=-1;o._firstVisible=-1;o._vlen=0;o._szDef=28;o._szTot=0;o._szCustom=!1;o._dirty=!1;o._g=asType(t,FlexGrid);o._szDef=asNumber(i,!1,!0);return o}Object.defineProperty(RowColCollection.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"defaultSize\",{get:function(){return this._szDef},set:function(e){this._szCustom=!0;if(this._szDef!=e){this._szDef=asNumber(e,!1,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"frozen\",{get:function(){return this._frozen},set:function(e){if(e!=this._frozen){this._frozen=asNumber(e,!1,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});RowColCollection.prototype.isFrozen=function(e){return e<this.frozen};Object.defineProperty(RowColCollection.prototype,\"minSize\",{get:function(){return this._szMin},set:function(e){if(e!=this._szMin){this._szMin=asNumber(e,!0,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"maxSize\",{get:function(){return this._szMax},set:function(e){if(e!=this._szMax){this._szMax=asNumber(e,!0,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});RowColCollection.prototype.getTotalSize=function(){this._dirty&&this._update();return this._szTot};Object.defineProperty(RowColCollection.prototype,\"visibleLength\",{get:function(){this._dirty&&this._update();return this._vlen},enumerable:!0,configurable:!0});RowColCollection.prototype.getItemAt=function(e){this._dirty&&this._update();if(e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,i,o=this.length,n=0,r=o-1;n<=r;)if((i=this[t=n+r>>>1])._pos>=e&&t>0)r=t-1;else{if(!(i._pos+i.renderSize<=e&&t<o-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<o-1&&!this[t].renderSize;)t++;return t}n=t+1}return r};RowColCollection.prototype.getNextCell=function(e,t,i){void 0===i&&(i=0);var o,n=SelMove;switch(t){case n.Next:case n.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case n.Prev:case n.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case n.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,SelMove.End,i):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case n.PrevPage:return(o=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,SelMove.Home,i):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e};RowColCollection.prototype.canMoveElement=function(e,t,i){void 0===i&&(i=!0);if(t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;if(i){t<0&&(t=this.length-1);for(var o=Math.min(e,t),n=Math.max(e,t),r=o;r<=n;r++)if(!this[r].allowDragging)return!1}return!(this[t]instanceof _NewRowTemplate)};RowColCollection.prototype.moveElement=function(e,t,i){void 0===i&&(i=!0);if(this.canMoveElement(e,t,i)){var o=this[e];this.removeAt(e);t<0&&(t=this.length);this.insert(t,o);if(i){var n=this.frozen;e<n&&t>=n?this.frozen--:e>=n&&t<n&&this.frozen++}return!0}return!1};RowColCollection.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset);this._dirty=!0;this._g.invalidate();e.prototype.onCollectionChanged.call(this,t)};RowColCollection.prototype.push=function(t){t._setList(this);return e.prototype.push.call(this,t)};RowColCollection.prototype.splice=function(t,i){for(var o=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var l=t;l<t+i&&l<this.length;l++){var s=this[l];s instanceof RowCol&&s._setList(null)}n.forEach((function(e){return e._setList(o)}));return e.prototype.splice.apply(this,[t,i].concat(n))};RowColCollection.prototype.beginUpdate=function(){this._update();e.prototype.beginUpdate.call(this)};RowColCollection.prototype._setDefaultSize=function(e){if(!this._szCustom){this.defaultSize=e;this._szCustom=!1}};RowColCollection.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1;this._lastFrozen=-1;this._firstVisible=-1;for(var e=0,t=0,i=void 0,o=void 0,n=0;n<this.length;n++){(o=this[n])._idx=n;o._idxVis=e;o._pos=t;o._setList(this);if((i=o.renderSize)>0){t+=i;e++;n<this._frozen&&(this._lastFrozen=n)}this._firstVisible<0&&o.visible&&(this._firstVisible=n)}this._vlen=e;this._szTot=t;return!0}return!1};return RowColCollection}(ObservableArray);export{RowColCollection};var ColumnCollection=function(e){__extends(ColumnCollection,e);function ColumnCollection(){return null!==e&&e.apply(this,arguments)||this}ColumnCollection.prototype.getColumn=function(e){var t=isNumber(e)?e:this.indexOf(e);return t>-1?this[t]:null};ColumnCollection.prototype.indexOf=function(t){if(t instanceof Column)return e.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1};Object.defineProperty(ColumnCollection.prototype,\"describedById\",{get:function(){return this._descById},set:function(e){if(e!=this._descById){this._descById=asString(e);this._g&&this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ColumnCollection.prototype,\"firstVisibleIndex\",{get:function(){this._dirty&&this._update();return this._firstVisible},enumerable:!0,configurable:!0});ColumnCollection.prototype._updateStarSizes=function(e){var t,i=!1,o=0;e-=.5;for(var n=0;n<this.length;n++){if((l=this[n]).isVisible)if(l._szStar){o+=Column._parseStarSize(l._szStar);t=l}else e-=l.renderWidth}if(t){var r=e;for(n=0;n<this.length;n++){var l;if((l=this[n]).isVisible&&l._szStar){var s=l._sz;l==t&&r>0?s=r:r-=s=Math.max(0,Math.round(Column._parseStarSize(l._szStar)/o*e));if(s!=l._sz){l._sz=s;i=!0}}}if(i){this._dirty=!0;this._update()}return i}return!1};return ColumnCollection}(RowColCollection);export{ColumnCollection};var RowCollection=function(e){__extends(RowCollection,e);function RowCollection(){var t=null!==e&&e.apply(this,arguments)||this;t._maxLevel=-1;return t}Object.defineProperty(RowCollection.prototype,\"ariaLabel\",{get:function(){return this._ariaLabel},set:function(e){if(e!=this.ariaLabel){this._ariaLabel=asString(e);this._g&&this._g.refresh()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCollection.prototype,\"maxGroupLevel\",{get:function(){this._dirty&&this._update();return this._maxLevel},enumerable:!0,configurable:!0});RowCollection.prototype._update=function(){var t=this;if(e.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,o=i?i.items:null,n=0;this._maxLevel=-1;this.forEach((function(e){e instanceof GroupRow&&e.level>t._maxLevel&&(t._maxLevel=e.level);e._idxData=-1;var i=e.dataItem;i&&o&&(e._idxData=i===o[n]?n:i===o[n+1]?++n:-1)}));return!0}return!1};return RowCollection}(RowColCollection);export{RowCollection};var _ColumnGroupHandler=function(){function _ColumnGroupHandler(e){this._grid=e}_ColumnGroupHandler.prototype.createColumnGroups=function(e){var t=this,i=this._grid;this._groupDefs=asArray(e);i.autoGenerateColumns=!1;i.columns.clear();this._colGroups=[];e.forEach((function(e){t._colGroups.push(e instanceof ColumnGroup?e:new ColumnGroup(e,null))}));var o=0;this._colGroups.forEach((function(e){t._addColumnGroup(e);o=Math.max(o,e._getMaxLevel())}));this._colGroups.forEach((function(e){e._expandRange(o)}));var n=i.columnHeaders.rows;n.clear();for(var r=0;r<=o;r++){var l=new Row;n.splice(r,0,l);r<o&&(l.cssClassAll=\"wj-colgroup\")}for(r=0;r<n.length;r++)for(var s=0;s<i.columns.length;s++){var a=this.getColumnGroup(r,s);if(a){var d=a.header||toHeaderCase(a.binding);i.columnHeaders.setCellData(r,s,d)}}};_ColumnGroupHandler.prototype._addColumnGroup=function(e){var t=this,i=this._grid;e._grid=i;e._rng.col=i.columns.length;0==e.columns.length?i.columns.push(e):e.columns.forEach((function(e){t._addColumnGroup(e)}));e._rng.col2=i.columns.length-1};_ColumnGroupHandler.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0};_ColumnGroupHandler.prototype.getGroupDefinitions=function(){return this._groupDefs};_ColumnGroupHandler.prototype.getColumnGroup=function(e,t){var i=this._grid;if(e<i.columnHeaders.rows.length&&t<i.columns.length)for(var o=this._colGroups;o;){for(var n=o,r=0;r<o.length;r++){var l=o[r],s=l._rng;if(s.containsColumn(t)){if(s.containsRow(e)||0==l.columns.length)return l;o=l.columns;break}}if(o==n)break}return null};return _ColumnGroupHandler}();export{_ColumnGroupHandler};var ColumnGroup=function(e){__extends(ColumnGroup,e);function ColumnGroup(t,i){void 0===i&&(i=null);var o=e.call(this)||this;o._rng=new CellRange(0,-1);o._cols=[];o._lvl=0;o._collapsed=!1;o._pGrp=i;for(var n=i;n;n=n._pGrp)o._lvl++;i&&i.columns.indexOf(o)<0&&i.columns.push(o);o._rng.row=o._rng.row2=o._lvl;o.allowDragging=!1;copy(o,t);return o}Object.defineProperty(ColumnGroup.prototype,\"columns\",{get:function(){return this._cols},set:function(e){var t=this,i=this._cols=[];e.forEach((function(e){var o=e instanceof ColumnGroup?e:new ColumnGroup(e,t);i.indexOf(o)<0&&i.push(o)}))},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"parentGroup\",{get:function(){return this._pGrp},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"level\",{get:function(){for(var e=this,t=0;e.parentGroup;){e=e.parentGroup;t++}return t},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"collapseTo\",{get:function(){return this._collTo},set:function(e){this._collTo=asString(e)},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"isCollapsed\",{get:function(){return this._collapsed},set:function(e){var t=this;if(e!=this._collapsed){var i=this._grid;if(i){var o=new CellRangeEventArgs(i.rowHeaders,this._rng,this);if(i.onColumnGroupCollapsedChanging(o)){this._collapsed=asBoolean(e);i.onColumnGroupCollapsedChanged(o)}}else this._collapsed=asBoolean(e)}setTimeout((function(){t._updateCollapsedState()}))},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"grid\",{get:function(){return this._grid},enumerable:!0,configurable:!0});ColumnGroup.prototype._updateCollapsedState=function(){var e=this._grid?this._grid.columns:null,t=this._rng,i=this._collapsed;if(e){this._cols.forEach((function(e){if(e instanceof ColumnGroup){e._collapsed=i;e._updateCollapsedState()}}));var o=t.rightCol;if(this.collapseTo)switch(this.collapseTo){case\"$first\":o=t.leftCol;break;case\"$last\":o=t.rightCol;break;default:var n=e.getColumn(this.collapseTo);n&&t.containsColumn(n.index)&&(o=n.index)}for(var r=t.leftCol;r<=t.rightCol;r++)e[r].visible=!i||r==o}};ColumnGroup.prototype._getMaxLevel=function(){var e=this._lvl;this.columns.forEach((function(t){e=Math.max(e,t._getMaxLevel())}));return e};ColumnGroup.prototype._expandRange=function(e){var t=e-this._getMaxLevel();if(t>0){this._rng.row2+=t;this._cols.forEach((function(e){e._shiftRange(t)}))}for(var i=this._grid.columns,o=this._rng,n=o.col;n<=o.col2;n++){i[n]._rng.row2=e}};ColumnGroup.prototype._shiftRange=function(e){this._rng.row+=e;this._rng.row2+=e;this._cols.forEach((function(t){t._shiftRange(e)}))};return ColumnGroup}(Column);export{ColumnGroup};_addCultureInfo(\"FlexGrid\",{groupHeaderFormat:\"{name}: <b>{value}</b> ({count:n0} items)\",ariaLabels:{toggleDropDown:\"Toggle Dropdown\",toggleGroup:\"Toggle Group\"}});export var AllowSorting;!function(e){e[e.None=0]=\"None\";e[e.SingleColumn=1]=\"SingleColumn\";e[e.MultiColumn=2]=\"MultiColumn\"}(AllowSorting||(AllowSorting={}));export var AllowPinning;!function(e){e[e.None=0]=\"None\";e[e.SingleColumn=1]=\"SingleColumn\";e[e.ColumnRange=2]=\"ColumnRange\";e[e.Both=3]=\"Both\"}(AllowPinning||(AllowPinning={}));export var HeadersVisibility;!function(e){e[e.None=0]=\"None\";e[e.Column=1]=\"Column\";e[e.Row=2]=\"Row\";e[e.All=3]=\"All\"}(HeadersVisibility||(HeadersVisibility={}));export var ClipStringOptions;!function(e){e[e.Default=0]=\"Default\";e[e.CSV=1]=\"CSV\";e[e.QuoteAll=2]=\"QuoteAll\";e[e.SkipMerged=4]=\"SkipMerged\";e[e.Unformatted=8]=\"Unformatted\";e[e.InvisibleRows=16]=\"InvisibleRows\";e[e.InvisibleColumns=32]=\"InvisibleColumns\";e[e.InvisibleCells=48]=\"InvisibleCells\"}(ClipStringOptions||(ClipStringOptions={}));var FlexGrid=function(e){__extends(FlexGrid,e);function FlexGrid(t,i){var o=e.call(this,t,null,!0)||this;o._activeCell=null;o._szClient=new Size(0,0);o._szClientSB=new Size(0,0);o._offsetY=0;o._cssPage=0;o._ptScrl=new Point(0,0);o._cellPadLeft=3;o._cellPadHorz=3;o._cellPadVert=0;o._clipToScreen=!1;o._autoGenCols=!0;o._autoClipboard=!0;o._xOnCopyPaste=!0;o._autoScroll=!0;o._autoSearch=!1;o._caseSensitive=!1;o._readOnly=!1;o._indent=14;o._autoSizeMode=AutoSizeMode.Both;o._autoHeights=!1;o._quickSize=null;o._hdrVis=HeadersVisibility.All;o._alSorting=AllowSorting.SingleColumn;o._alPinning=AllowPinning.None;o._alAddNew=!1;o._alDelete=!1;o._alResizing=AllowResizing.Columns;o._alDragging=AllowDragging.Columns;o._alMerging=AllowMerging.None;o._ssHdr=HeadersVisibility.None;o._shSort=!0;o._shGroups=!0;o._shMarquee=!1;o._shPlcHld=!1;o._altStep=1;o._shErr=!0;o._shDropDown=!0;o._valEdt=!0;o._gHdrFmt=null;o._childItemsPath=null;o._sortRowIndex=null;o._editColIndex=null;o._deferResizing=!1;o._pSel=!0;o._pOutline=!0;o._stickyHdr=!1;o._anchorCursor=!1;o._copyHeaders=HeadersVisibility.None;o._bigChecks=!1;o._fzClone=null;o._vt=0;o._vtRows=0;o._vtCols=0;o._lazyRender=!0;o._refreshOnEdit=!0;o._reorderCells=!0;o._touchEdit=!1;o.itemsSourceChanging=new Event;o.itemsSourceChanged=new Event;o.scrollPositionChanged=new Event;o.selectionChanging=new Event;o.selectionChanged=new Event;o.loadingRows=new Event;o.loadedRows=new Event;o.updatingLayout=new Event;o.updatedLayout=new Event;o.resizingColumn=new Event;o.resizedColumn=new Event;o.autoSizingColumn=new Event;o.autoSizedColumn=new Event;o.starSizedColumns=new Event;o.draggingColumn=new Event;o.draggingColumnOver=new Event;o.draggedColumn=new Event;o.pinningColumn=new Event;o.pinnedColumn=new Event;o.resizingRow=new Event;o.resizedRow=new Event;o.autoSizingRow=new Event;o.autoSizedRow=new Event;o.draggingRow=new Event;o.draggingRowOver=new Event;o.draggedRow=new Event;o.groupCollapsedChanging=new Event;o.groupCollapsedChanged=new Event;o.columnGroupCollapsedChanging=new Event;o.columnGroupCollapsedChanged=new Event;o.sortingColumn=new Event;o.sortedColumn=new Event;o.beginningEdit=new Event;o.prepareCellForEdit=new Event;o.cellEditEnding=new Event;o.cellEditEnded=new Event;o.rowEditStarting=new Event;o.rowEditStarted=new Event;o.rowEditEnding=new Event;o.rowEditEnded=new Event;o.rowAdded=new Event;o.deletingRow=new Event;o.deletedRow=new Event;o.copying=new Event;o.copied=new Event;o.pasting=new Event;o.pasted=new Event;o.pastingCell=new Event;o.pastedCell=new Event;o.formatItem=new Event((function(){o._clearCells()}));o.updatingView=new Event;o.updatedView=new Event;o._mappedColumns=null;var n=o.hostElement;isIE()&&(n.style.borderRadius=\"0\");var r=o.getTemplate();o.applyTemplate(\"wj-control wj-content wj-flexgrid\",r,{_root:\"root\",_eSz:\"sz\",_eCt:\"cells\",_fCt:\"fcells\",_eTL:\"tl\",_eBL:\"bl\",_eCHdr:\"ch\",_eRHdr:\"rh\",_eCFtr:\"cf\",_eTLCt:\"tlcells\",_eBLCt:\"blcells\",_eCHdrCt:\"chcells\",_eCFtrCt:\"cfcells\",_eRHdrCt:\"rhcells\",_eMarquee:\"marquee\",_eFocus:\"focus\"});setCss(o._root.parentElement,{position:\"relative\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\",overflow:\"hidden\",minWidth:\"inherit\",minHeight:\"inherit\",maxWidth:\"inherit\",maxHeight:\"inherit\"});setCss(o._root,{position:\"absolute\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\",minWidth:\"inherit\",minHeight:\"inherit\",maxWidth:\"inherit\",maxHeight:\"inherit\",overflow:\"auto\",webkitOverflowScrolling:\"touch\"});setCss(o._eCt,{position:\"absolute\"});setCss(o._eMarquee,{display:\"none\"});setCss(o._eMarquee.firstChild,{width:\"100%\",height:\"100%\"});setCss(o._fCt,{position:\"absolute\",left:\"0\",top:\"0\",overflow:\"hidden\",pointerEvents:\"none\"});setCss(o._eFocus,{position:\"fixed\",left:\"-32000px\"});setCss(o._eSz,{position:\"relative\",visibility:\"hidden\"});[o._eRHdr,o._eCFtr,o._eCHdr,o._eBL,o._eTL].forEach((function(e){setAttribute(e,\"aria-hidden\",!0);setCss(e,{position:\"absolute\",overflow:\"hidden\",outline:\"none\"});setCss(e.firstElementChild,{position:\"relative\"})}));[o._eFocus,o._eMarquee,o._fCt,o._eSz].forEach((function(e){setAttribute(e,\"aria-hidden\",!0)}));if(isIE9()||isIE10()){var l=o._eMarquee;[\"click\",\"dblclick\",\"mousedown\",\"mouseup\"].forEach((function(e){o.addEventListener(l,e,(function(t){var i=l.style.display;l.style.display=\"none\";var o=document.elementFromPoint(t.clientX,t.clientY);l.style.display=i;var n=document.createEvent(\"Event\");n.initEvent(e,!0,!0);for(var r in t)try{n[r]=t[r]}catch(e){}o.dispatchEvent(n)}))}))}n.tabIndex=-1;o.deferUpdate((function(){var e=o._getDefaultRowHeight();o._rows=new RowCollection(o,e);o._cols=new ColumnCollection(o,4*e);o._hdrRows=new RowCollection(o,e);o._hdrCols=new ColumnCollection(o,Math.round(1.25*e));o._ftrRows=new RowCollection(o,e);var t=CellType;o._gpTL=new GridPanel(o,t.TopLeft,o._hdrRows,o._hdrCols,o._eTLCt);o._gpCHdr=new GridPanel(o,t.ColumnHeader,o._hdrRows,o._cols,o._eCHdrCt);o._gpRHdr=new GridPanel(o,t.RowHeader,o._rows,o._hdrCols,o._eRHdrCt);o._gpCells=new GridPanel(o,t.Cell,o._rows,o._cols,o._eCt);o._gpBL=new GridPanel(o,t.BottomLeft,o._ftrRows,o._hdrCols,o._eBLCt);o._gpCFtr=new GridPanel(o,t.ColumnFooter,o._ftrRows,o._cols,o._eCFtrCt);o._hdrRows.push(new Row);o._hdrCols.push(new Column({align:\"center\"}));o._cf=new CellFactory;o._keyHdl=new _KeyboardHandler(o);o._mouseHdl=new _MouseHandler(o);o._edtHdl=new _EditHandler(o);o._selHdl=new _SelectionHandler(o);o._addHdl=new _AddNewHandler(o);o._grpHdl=new _ColumnGroupHandler(o);o._mrgMgr=new MergeManager;o._bndSortConverter=o._sortConverter.bind(o);o._errorTip=new Tooltip({isContentHtml:!1,showDelay:0,cssClass:\"wj-error-tip\"});setAttribute(o.cells.hostElement,\"role\",\"grid\");o.selectionMode=SelectionMode.CellRange;o._root.tabIndex=-1;o.initialize(i)}));o.addEventListener(o._root,\"scroll\",(function(e){if(o._updateScrollPosition()||o._forceScrollUpdate){var t=o.activeEditor,i=o.activeCell,n=i?i.className:null;o._forceScrollUpdate||o.finishEditing();o._forceScrollUpdate=!1;o._updateContent(!0);var r=o.activeEditor,l=o.activeCell;if(r&&l&&t&&n){r.value=t.value;l.className=n;o._setFocusNoScroll(r)}else r&&!l&&o.finishEditing(!0);o.frozenColumns&&setTimeout((function(){var e=o.columnHeaders.hostElement.style,t=parseInt(e.left),i=o._ptScrl.x;Math.abs(t-i)>1&&o.invalidate()}))}}));o.addEventListener(n,\"focus\",(function(e){if(n.tabIndex>-1){var t=e.target;t instanceof HTMLElement&&t.tabIndex<0&&o._setFocus(!0)}}),!0);return o}FlexGrid.prototype._handleResize=function(){var t=this;this._rcBounds=null;this.activeEditor&&this.isTouching||this._touchEdit?setTimeout((function(){if(!t.activeEditor){t._touchEdit=!0;t.startEditing(!0)}}),50):e.prototype._handleResize.call(this);this._touchEdit=!1};Object.defineProperty(FlexGrid.prototype,\"headersVisibility\",{get:function(){return this._hdrVis},set:function(e){if((e=asEnum(e,HeadersVisibility))!=this._hdrVis){this._hdrVis=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"stickyHeaders\",{get:function(){return this._stickyHdr},set:function(e){if(e!=this._stickyHdr){this._stickyHdr=asBoolean(e);this._updateStickyHeaders();this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveSelectedState\",{get:function(){return this._pSel},set:function(e){this._pSel=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveOutlineState\",{get:function(){return this._pOutline},set:function(e){this._pOutline=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"anchorCursor\",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"copyHeaders\",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=asEnum(e,HeadersVisibility)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"lazyRender\",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"refreshOnEdit\",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"virtualizationThreshold\",{get:function(){return this._vt},set:function(e){this._vt=e;if(isNumber(e))this._vtRows=this._vtCols=asNumber(e);else if(e)if(isArray(e)&&2==e.length){this._vtRows=asNumber(e[0]);this._vtCols=asNumber(e[1])}else assert(!1,\"virtualizationThreshold should be a number or an array with two numbers.\");else this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoGenerateColumns\",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoClipboard\",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"expandSelectionOnCopyPaste\",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoScroll\",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoSearch\",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"caseSensitiveSearch\",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnLayout\",{get:function(){var e=FlexGrid._getSerializableProperties(Column),t=new Column,i=[];this.columns.forEach((function(o){var n={};e.forEach((function(e){var i=o[e];i!=t[e]&&isPrimitive(i)&&\"size\"!=e&&(n[e]=i)}));i.push(n)}));return JSON.stringify({columns:i})},set:function(e){var t=this,i=JSON.parse(asString(e));assert(i,\"Invalid columnLayout data.\");this.columns.deferUpdate((function(){t.columns.clear();t.initialize(i)}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnGroups\",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear();this._grpHdl.createColumnGroups(asArray(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"isReadOnly\",{get:function(){return this._readOnly},set:function(e){if(e!=this._readOnly){this._readOnly=asBoolean(e);this.finishEditing();this.invalidate(!0);this._addHdl.updateNewRowTemplate();toggleClass(this.hostElement,\"wj-state-readonly\",this.isReadOnly);this._setAria(\"readonly\",this.isReadOnly?\"true\":null)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"bigCheckboxes\",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"isDisabled\",{get:function(){return this._e&&null!=this._e.getAttribute(\"disabled\")},set:function(e){if((e=asBoolean(e,!0))!=this.isDisabled){var t=this._e;if(t){enable(t,!e);this.invalidate()}}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"imeEnabled\",{get:function(){return null!=this._imeHdl},set:function(e){if(asBoolean(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();if(this._imeHdl){this._imeHdl.dispose();this._imeHdl=null}e&&(this._imeHdl=new _ImeHandler(this));t&&this.focus()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowResizing\",{get:function(){return this._alResizing},set:function(e){this._alResizing=asEnum(e,AllowResizing)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"deferResizing\",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoSizeMode\",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=asEnum(e,AutoSizeMode)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoRowHeights\",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"quickAutoSize\",{get:function(){return this._quickSize},set:function(e){this._quickSize=asBoolean(e,!0)},enumerable:!0,configurable:!0});FlexGrid.prototype._getQuickAutoSize=function(){return isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter};Object.defineProperty(FlexGrid.prototype,\"allowSorting\",{get:function(){return this._alSorting},set:function(e){isBoolean(e)&&(e=e?AllowSorting.SingleColumn:AllowSorting.None);this._alSorting=asEnum(e,AllowSorting)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowPinning\",{get:function(){return this._alPinning},set:function(e){if(e!=this._alPinning){isBoolean(e)&&(e=e?AllowPinning.SingleColumn:AllowPinning.None);this._alPinning=asEnum(e,AllowPinning);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowAddNew\",{get:function(){return this._alAddNew},set:function(e){if(e!=this._alAddNew){this._alAddNew=asBoolean(e);this._addHdl.updateNewRowTemplate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"newRowAtTop\",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowDelete\",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=asBoolean(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowMerging\",{get:function(){return this._alMerging},set:function(e){if((e=asEnum(e,AllowMerging))!=this._alMerging){this._alMerging=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showSelectedHeaders\",{get:function(){return this._ssHdr},set:function(e){if((e=asEnum(e,HeadersVisibility))!=this._ssHdr){this._ssHdr=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showMarquee\",{get:function(){return this._shMarquee},set:function(e){if(e!=this._shMarquee){this._shMarquee=asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showPlaceholders\",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showSort\",{get:function(){return this._shSort},set:function(e){if(e!=this._shSort){this._shSort=asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showGroups\",{get:function(){return this._shGroups},set:function(e){if(e!=this._shGroups){this._shGroups=asBoolean(e);this._bindGrid(!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"alternatingRowStep\",{get:function(){return this._altStep},set:function(e){if(e!=this._altStep){this._altStep=asInt(e,!1,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showAlternatingRows\",{get:function(){return this._altStep>0},set:function(e){_deprecated(\"showAlternatingRows\",\"alternatingRowStep\");this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showErrors\",{get:function(){return this._shErr},set:function(e){if(e!=this._shErr){this._clearCells();this._shErr=asBoolean(e)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"errorTip\",{get:function(){return this._errorTip},set:function(e){if(e!=this._errorTip){this._clearCells();this._errorTip=asType(e,Tooltip,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemValidator\",{get:function(){return this._itemValidator},set:function(e){if(e!=this.itemValidator){this._itemValidator=asFunction(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"validateEdits\",{get:function(){return this._valEdt},set:function(e){this._valEdt=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"groupHeaderFormat\",{get:function(){return this._gHdrFmt},set:function(e){if(e!=this._gHdrFmt){this._gHdrFmt=asString(e);this._bindGrid(!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowDragging\",{get:function(){return this._alDragging},set:function(e){if((e=asEnum(e,AllowDragging))!=this._alDragging){this._alDragging=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemsSource\",{get:function(){return this._items},set:function(e){var t=this;if(e!=this._items){var i=new CancelEventArgs;if(this.onItemsSourceChanging(i)){if(this._cv){(o=this._cv).currentChanged.removeHandler(null,this);o.collectionChanged.removeHandler(null,this);o instanceof CollectionView&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null);this._cv=null}this._items=e;this._cv=this._getCollectionView(e);this._lastCount=0;if(this._cv){var o;(o=this._cv).currentChanged.addHandler((function(e,i){return t._cvCurrentChanged(e,i)}),this);o.collectionChanged.addHandler((function(e,i){return t._cvCollectionChanged(e,i)}),this);o instanceof CollectionView&&!o.sortConverter&&(o.sortConverter=this._bndSortConverter)}this._bindGrid(!0);this._selHdl._setSelectionMode(this.selectionMode);this.onItemsSourceChanged(i)}}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"collectionView\",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editableCollectionView\",{get:function(){return tryCast(this._cv,\"IEditableCollectionView\")},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"childItemsPath\",{get:function(){return this._childItemsPath},set:function(e){if(e!=this._childItemsPath){assert(null==e||isArray(e)||isString(e),\"childItemsPath should be an array or a string.\");this._childItemsPath=e;this._bindGrid(!0)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rowHeaderPath\",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){if(e!=this.rowHeaderPath){e=asString(e);this._rowHdrPath=e?new Binding(e):null;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cells\",{get:function(){return this._gpCells},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnHeaders\",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnFooters\",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rowHeaders\",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"topLeftCells\",{get:function(){return this._gpTL},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"bottomLeftCells\",{get:function(){return this._gpBL},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rows\",{get:function(){return this._rows},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columns\",{get:function(){return this._cols},enumerable:!0,configurable:!0});FlexGrid.prototype.getColumn=function(e){return this.columns.getColumn(e)};Object.defineProperty(FlexGrid.prototype,\"frozenRows\",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"frozenColumns\",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cloneFrozenCells\",{get:function(){return this._fzClone},set:function(e){if(e!=this._fzClone){setText(this._fCt,null);this._fzClone=asBoolean(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"sortRowIndex\",{get:function(){return this._sortRowIndex},set:function(e){if(e!=this._sortRowIndex){this._sortRowIndex=asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editColumnIndex\",{get:function(){return this._editColIndex},set:function(e){if(e!=this._editColIndex){this._editColIndex=asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"scrollPosition\",{get:function(){return this._ptScrl.clone()},set:function(e){var t=this._root,i=-e.x;if(this.rightToLeft)switch(FlexGrid._getRtlMode()){case\"rev\":i=t.scrollWidth-t.clientWidth+e.x;break;case\"neg\":i=e.x;break;default:i=-e.x}t.scrollLeft=i;t.scrollTop=-e.y;this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"clientSize\",{get:function(){return this._szClient},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"controlRect\",{get:function(){this._rcBounds||(this._rcBounds=getElementRect(this._root));return this._rcBounds},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"scrollSize\",{get:function(){return new Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"viewRange\",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cellFactory\",{get:function(){return this._cf},set:function(e){if(e!=this._cf){this._clearCells();this._cf=asType(e,CellFactory,!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemFormatter\",{get:function(){return this._itemFormatter},set:function(e){if(e!=this._itemFormatter){this._clearCells();this._itemFormatter=asFunction(e)}},enumerable:!0,configurable:!0});FlexGrid.prototype.canEditCell=function(e,t){return this._edtHdl._allowEdit(e,t)};FlexGrid.prototype.getCellData=function(e,t,i){return this.cells.getCellData(e,t,i)};FlexGrid.prototype.getCellBoundingRect=function(e,t,i){return this.cells.getCellBoundingRect(e,t,i)};FlexGrid.prototype.setCellData=function(e,t,i,o,n){void 0===o&&(o=!0);void 0===n&&(n=!0);return this.cells.setCellData(e,t,i,o,n)};FlexGrid.prototype.hitTest=function(e,t){isNumber(e)&&isNumber(t)&&(e=new Point(e,t));isBoolean(t)&&t&&(this._rcBounds=null);return new HitTestInfo(this,e)};FlexGrid.prototype.getClipString=function(e,t,i,o){var n;n=null==t||isBoolean(t)?t?ClipStringOptions.CSV:ClipStringOptions.Default:t;assert(isNumber(n),\"Unexpected value for ClipStringOptions parameter.\");return this._edtHdl.getClipString(e,n,i,o)};FlexGrid.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)};FlexGrid.prototype.focus=function(e){this._setFocus(e)};FlexGrid.prototype.dispose=function(){this.finishEditing(!0);this.itemsSource=null;e.prototype.dispose.call(this)};FlexGrid.prototype.refresh=function(t){void 0===t&&(t=!0);e.prototype.refresh.call(this,t);this.finishEditing();if(t){this._updateColumnTypes();this.scrollPosition=this._ptScrl;var i=this._getDefaultRowHeight();this._rows._setDefaultSize(i);this._cols._setDefaultSize(4*i);this._hdrRows._setDefaultSize(i);this._hdrCols._setDefaultSize(Math.round(1.25*i));this._ftrRows._setDefaultSize(i);clearTimeout(this._toInv);this._toInv=null}this.refreshCells(t);var o=this._e;o&&(this._szCtl=new Size(o.offsetWidth,o.offsetHeight))};FlexGrid.prototype.refreshCells=function(e,t,i){this.isUpdating||(e?this._updateLayout():this._updateContent(t,i))};FlexGrid.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var i=e.leftCol;i<=e.rightCol;i++){var o=this.cells.getCellElement(t,i);if(o){var n=o[GridPanel._INDEX_KEY];this.cellFactory.updateCell(this.cells,t,i,o,n.rng)}}};FlexGrid.prototype.autoSizeColumn=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=4);this.autoSizeColumns(e,e,t,i)};FlexGrid.prototype.autoSizeColumns=function(e,t,i,o){var n=this;void 0===i&&(i=!1);void 0===o&&(o=4);var r=0,l=i?this.topLeftCells:this.columnHeaders,s=i?this.bottomLeftCells:this.columnFooters,a=i?this.rowHeaders:this.cells,d=this.viewRange;e=null==e?0:asInt(e);t=null==t?a.columns.length-1:asInt(t);d.row=Math.max(0,d.row-1e3);d.row2=Math.min(d.row2+1e3,this.rows.length-1);this.finishEditing()&&this.columns.deferUpdate((function(){setCss(n._eCt,{width:n._gpCells.width});for(var i=createElement(\"<div \"+FlexGrid._WJS_MEASURE+'=\"true\"/>',a.hostElement,{visibility:\"hidden\"}),c=n._getCanvasContext(),u=e;u<=t&&u>-1&&u<a.columns.length;u++){var h=a.columns[u];if(h.isVisible){r=0;if(n.autoSizeMode&AutoSizeMode.Headers){for(var p=0;p<l.rows.length;p++)l.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(l,p,u,i),r));for(p=0;p<s.rows.length;p++)s.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(s,p,u,i),r))}if(n.autoSizeMode&AutoSizeMode.Cells&&d.row>-1&&d.row2>-1)if(h._getQuickAutoSize()){p=n._getWidestRow(a,d,u,c);r=Math.max(n._getDesiredWidth(a,p,u,i),r)}else for(p=d.row;p<=d.row2&&p<a.rows.length;p++)a.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(a,p,u,i),r));r>0&&(h.width=r+o+2)}}n.cellFactory.disposeCell(i);removeChild(i)}))};FlexGrid.prototype.autoSizeRow=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=0);this.autoSizeRows(e,e,t,i)};FlexGrid.prototype.autoSizeRows=function(e,t,i,o){var n=this;void 0===i&&(i=!1);void 0===o&&(o=0);var r=0,l=1==i?this.topLeftCells:null==i?this.bottomLeftCells:this.rowHeaders,s=1==i?this.columnHeaders:null==i?this.columnFooters:this.cells;o=asNumber(o);e=null==e?0:asInt(e);if((t=null==t?s.rows.length-1:asInt(t))>=e&&this.finishEditing()){setCss(this._eCt,{width:this._gpCells.width});var a=createElement(\"<div \"+FlexGrid._WJS_MEASURE+'=\"true\"/>',s.hostElement,{visibility:\"hidden\"});this.rows.deferUpdate((function(){for(var i={},d=n._autoSizeMode,c=AutoSizeMode,u=e;u<=t&&u>-1&&u<s.rows.length;u++){if(s.rows[u].isVisible){r=0;d&c.Headers&&(r=n._getDesiredRowHeight(l,u,a,i));d&c.Cells&&(r=Math.max(n._getDesiredRowHeight(s,u,a,i),r));r>0&&(s.rows[u].height=r+o)}}}));this.cellFactory.disposeCell(a);removeChild(a)}};Object.defineProperty(FlexGrid.prototype,\"treeIndent\",{get:function(){return this._indent},set:function(e){if(e!=this._indent){this._indent=asNumber(e,!1,!0);this.columns.onCollectionChanged()}},enumerable:!0,configurable:!0});FlexGrid.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate((function(){var i=t.rows;i.deferUpdate((function(){for(var t=0;t<i.length;t++){var o=i[t];o instanceof GroupRow&&(o.isCollapsed=o.level>=e)}}))}))};Object.defineProperty(FlexGrid.prototype,\"selectionMode\",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=asEnum(e,SelectionMode))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selection\",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0});FlexGrid.prototype.select=function(e,t){void 0===t&&(t=!0);return this._selHdl.select(e,t)};FlexGrid.prototype.selectAll=function(){var e=this.rows.length,t=this.columns.length;return!(!e||!t)&&this.select(new CellRange(0,0,e-1,t-1),!1)};FlexGrid.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t)};Object.defineProperty(FlexGrid.prototype,\"selectedRows\",{get:function(){var e=this,t=this.selectionMode,i=this.rows.filter((function(e){return e.isSelected}));if(0==i.length&&t!=SelectionMode.None){var o=[];this.selectedRanges.forEach((function(t){for(var i=t.topRow;i<=t.bottomRow&&i>-1&&i<e.rows.length;i++)o.indexOf(i)<0&&o.push(i)}));o.sort();i=o.map((function(t){return e.rows[t]}))}return i},set:function(e){var t=this;assert(this.selectionMode==SelectionMode.ListBox,\"This property can be set only in ListBox mode.\");e=asArray(e);this.deferUpdate((function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n)>-1;if(r&&o){o=!1;t.select(i,t.selection.col)}n.isSelected=r}}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selectedItems\",{get:function(){var e=[];this.selectedRows.forEach((function(t){var i=t?t.dataItem:null;i&&e.indexOf(i)<0&&e.push(i)}));return e},set:function(e){var t=this;assert(this.selectionMode==SelectionMode.ListBox,\"This property can be set only in ListBox mode.\");e=asArray(e);this.deferUpdate((function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n.dataItem)>-1;if(r&&o){o=!1;t.select(i,t.selection.col)}n.isSelected=r}}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selectedRanges\",{get:function(){var e=[this.selection];this._selHdl.extendedSelection.forEach((function(t){e.push(t)}));return e},set:function(e){if((e=asArray(e))&&e.length>0){this.select(e[0]);if(this.selectionMode==SelectionMode.MultiRange){var t=this._selHdl.extendedSelection;t.deferUpdate((function(){t.clear();for(var i=1;i<e.length;i++)t.push(e[i])}))}}},enumerable:!0,configurable:!0});FlexGrid.prototype.scrollIntoView=function(e,t,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,n=this._szClient,r=n.width,l=n.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if((e=asInt(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var a=this._rows[e],d=this._getCssPage(a.pos);if(d!=this._cssPage){for(var c=this._maxOffsetY,u=Math.round(c*d);u>a.pos;d-=.1)u=Math.round(c*d);this._offsetY=u}var h=a.pos-this._offsetY,p=h+a.renderSize;p>l-o.y&&(o.y=Math.max(-h,l-p));h-s.y<-o.y&&(o.y=-(h-s.y));d!=this._cssPage&&(this._cssPage=this._getCssPage(-o.y))}isString(t)&&(t=this.columns.indexOf(t));if((t=asInt(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var g=this._cols[t],f=g.pos+g.renderSize;f>-o.x+r&&(o.x=Math.max(-g.pos,r-f));g.pos-s.x<-o.x&&(o.x=-(g.pos-s.x))}if(!o.equals(this._ptScrl)){this.scrollPosition=o;if(i){this._updateScrollPosition();this._forceScrollUpdate=!1;this.refresh()}return!0}if(this._activeCell&&e>-1&&t>-1){var _=this._root,m=_.scrollWidth==_.clientWidth,w=_.scrollHeight==_.clientHeight;if(m||w){var C=this._activeCell.getBoundingClientRect(),v=innerWidth,y=innerHeight,b=C.right<0||C.left>v,R=C.bottom<0||C.top>y;o.x=pageXOffset+(C.left<0?C.left:C.right>v?C.right-v:0);o.y=pageYOffset+(C.top<0?C.top:C.bottom>y?C.bottom-y:0);b&&m&&R&&w?scrollTo(o.x,o.y):b&&m?scrollTo(o.x,document.documentElement.scrollLeft):R&&w&&scrollTo(document.documentElement.scrollTop,o.y)}}return!1};FlexGrid.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length};FlexGrid.prototype.startEditing=function(e,t,i,o,n){void 0===e&&(e=!0);return this._edtHdl.startEditing(e,t,i,o,n)};FlexGrid.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)};Object.defineProperty(FlexGrid.prototype,\"activeCell\",{get:function(){return this._activeCell},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"activeEditor\",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editRange\",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"mergeManager\",{get:function(){return this._mrgMgr},set:function(e){if(e!=this._mrgMgr){this._mrgMgr=asType(e,MergeManager,!0);this.invalidate()}},enumerable:!0,configurable:!0});FlexGrid.prototype.getMergedRange=function(e,t,i,o){void 0===o&&(o=!0);return this._mrgMgr?this._mrgMgr.getMergedRange(e,t,i,o):null};Object.defineProperty(FlexGrid.prototype,\"keyActionTab\",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=asEnum(e,KeyAction)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"keyActionEnter\",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=asEnum(e,KeyAction)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveWhiteSpace\",{get:function(){return hasClass(this.hostElement,FlexGrid._WJS_WSPRE)},set:function(e){toggleClass(this.hostElement,FlexGrid._WJS_WSPRE,asBoolean(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showDropDown\",{get:function(){return this._shDropDown},set:function(e){if(e!=this._shDropDown){this._shDropDown=asBoolean(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});FlexGrid.prototype.toggleDropDownList=function(){if(!this._tglDropDown){this._tglDropDown=!0;this._edtHdl._toggleListBox(null);this._tglDropDown=!1}return null!=this._edtHdl._lbx};Object.defineProperty(FlexGrid,\"defaultTypeWidth\",{get:function(){return FlexGrid._defTypeWidth},enumerable:!0,configurable:!0});FlexGrid.prototype.onItemsSourceChanging=function(e){this.itemsSourceChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)};FlexGrid.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)};FlexGrid.prototype.onSelectionChanging=function(e){this.selectionChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)};FlexGrid.prototype.onLoadingRows=function(e){this.loadingRows.raise(this,e);return!e.cancel};FlexGrid.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onUpdatingLayout=function(e){this.updatingLayout.raise(this,e);return!e.cancel};FlexGrid.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)};FlexGrid.prototype.onResizingColumn=function(e){this.resizingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onAutoSizingColumn=function(e){this.autoSizingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)};FlexGrid.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onDraggingColumn=function(e){this.draggingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggingColumnOver=function(e){this.draggingColumnOver.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)};FlexGrid.prototype.onPinningColumn=function(e){this.pinningColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)};FlexGrid.prototype.onResizingRow=function(e){this.resizingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)};FlexGrid.prototype.onAutoSizingRow=function(e){this.autoSizingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)};FlexGrid.prototype.onDraggingRow=function(e){this.draggingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggingRowOver=function(e){this.draggingRowOver.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)};FlexGrid.prototype.onGroupCollapsedChanging=function(e){this.groupCollapsedChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)};FlexGrid.prototype.onColumnGroupCollapsedChanging=function(e){this.columnGroupCollapsedChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)};FlexGrid.prototype.onSortingColumn=function(e){this.sortingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)};FlexGrid.prototype.onBeginningEdit=function(e){this.beginningEdit.raise(this,e);return!e.cancel};FlexGrid.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)};FlexGrid.prototype.onCellEditEnding=function(e){this.cellEditEnding.raise(this,e);return!e.cancel&&!e.stayInEditMode};FlexGrid.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onRowEditStarting=function(e){this.rowEditStarting.raise(this,e);return!e.cancel};FlexGrid.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)};FlexGrid.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)};FlexGrid.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onRowAdded=function(e){this.rowAdded.raise(this,e);return!e.cancel};FlexGrid.prototype.onDeletingRow=function(e){this.deletingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)};FlexGrid.prototype.onCopying=function(e){this.copying.raise(this,e);return!e.cancel};FlexGrid.prototype.onCopied=function(e){this.copied.raise(this,e)};FlexGrid.prototype.onPasting=function(e){this.pasting.raise(this,e);return!e.cancel};FlexGrid.prototype.onPasted=function(e){this.pasted.raise(this,e)};FlexGrid.prototype.onPastingCell=function(e){this.pastingCell.raise(this,e);return!e.cancel};FlexGrid.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)};FlexGrid.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};FlexGrid.prototype.onUpdatingView=function(e){this.updatingView.raise(this,e);return!e.cancel};FlexGrid.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)};FlexGrid.prototype._getTabIndex=function(){return this._orgTabIndex};FlexGrid.prototype._autoRowHeights=function(){var e=this;if(this._autoHeights){this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach((function(e){e._updateContent(!0,!1,e._getOffsetY())}));clearTimeout(this._toAutoHeights);this._toAutoHeights=setTimeout((function(){e._toAutoHeights=null;if(!e.editRange){var t=e.autoSizeMode,i=AutoSizeMode;if(t&i.Headers){e._autoSizeMode=i.Both;e.autoSizeRows(0,e.columnHeaders.rows.length-1,!0);e._autoSizeMode=t}t&i.Cells&&e.autoSizeRows()}}),Control._REFRESH_INTERVAL)}};FlexGrid.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation};FlexGrid.prototype._getHasValidation=function(){return this._hasValidation};FlexGrid.prototype._getError=function(e,t,i,o){if(isFunction(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,i,o);if(e==this.rowHeaders)for(i=0;i<this.columns.length;i++){if(d=this.itemValidator(t,i,o))return d}}var n=this._cv,r=n?n.getError:null;if(isFunction(r)){var l=e.rows,s=this.columns,a=l[t].dataItem;if(a&&!(a instanceof CollectionViewGroup))if(e==this.cells)for(;t<l.length&&l[t].dataItem==a;t++){return r(a,this._getBindingColumn(this.cells,t,s[i]).binding,o)}else if(e==this.rowHeaders){var d;if(!(d=r(a,null))){for(var c=[];t<l.length&&l[t].dataItem==a;t++)for(i=0;i<s.length;i++){(d=r(a,this._getBindingColumn(this.cells,t,s[i]).binding))&&c.indexOf(d)<0&&c.push(d)}if(c.length){var u=this.errorTip,h=!!u&&u.isContentHtml;d=c.join(h?\"<br/>\":\"\\n\")}}return d}}return null};FlexGrid.prototype._setAria=function(e,t){setAttribute(this.cells.hostElement,\"aria-\"+e,t)};FlexGrid.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=getActiveElement(),i=this.activeEditor,o=this._activeCell,n=this._eFocus,r=this._root,l=this._getTabIndex();if(i){if(!contains(i,t)){i.focus();n.tabIndex=-1}}else if(o){if(!contains(o,t)&&t!=this._root){isIE()&&hasClass(o,\"wj-group\")&&(o=o.querySelector(\".\"+CellFactory._WJC_COLLAPSE)||o);o.tabIndex=l;this._setFocusNoScroll(o);n.tabIndex=-1}}else if(!contains(n,t)&&t!=r){n.tabIndex=l;this._setFocusNoScroll(n)}if(!this.containsFocus()){n.tabIndex=l;this._setFocusNoScroll(n)}}};FlexGrid.prototype._setFocusNoScroll=function(e){if(getActiveElement()!=e){if(supportsFocusOptions())e.focus({preventScroll:!0});else{var t=this.scrollPosition,i=e.style,o=i.position;i.position=\"fixed\";e.focus();i.position=o;this.scrollPosition=t}this._fixScroll()}};FlexGrid.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,i=null;if(!t.offsetHeight){i=createElement('<div><div class=\"wj-cell\">0</div></div>',document.body);e&&i.setAttribute(\"class\",e.getAttribute(\"class\"));t=i.children[0]}var o=t.offsetHeight;(isNaN(o)||o<=6)&&(o=28);removeChild(i);return o};FlexGrid.prototype._getCollectionView=function(e){return asCollectionView(e)};FlexGrid.prototype._getCanvasContext=function(){var e=document.createElement(\"canvas\").getContext(\"2d\"),t=getComputedStyle(this.hostElement);e.font=t.fontSize+\" \"+t.fontFamily.split(\",\")[0];return e};FlexGrid.prototype._getWidestRow=function(e,t,i,o){for(var n=0,r=0,l=1===this._getRowsPerItem()&&e.columns[i].dataType==DataType.Boolean,s=t.row;s<=t.row2;s++)if(e.rows[s].isVisible){var a=e.getCellData(s,i,!0),d=o.measureText(a).width,c=this.getMergedRange(e,s,i,!1);c&&c.columnSpan>1&&(d/=c.columnSpan);if(d>r){r=d;n=s}if(l)break;s+=c?c.rowSpan-1:0}return n};FlexGrid.prototype._getDesiredWidth=function(e,t,i,o){var n=this.getMergedRange(e,t,i,!1),r=o.style;this.cellFactory.updateCell(e,t,i,o,n);r.width=r.top=r.left=\"\";return o.offsetWidth/(n&&n.columnSpan>1?n.columnSpan:1)};FlexGrid.prototype._getDesiredHeight=function(e,t,i,o){var n=o.style,r=this.getMergedRange(e,t,i,!1),l=r?r.rowSpan:1;this.cellFactory.updateCell(e,t,i,o,r);o.innerHTML.trim()||(o.innerHTML=\"&nbsp;\");n.height=n.top=n.left=\"\";return o.offsetHeight/l};FlexGrid.prototype._getDesiredRowHeight=function(e,t,i,o){for(var n=0,r=(e.rows[t],this._getQuickAutoSize()),l=0;l<e.columns.length;l++){if(e.columns[l].isVisible){var s=this.getMergedRange(e,t,l,!1),a=void 0;if(r){var d={ct:e.cellType,col:l,spr:s&&s.rowSpan>1?s.rowSpan:1,spc:s&&s.columnSpan>1?s.columnSpan:1,data:e.getCellData(t,l,!0)||\"1\"},c=JSON.stringify(d);if(null==(a=o[c])){a=this._getDesiredHeight(e,t,l,i);o[c]=a}}else a=this._getDesiredHeight(e,t,l,i);n=Math.max(a,n);l+=s?s.columnSpan-1:0}}return n};FlexGrid.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1};FlexGrid.prototype._getDeleteColumnIndex=function(){return 0};FlexGrid.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1};FlexGrid.prototype._sortConverter=function(e,t,i,o){var n,r=this;if(o){this._mappedColumns=null;this._cv&&this._cv.sortDescriptions.forEach((function(e){if((n=r.getColumn(e.property))&&n.dataMap){r._mappedColumns||(r._mappedColumns={});r._mappedColumns[n.binding]=n.dataMap}}));if(this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1){n=this.columns[this._mouseHdl._htDown.col];this._mappedColumns&&n.dataMap&&(this._mappedColumns[n.binding]=n.dataMap)}}if(this._mappedColumns){var l=this._mappedColumns[e.property];l&&l.sortByDisplayValues&&(i=l.getDisplayValue(i))}return i};FlexGrid.prototype._bindGrid=function(e){var t=this;this.finishEditing();this.deferUpdate((function(){t.autoGenerateColumns&&0==t._lastCount&&hasItems(t._cv)&&(e=!0);var i,o;t.preserveSelectedState&&(i=t._getMap())&&t.rows.forEach((function(e){e.isSelected&&e.dataItem&&i.set(e.dataItem,!0)}));if(t.preserveOutlineState&&t.rows.maxGroupLevel>-1&&(o=t._getMap()))for(var n=0;n<t.rows.length;n++){var r=t.rows[n];if(r instanceof GroupRow&&r.isCollapsed&&r.dataItem){var l=r.dataItem;l instanceof CollectionViewGroup&&(l=l._path);o.set(l,!0)}}e&&t.columns.deferUpdate((function(){t._bindColumns()}));var s=new CancelEventArgs;if(t.onLoadingRows(s)){t.rows.deferUpdate((function(){t._bindRows()}));t.onLoadedRows(s)}t._selHdl.extendedSelection.clear();var a=0;i&&i.size&&t.rows.forEach((function(e){var t=e.dataItem;if(t&&i.has(t)){e.isSelected=!0;a++}}));if(0==a&&t._lastCount>0&&t.selectionMode==SelectionMode.ListBox){var d=t.selection;for(n=d.topRow;n<=d.bottomRow&&n>-1&&n<t.rows.length;n++)t.rows[n].isSelected=!0}o&&o.size&&t.rows.deferUpdate((function(){t.rows.forEach((function(e){if(e instanceof GroupRow){var t=e.dataItem;t instanceof CollectionViewGroup&&(t=t._path);o.has(t)&&(e.isCollapsed=!0)}}))}));if(!t._lastCount){var c=t._cv;c&&c.items&&(t._lastCount=c.items.length)}}));if(this._cv){var i=e&&!this._toInv;this._syncSelection(i)}};FlexGrid.prototype._getMap=function(){return window.Map?new Map:null};FlexGrid.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=NotifyCollectionChangedAction;if(this.childItemsPath&&t.action!=i.Change)this._bindGrid(!1);else{switch(t.action){case i.Change:this.invalidate();return;case i.Add:if(t.index==this._cv.items.length-1){var o=this.rows.length;this.rows[o-1]instanceof _NewRowTemplate&&o--;this.rows.insert(o,new Row(t.item));return}assert(!1,\"added item should be the last one.\");break;case i.Remove:var n=this._findRow(t.item);if(n>-1){this.rows.removeAt(n);this._syncSelection();return}assert(!1,\"removed item not found on grid.\")}this._bindGrid(!1)}}};FlexGrid.prototype._cvCurrentChanged=function(e,t){this._syncSelection()};FlexGrid.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=SelectionMode.None){var t=this._selHdl.selection,i=t.row>-1&&t.row<this.rows.length?this.rows[t.row]:null,o=i?i.dataItem:null,n=this._cv;if(n instanceof CollectionView&&n.isUpdating)return;if(this.newRowAtTop&&i instanceof _NewRowTemplate)return;o instanceof CollectionViewGroup&&(o=null);if(e||o!=n.currentItem||t.row>=this.rows.length){var r=this.editableCollectionView;if(!this.childItemsPath||!r||!r.currentAddItem){var l=this._getRowIndex(n.currentPosition);if(l!=t.row||!this.childItemsPath){t=new CellRange(l,t.col,l,t.col2);this.select(t,!1);this.selectionMode&&!this._updating&&this.scrollIntoView(t.row,-1)}}}}};FlexGrid.prototype._getRowIndex=function(e){if(this._cv){var t=this.rows;if(e>-1){for(var i=this._cv.items[e];e<t.length;e++)if(t[e].dataItem===i)return e;return-1}if(1==t.length&&t[0]instanceof _NewRowTemplate)return 0;var o=this.selection.row,n=o>-1?t[o]:null;return n&&(n instanceof GroupRow||null==n.dataItem)?o:-1}return this.selection.row};FlexGrid.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1};FlexGrid.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1};FlexGrid.prototype._updateLayout=function(){var e=new CancelEventArgs;if(this.onUpdatingLayout(e)){var t=this._hdrVis&HeadersVisibility.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&HeadersVisibility.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),n=this._rows.getTotalSize()+o;n<1&&(n=1);this._heightReal=n;this._heightBrowser=Math.min(n,FlexGrid._getMaxSupportedCssHeight());this._maxOffsetY=Math.max(0,n-this._heightBrowser);var r=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(r.paddingTop)+parseInt(r.paddingBottom);this._cellPadHorz=parseInt(r.paddingLeft)+parseInt(r.paddingRight);this._cellPadLeft=parseInt(this.rightToLeft?r.paddingRight:r.paddingLeft);var l=this._heightBrowser+i-o,s=this._gpCells.width,a=this._heightBrowser;!s&&this.rows.length&&(s=.1);!a&&this.columns.length&&(a=.1);if(this.rightToLeft){setCss(this._eTL,{right:0,top:0,width:t,height:i});setCss(this._eCHdr,{right:t,top:0,height:i});setCss(this._eRHdr,{right:0,top:i,width:t});setCss(this._eCt,{right:t,top:i,width:s,height:a});setCss(this._fCt,{right:t,top:i});setCss(this._eBL,{right:0,top:l,width:t,height:o});setCss(this._eCFtr,{right:t,top:l,height:o})}else{setCss(this._eTL,{left:0,top:0,width:t,height:i});setCss(this._eCHdr,{left:t,top:0,height:i});setCss(this._eRHdr,{left:0,top:i,width:t});setCss(this._eCt,{left:t,top:i,width:s,height:a});setCss(this._fCt,{left:t,top:i});setCss(this._eBL,{left:0,top:l,width:t,height:o});setCss(this._eCFtr,{left:t,top:l,height:o})}this._stickyHdr&&this._updateStickyHeaders();var d=this.frozenRows||this.frozenColumns?\"3\":\"\";setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:d});isIE()&&(this._fCt.style.zIndex=d?\"2\":\"\");var c=this._root,u=c.offsetWidth-c.clientWidth,h=c.offsetHeight-c.clientHeight;setCss(this._eSz,{width:t+u+this._gpCells.width,height:i+h+this._heightBrowser});var p=null;if(this.columns._updateStarSizes(c.clientWidth-t)){p=c.clientWidth;setCss(this._eCt,{width:this._gpCells.width});this.onStarSizedColumns()}this._szClient=new Size(c.clientWidth-t,c.clientHeight-i);this._szClientSB=new Size(c.offsetWidth-t,c.offsetHeight-i);this._rcBounds=null;this._updateScrollHandler();this._updateContent(!1);u=c.offsetWidth-c.clientWidth;h=c.offsetHeight-c.clientHeight;setCss(this._eSz,{width:t+u+this._gpCells.width,height:i+h+this._heightBrowser});this._szClient=new Size(c.clientWidth-t,c.clientHeight-i);if(p&&p!=c.clientWidth&&this.columns._updateStarSizes(c.clientWidth-t)){setCss(this._eCt,{width:this._gpCells.width});this._updateContent(!1)}setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width});setCss([this._eRHdr,this._fCt],{height:this._szClient.height});if(o){l=Math.min(l,this._szClient.height+i-o);setCss([this._eBL,this._eCFtr],{top:l})}this.onUpdatedLayout(e)}};FlexGrid.prototype._updateStickyHeaders=function(){var e=!1,t=0;if(this._stickyHdr){for(var i=0,o=null,n=this.hostElement;n;n=n.parentElement)if(\"inline\"!=getComputedStyle(n).display){var r=n.getBoundingClientRect();null==o&&(o=r.top);i=Math.max(i,r.top)}t=-(o=Math.max(0,i-o-1));e=o>0;this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-t+\"px\":\"\";toggleClass(this._eTL,FlexGrid._WJS_STICKY,e);toggleClass(this._eCHdr,FlexGrid._WJS_STICKY,e)};FlexGrid.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;if(e!=this._scrollHandlerAttached){this._scrollHandlerAttached=e;e?this.addEventListener(window,\"scroll\",this._scroll.bind(this),!0):this.removeEventListener(window,\"scroll\")}};FlexGrid.prototype._getClipToScreen=function(){if(this.rows.length<=FlexGrid._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement){if(\"auto\"==getComputedStyle(e).overflow)return!1}return!0};FlexGrid.prototype._scroll=function(e){var t=this;if(contains(e.target,this.hostElement)){if(this._clipToScreen){this._afClip&&cancelAnimationFrame(this._afClip);this._afClip=requestAnimationFrame((function(){t._afClip=null;t.finishEditing();t._updateContent(!0)}))}if(this._stickyHdr){this._afSticky&&cancelAnimationFrame(this._afSticky);this._afSticky=requestAnimationFrame((function(){t._afSticky=null;var e=new CancelEventArgs;if(t.onUpdatingLayout(e)){t._updateStickyHeaders();t.onUpdatedLayout(e)}}))}}};FlexGrid.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var t=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>t)return clamp(Math.round(e/(this._heightBrowser-t)*10)/10,0,1)}return 0};FlexGrid.prototype._updateScrollPosition=function(){var e=this._root,t=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&\"rev\"==FlexGrid._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var o=new Point(-Math.abs(i),-t);if(!this._ptScrl.equals(o)){this._ptScrl=o;this.onScrollPositionChanged();return!0}return!1};FlexGrid.prototype._updateContent=function(e,t){var i=this,o=this._root,n=this.hostElement,r=this.cells.hostElement,l=this._activeCell,s=getActiveElement(),a=contains(n,s),d=closest(s,\".wj-flexgrid\")==n?s:null,c=new CancelEventArgs;if(this.onUpdatingView(c)){setAttribute(r,\"role\",this.rows.maxGroupLevel<0?\"grid\":\"treegrid\");this._hasValidation=isFunction(this._itemValidator)||this._cv&&isFunction(this._cv.getError);var u=!t&&this._errorTip&&this._errorTip._tips.length,h=this._getCssPage(-this._ptScrl.y);if(h!=this._cssPage){this._cssPage=h;this._offsetY=Math.round(this._maxOffsetY*h)}this._updateScrollPosition();this._updateMarquee();var p=this._gpCells._updateContent(e,t,this._offsetY),g=this._hdrVis;if(g&HeadersVisibility.Column&&(!t||this._ssHdr&g)){this._gpCHdr._updateContent(e,t,0);this.rightToLeft||(this._eCHdr.scrollLeft=0)}if(g&HeadersVisibility.Row&&(!t||this._ssHdr&g)){this._gpRHdr._updateContent(e,t,this._offsetY);this._eRHdr.scrollTop=0}g&&!t&&this._gpTL._updateContent(e,t,0);if(this._gpCFtr.rows.length){this._gpBL._updateContent(e,t,0);this._gpCFtr._updateContent(e,t,0)}if(u&&this._errorTip&&this._errorTip._tips.length){clearTimeout(this._toErrorTips);this._toErrorTips=setTimeout((function(){var e=i._errorTip;if(e){e.hide();for(var t=e._tips,o=0;o<t.length;o++){var n=t[o].element;if(!n.offsetHeight||!hasClass(n,\"wj-state-invalid\")){e.setTooltip(n,null);o--}}}}),250)}if(this._useFrozenDiv()){this._updateFrozenCells(t);p&&hasClass(p,\"wj-frozen\")&&(p=null)}this._fCt.style.display=this._fCt.childElementCount?\"\":\"none\";this._activeCell=p;if(d)if(d!=o&&d!=this._eFocus&&contains(n,d)&&!contains(r,d)){getActiveElement()!==d&&d.focus();if(isIE()&&d instanceof HTMLInputElement&&!d.type.match(/checkbox|radio|range/i)){var f=d.selectionStart,_=d.selectionEnd;d.setSelectionRange(f,_)}}else{var m=p!==l;this._setFocus(m)}!d&&p&&(p.tabIndex=this.isDisabled?-1:this._orgTabIndex);l&&l!=p&&(l.tabIndex=-1);this._eFocus.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex;a&&this.focus();this._fixScroll();this._rcBounds=null;this.onUpdatedView(c)}};FlexGrid.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var t=this.hostElement,i=e?e.parentElement:null,o=this.rightToLeft;if(t){t.scrollTop&&(t.scrollTop=0);t.scrollLeft&&!o&&(t.scrollLeft=0)}if(i){i.scrollTop&&(i.scrollTop=0);i.scrollLeft&&!o&&(i.scrollLeft=0)}}if(isSafari()&&e){e.style.transform=\"\";e.style.transform=\"translateZ(0)\"}};FlexGrid.prototype._clearCells=function(){for(var e in this)if(\"_\"==e[0]){var t=this[e];t instanceof GridPanel&&t._clearCells()}this.invalidate()};FlexGrid.prototype._useFrozenDiv=function(){return isBoolean(this._fzClone)?this._fzClone:isIE()||isFirefox()||isSafari()||isMobile()};FlexGrid.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(\".wj-frozen\");if(e&&t.children.length==i.length){for(var o=0;o<i.length;o++)t.children[o].className=i[o].className;return}setText(t,null);if(!this.activeEditor){var n=this._errorTip,r=navigator.userAgent.indexOf(\"MSIE\")>=0;for(o=0;o<i.length;o++){var l=i[o];if(closest(l,\".wj-flexgrid\")==this.hostElement){var s=l[GridPanel._INDEX_KEY];if(r){var a=\"input[type=checkbox]\",d=l.querySelector(a);l=l.cloneNode(!0);if(d){l.querySelector(a).checked=d.checked}}else l=l.cloneNode(!0);l[GridPanel._INDEX_KEY]=s;if(n){var c=n.getTooltip(i[o]);c&&n.setTooltip(l,c)}t.appendChild(l)}}}}else setText(t,null)};FlexGrid.prototype._updateMarquee=function(){var e=this._eMarquee,t=this._getMarqueeRect();if(t&&t.width&&t.height){var i=e.firstChild,o=e.offsetWidth-i.offsetWidth,n=e.offsetHeight-i.offsetHeight,r=this.cells.hostElement;setCss(e,{left:t.left+r.offsetLeft-o/2,top:t.top+r.offsetTop-n/2,width:t.width+o,height:t.height+n,display:\"\"})}else e.style.display=\"none\"};FlexGrid.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var t=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),i=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),n=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&t.top<n.bottom&&(t.top=n.bottom);e.bottomRow>=o&&i.bottom<n.bottom&&(i.height=n.bottom-i.top)}if(this.columns.frozen){var r=Math.min(this.columns.length,this.columns.frozen);n=this.cells.getCellBoundingRect(0,r-1,!0);if(this.rightToLeft){e.leftCol>=r&&t.right>n.left&&(t.left=n.left-t.width);e.rightCol>=r&&i.left>n.left&&(i.left=n.left)}else{e.leftCol>=r&&t.left<n.right&&(t.left=n.right);e.rightCol>=r&&i.right<n.right&&(i.width=n.right-i.left)}}return this.rightToLeft?new Rect(i.left,t.top,t.right-i.left,i.bottom-t.top):new Rect(t.left,t.top,i.right-t.left,i.bottom-t.top)};FlexGrid.prototype._bindColumns=function(){for(var e=this.columns,t=0;t<e.length;t++){if(e[t]._getFlag(RowColFlags.AutoGenerated)){e.removeAt(t);t--}}var i=this._cv,o=i?i.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach((function(t){var i=new Column(t);i._setFlag(RowColFlags.AutoGenerated,!0);i.name=i.binding;i.header=toHeaderCase(i.binding);var o=FlexGrid._defTypeWidth[i.dataType];if(null!=o){if(isString(o)){var n=Math.round(parseFloat(o));o=o.indexOf(\"*\")>-1?n*e.defaultSize:n}isNumber(o)&&o>0&&(i.width=o)}e.push(i)}));this._updateColumnTypes()};FlexGrid.prototype._getColumnTypes=function(e){return getTypes(e)};FlexGrid.prototype._updateColumnTypes=function(){var e=this._cv;if(hasItems(e)){var t=e.items[0];this.columns.forEach((function(e){null==e.dataType&&e._binding&&(e.dataType=getType(e._binding.getValue(t)))}))}};FlexGrid.prototype._getMapEditor=function(e,t){return t.editor?null!=t.editor.isDroppedDown?t.dataMapEditor:null:!e.dataMap||e instanceof GroupRow?t.dataMap?t.dataMapEditor:null:e.dataMapEditor};FlexGrid.prototype._getBindingColumn=function(e,t,i){return i};FlexGrid.prototype._getBindingColumns=function(){return this.columns};FlexGrid.prototype._getRowsPerItem=function(){return 1};FlexGrid.prototype._getRowHeaderPath=function(){return this._rowHdrPath};FlexGrid.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,i=e.groups;if(this.childItemsPath)for(var o=0;o<t.length;o++)this._addNode(t,o,0);else if(null!=i&&i.length>0&&this.showGroups)for(o=0;o<i.length;o++)this._addGroup(i[o]);else for(o=0;o<t.length;o++)this._addBoundRow(t,o)}};FlexGrid.prototype._addBoundRow=function(e,t){var i=new Row(e[t]),o=this.rows;i._list=o;o[o.length++]=i};FlexGrid.prototype._addGroupRow=function(e){this.rows.push(new GroupRow(e))};FlexGrid.prototype._addNode=function(e,t,i){var o=e[t],n=this.childItemsPath,r=o[isArray(n)?n[i]:n],l=new GroupRow(o);l.level=i;this.rows.push(l);if(isArray(r))for(var s=0;s<r.length;s++)this._addNode(r,s,i+1)};FlexGrid.prototype._addGroup=function(e){this._addGroupRow(e);if(e.isBottomLevel)for(var t=e.items,i=0;i<t.length;i++)this._addBoundRow(t,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])};FlexGrid._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var n=i[o],r=Object.getOwnPropertyDescriptor(e,n);r&&r.set&&r.get&&\"_\"!=n[0]&&!n.match(/^(disabled|required|showDropDown)$/)&&t.push(n)}return t};FlexGrid.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()};FlexGrid.prototype._getColumnGroup=function(e,t){return this._grpHdl.getColumnGroup(e,t)};FlexGrid.prototype._copy=function(e,t){var i=this;if(\"columns\"==e){var o=asArray(t);if(o.some((function(e){return null!=e.columns})))this.columnGroups=o;else{this.columns.clear();o.forEach((function(e){var t=new Column(e);i.columns.push(t)}))}return!0}return!1};FlexGrid.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!hasClass(e,\"wj-btn-glyph\")&&(\"true\"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))};FlexGrid.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&\"checkbox\"==e.type&&!e.disabled&&!e.readOnly&&hasClass(e,CellFactory._WJC_CHECKBOX)&&closest(e,\".wj-flexgrid\")==this.hostElement};FlexGrid.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!hasClass(e,\"wj-grid-ime\")&&contains(document.body,e)};FlexGrid._getMaxSupportedCssHeight=function(){if(!FlexGrid._maxCssHeight){var e=265e5;isIE()?e=15e5:isFirefox()&&(e=175e5);FlexGrid._maxCssHeight=e}return FlexGrid._maxCssHeight};FlexGrid._getRtlMode=function(){if(!FlexGrid._rtlMode){var e=createElement('<div dir=\"rtl\"><div></div></div>');setCss(e,{visibility:\"hidden\",width:100,height:100,overflow:\"auto\"});setCss(e.firstChild,{width:2e3,height:2e3});document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;removeChild(e);FlexGrid._rtlMode=i<0?\"neg\":t>0?\"rev\":\"std\"}return FlexGrid._rtlMode};FlexGrid._WJS_STICKY=\"wj-state-sticky\";FlexGrid._WJS_MEASURE=\"wj-state-measuring\";FlexGrid._WJS_UPDATING=\"wj-state-updating\";FlexGrid._WJS_WSPRE=\"wj-whitespace-pre\";FlexGrid._MIN_VIRT_ROWS=200;FlexGrid._defTypeWidth=((_a={})[DataType.Number]=\"0.714285714*\",_a);FlexGrid.controlTemplate='<div><div wj-part=\"root\"><div wj-part=\"cells\" class=\"wj-cells\"></div><div wj-part=\"marquee\" class=\"wj-marquee\"><div></div></div></div><div wj-part=\"fcells\" aria-hidden=\"true\" class=\"wj-cells wj-frozen-clone\"></div><div wj-part=\"rh\"><div wj-part=\"rhcells\" class=\"wj-rowheaders\"></div></div><div wj-part=\"cf\"><div wj-part=\"cfcells\" class=\"wj-colfooters\"></div></div><div wj-part=\"ch\"><div wj-part=\"chcells\" class=\"wj-colheaders\"></div></div><div wj-part=\"bl\"><div wj-part=\"blcells\" class=\"wj-bottomleft\"></div></div><div wj-part=\"tl\"><div wj-part=\"tlcells\" class=\"wj-topleft\"></div></div><div wj-part=\"focus\" class=\"wj-cell\">0</div><div wj-part=\"sz\"></div></div>';return FlexGrid}(Control);export{FlexGrid};var _ImeHandler=function(){function _ImeHandler(e){this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this);this._cmpstartBnd=this._compositionstart.bind(this);this._keypressBnd=this._keypress.bind(this);this._g=e;var t=createElement('<textarea class=\"wj-grid-editor wj-form-control wj-grid-ime\" aria-hidden=\"true\"/>');setCss(t,_ImeHandler._cssHidden);disableAutoComplete(t);t.tabIndex=-1;this._tbx=t;this._maskProvider=new _MaskProvider(t);e._root.appendChild(t);this._updateImeFocus();var i=e.hostElement,o=e.addEventListener.bind(e),n=this._updateImeFocusAsyncBnd;o(i,\"blur\",n,!0);o(i,\"focus\",n);o(t,\"compositionstart\",this._cmpstartBnd);isiOS()&&o(i,\"keypress\",this._keypressBnd);e.selectionChanged.addHandler(n,this);e.cellEditEnded.addHandler(this._cellEditEnded,this);e.cellEditEnding.addHandler(this._cellEditEnding,this)}_ImeHandler.prototype.dispose=function(){var e=this._g,t=e.hostElement,i=this._tbx,o=e.removeEventListener.bind(e),n=this._updateImeFocusAsyncBnd;o(t,\"blur\",n);o(t,\"focus\",n);o(t,\"keypress\",this._keypressBnd);o(i,\"compositionstart\",this._cmpstartBnd);e.selectionChanged.removeHandler(n);e.cellEditEnded.removeHandler(this._cellEditEnded);e.cellEditEnding.removeHandler(this._cellEditEnding);removeChild(i)};_ImeHandler.prototype._compositionstart=function(e){var t=this._g;if(!t.activeEditor){var i=t._selHdl.selection;if(t.startEditing(!1,i.row,i.col,!1,e)&&t.activeEditor&&\"checkbox\"!=t.activeEditor.type){i=t.editRange;var o=t.activeEditor,n=this._tbx,r=t.cells.hostElement,l=t.columns[i.col].pos+r.offsetLeft,s=t.rows[i.row].pos+r.offsetTop,a=t.getCellBoundingRect(i.row,i.col),d=closest(o,\".wj-cell\");a.width=d.offsetWidth;a.height=d.offsetHeight;i.row<t.frozenRows&&(s+=t._root.scrollTop);i.col<t.frozenColumns&&(l+=t._root.scrollLeft);var c=d.querySelector(\".wj-btn.wj-right\");c&&(a.width-=c.offsetWidth);\"minLength,maxLength,pattern\".split(\",\").forEach((function(e){setAttribute(n,e,o.getAttribute(e))}));var u=o instanceof HTMLTextAreaElement;setAttribute(n,\"wrap\",u?\"soft\":\"off\");var h=getComputedStyle(d),p=h.paddingTop;if(i.rowSpan>1&&!u){var g=parseFloat(h.lineHeight);isNaN(g)&&(g=1.2*parseFloat(h.fontSize));p=Math.max(0,(a.height-g)/2)+\"px\"}var f={position:\"absolute\",left:l,top:s,width:a.width-1,height:a.height-1,paddingTop:p,paddingLeft:h.paddingLeft,paddingRight:h.paddingRight,textAlign:h.textAlign,zIndex:d.style.zIndex};if(t.rightToLeft){f.right=parseInt(d.style.right)+parseInt(t.cells.hostElement.style.right);f.left=\"\"}setCss(n,f);t._edtHdl._edt=n;n.select();var _=o.value;setTimeout((function(){\"　\"!=n.value&&\" \"!=n.value||(n.value=_);setSelectionRange(n,n.value.length)}),20);n.placeholder=o.placeholder;o.placeholder=\"\";o.value=\"\"}}};_ImeHandler.prototype._cellEditEnding=function(){var e=this._maskProvider;e&&e.mask&&e._valueChanged()};_ImeHandler.prototype._cellEditEnded=function(){var e=this._tbx;e.value=\"\";setCss(e,_ImeHandler._cssHidden);this._updateImeFocus()};_ImeHandler.prototype._keypress=function(e){if(!e.defaultPrevented&&e.target==this._tbx&&!(e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._g.activeEditor)){this._tbx.value=\"\";this._compositionstart(e);e.stopPropagation()}};_ImeHandler.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,i=getActiveElement(),o=e._getTabIndex();if(!e.activeEditor&&closest(i,\".wj-flexgrid\")==e.hostElement)if(this._enableIme()){if(i!=t){e.activeCell&&(e.activeCell.tabIndex=-1);t.tabIndex=o;t.disabled=!1;t.value=\"\";setSelectionRange(t,0);t.focus()}var n=e._selHdl.selection,r=n.isValid?e._getBindingColumn(e.cells,n.row,e.columns[n.col]):null;this._maskProvider.mask=r?r.mask:null}else{t.tabIndex=-1;t.disabled=!0;t.value=\"\";t.blur();var l=e.activeCell;if(l){l.tabIndex=o;l.focus()}else e.focus()}};_ImeHandler.prototype._updateImeFocusAsync=function(){var e=this;this._toFocus&&clearTimeout(this._toFocus);this._toFocus=setTimeout((function(){e._toFocus=null;e._updateImeFocus()}),100)};_ImeHandler.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var i=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!i||i.editor||i.dataType==DataType.Boolean)&&(!i||!i.dataMap||i.dataMapEditor!=DataMapEditor.RadioButtons)};_ImeHandler._cssHidden={position:\"fixed\",width:\"1px\",left:-32e3,top:-32e3,overflow:\"hidden\"};return _ImeHandler}();export{_ImeHandler};var _AddNewHandler=function(){function _AddNewHandler(e){this._nrt=new _NewRowTemplate;this._top=!1;this._keydownBnd=this._keydown.bind(this);this._committing=!1;this._g=e;this._attach()}Object.defineProperty(_AddNewHandler.prototype,\"newRowAtTop\",{get:function(){return this._top},set:function(e){if(e!=this.newRowAtTop){this._top=asBoolean(e);this.updateNewRowTemplate();var t=this._g;if(this._top&&t.selectionMode==SelectionMode.ListBox){t.rows.forEach((function(e,t){e._setFlag(RowColFlags.Selected,0==t,!0)}));t.select(0,t.selection.col)}}},enumerable:!0,configurable:!0});_AddNewHandler.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,i=e.rows,o=this._nrt,n=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,r=i.indexOf(o),l=this._top?0:i.length-1,s=!1;if(!n&&r>-1){var a=e.selection;a.row==r&&e.select(a.row-1,a.col);i.removeAt(r)}else if(n){if(r<0)s=!0;else if(r!=l){i.removeAt(r);s=!0}s&&(this._top?i.insert(0,o):i.push(o));if(o){o._ubv=null;o._setFlag(RowColFlags.ParentCollapsed,!1);this._top&&e.selectionMode==SelectionMode.ListBox||o._setFlag(RowColFlags.Selected,!1)}}};_AddNewHandler.prototype._attach=function(){var e=this._g;if(e){e.beginningEdit.addHandler(this._beginningEdit,this);e.pastingCell.addHandler(this._beginningEdit,this);e.rowEditEnded.addHandler(this._rowEditEnded,this);e.loadedRows.addHandler(this.updateNewRowTemplate,this);e.hostElement.addEventListener(\"keydown\",this._keydownBnd,!0)}};_AddNewHandler.prototype._detach=function(){var e=this._g;if(e){e.beginningEdit.removeHandler(this._beginningEdit);e.pastingCell.removeHandler(this._beginningEdit);e.rowEditEnded.removeHandler(this._rowEditEnded);e.loadedRows.removeHandler(this.updateNewRowTemplate);e.hostElement.removeEventListener(\"keydown\",this._keydownBnd,!0)}};_AddNewHandler.prototype._keydown=function(e){if(!e.defaultPrevented&&e.keyCode==Key.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem){this._nrt.dataItem=null;this._g.invalidate()}};_AddNewHandler.prototype._beginningEdit=function(e,t){if(!t.cancel){var i=e.rows[t.row];if(i instanceof _NewRowTemplate){var o=e.editableCollectionView;if(o&&o.canAddNew)if(this._top){if(null==this._nrt.dataItem){var n=null,r=o.sourceCollection,l=o.newItemCreator;n=isFunction(l)?l():r&&r.length?new r[0].constructor:{};this._nrt.dataItem=n}}else{n=o.currentAddItem&&o.currentAddItem==i.dataItem?o.currentAddItem:o.addNew();o.moveCurrentTo(n);var s=this._nrt.isSelected;this.updateNewRowTemplate();s&&t.row>-1&&(e.rows[t.row].isSelected=!0);e.isUpdating||e.refresh(!0);e.onRowAdded(t)||o.cancelNew()}}}};_AddNewHandler.prototype._rowEditEnded=function(e,t){var i=this,o=e.editableCollectionView,n=this._nrt.dataItem;if(o&&!this._committing)if(o.isAddingNew)o.commitNew();else if(n&&!t.cancel){this._committing=!0;this._nrt.dataItem=null;var r=o.addNew();for(var l in n)r[l]=n[l];e.onRowAdded(t)?o.commitNew():o.cancelNew();setTimeout((function(){e.select(0,e.columns.firstVisibleIndex);i.updateNewRowTemplate()}),20);this._committing=!1}};return _AddNewHandler}();export{_AddNewHandler};var _NewRowTemplate=function(e){__extends(_NewRowTemplate,e);function _NewRowTemplate(){return null!==e&&e.apply(this,arguments)||this}return _NewRowTemplate}(Row);export{_NewRowTemplate};export var AllowMerging;!function(e){e[e.None=0]=\"None\";e[e.Cells=1]=\"Cells\";e[e.ColumnHeaders=2]=\"ColumnHeaders\";e[e.RowHeaders=4]=\"RowHeaders\";e[e.AllHeaders=6]=\"AllHeaders\";e[e.All=7]=\"All\"}(AllowMerging||(AllowMerging={}));var MergeManager=function(){function MergeManager(e){null!=e&&console.error('** WARNING: the \"grid\" parameter has been deprecated. Please remove it.')}MergeManager.prototype.getMergedRange=function(e,t,i,o){void 0===o&&(o=!0);var n=e.grid,r=e.cellType,l=e.columns,s=e.rows,a=s[t],d=l[i];if(a instanceof _NewRowTemplate)return null;if(!(a instanceof Row&&d instanceof Column))return null;if(e==n.columnHeaders){var c=n._getColumnGroup(t,i);if(c){var u=c._rng,h=e.columns;if(h.isFrozen(u.col)!=h.isFrozen(u.col2)){u=u.clone();h.isFrozen(i)?u.col2=h.frozen-1:u.col=h.frozen}return u}}if(n.showGroups&&!n.childItemsPath&&a instanceof GroupRow&&a.dataItem instanceof CollectionViewGroup&&r==CellType.Cell){u=new CellRange(t,i);if(d.aggregate==Aggregate.None){for(;u.col>0&&l[u.col-1].aggregate==Aggregate.None&&u.col!=l.frozen;)u.col--;for(;u.col2<l.length-1&&l[u.col2+1].aggregate==Aggregate.None&&u.col2+1!=l.frozen;)u.col2++}for(;u.col<i&&!l[u.col].visible;)u.col++;return u.isSingleCell?null:u}var p=!1,g=AllowMerging,f=CellType;switch(n.allowMerging){case g.None:p=!0;break;case g.Cells:p=r!=f.Cell;break;case g.ColumnHeaders:p=r!=f.ColumnHeader&&r!=f.TopLeft;break;case g.RowHeaders:p=r!=f.RowHeader&&r!=f.TopLeft;break;case g.AllHeaders:p=r==f.Cell}if(p)return null;if(r==f.Cell){var _=n.editableCollectionView,m=_?_.currentAddItem:null;if(m&&a.dataItem==m)return null}if(l[i].allowMerging){u=new CellRange(t,i);var w=e._vrb,C=0,v=s.length-1;if(t>=s.frozen){if(o&&(r==CellType.Cell||r==CellType.RowHeader)&&n._vtRows<s.length&&w){C=w.topRow;v=w.bottomRow}}else s.length>s.frozen&&(v=s.frozen-1);for(var y=t-1;y>=C&&this._mergeCell(e,y,i,t,i);y--)u.row=y;for(var b=t+1;b<=v&&this._mergeCell(e,t,i,b,i);b++)u.row2=b;for(;u.row<t&&!s[u.row].visible;)u.row++;if(!u.isSingleCell)return u}if(s[t].allowMerging){u=new CellRange(t,i),w=e._vrb;var R=0,E=l.length-1;if(i>=l.frozen){if(o&&(r==CellType.Cell||r==CellType.ColumnHeader)&&n._vtCols<l.length&&w){R=w.leftCol;E=w.rightCol}}else E=l.frozen-1;for(var x=i-1;x>=R&&this._mergeCell(e,t,x,t,i);x--)u.col=x;for(var S=i+1;S<=E&&this._mergeCell(e,t,i,t,S);S++)u.col2=S;for(;u.col<i&&!l[u.col].visible;)u.col++;if(!u.isSingleCell)return u}return null};MergeManager.prototype._mergeCell=function(e,t,i,o,n){var r=e.rows[t],l=e.rows[o];if(!r||!l)return!1;if(r instanceof GroupRow||r instanceof _NewRowTemplate||l instanceof GroupRow||l instanceof _NewRowTemplate)return!1;var s=e.grid.editableCollectionView,a=s?s.currentAddItem:null;if(a&&(r.dataItem==a||l.dataItem==a))return!1;if(t!=o&&e.rows.isFrozen(t)!=e.rows.isFrozen(o))return!1;if(i!=n&&e.columns.isFrozen(i)!=e.columns.isFrozen(n))return!1;if(t!=o){if(i>0&&(r.allowMerging&&this._mergeCell(e,t,i-1,t,i)||l.allowMerging&&this._mergeCell(e,o,i-1,o,i)))return!1;if(n<e.columns.length-1&&(r.allowMerging&&this._mergeCell(e,t,n,t,n+1)||l.allowMerging&&this._mergeCell(e,o,n,o,n+1)))return!1}return e.getCellData(t,i,!0)==e.getCellData(o,n,!0)};return MergeManager}();export{MergeManager};var HitTestInfo=function(){function HitTestInfo(e,t){this._row=-1;this._col=-1;this._edge=0;var i;if(t instanceof Element){if(closest(t,\".wj-flexgrid\")!=e.hostElement)return;e=t;this._target=t}if(!(e instanceof Element)||e instanceof FlexGrid){if(e instanceof FlexGrid){this._target=e.hostElement;i=this._g=e}else{if(!(e instanceof GridPanel))throw\"First parameter should be a FlexGrid or GridPanel.\";this._target=e.hostElement;this._p=e;i=this._g=this._p.grid}if(t instanceof MouseEvent){this._target=t.target;\"mousedown\"==t.type&&(i._rcBounds=null)}t=mouseToPage(t);this._pt=t.clone();var o=i.controlRect,n=i._szClient,r=i.topLeftCells,l=i._eTL,s=i.headersVisibility,a=HeadersVisibility,d=s&a.Row?r.columns.getTotalSize():0,c=s&a.Column?r.rows.getTotalSize():0,u=s&a.Column?c+l.offsetTop:0,h=i._eBL,p=h.offsetHeight;t.x-=o.left;t.y-=o.top;i.rightToLeft&&(t.x=o.width-t.x);this._p||t.x>=0&&t.y>=l.offsetTop&&n&&t.x<=n.width+d&&t.y<=n.height+c&&(t.y<u?this._p=t.x<d?i.topLeftCells:i.columnHeaders:t.y<h.offsetTop?this._p=t.x<d?i.rowHeaders:i.cells:this._p=t.x<d?i.bottomLeftCells:i.columnFooters);if(null!=this._p){var g=this._p.rows,f=this._p.columns,_=this._p.cellType,m=CellType,w=this._p._getFrozenPos(),C=_==m.TopLeft||_==m.ColumnHeader?c:_==m.BottomLeft||_==m.ColumnFooter?p:g.getTotalSize(),v=_==m.TopLeft||_==m.BottomLeft||_==m.RowHeader?d:f.getTotalSize();if(_==m.RowHeader||_==m.Cell){t.y-=c;if(t.y>w.y||w.y<=0){t.y-=i._ptScrl.y;t.y+=this._p._getOffsetY()}}else _!=m.BottomLeft&&_!=m.ColumnFooter||(t.y-=h.offsetTop);if(_==m.ColumnHeader||_==m.Cell||_==m.ColumnFooter){t.x-=d;(t.x>w.x||w.x<=0)&&(t.x-=i._ptScrl.x)}_!=m.ColumnHeader&&_!=m.TopLeft||(t.y-=u-c);this._edge=0;var y=HitTestInfo._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching){y=HitTestInfo._SZEDGE[1];t.x-=y/2}this._row=t.y>C?-1:g.getItemAt(t.y);this._col=t.x>v?-1:f.getItemAt(t.x);if(this._row<0||this._col<0){this._p=null;return}if(this._col>-1){var b=f[this._col];t.x-b.pos<=y&&(this._edge|=1);var R=b.pos+b.renderSize-t.x;if(R<=y){this._edge|=4;R<=y/2&&(this._edge|=16)}}if(this._row>-1){var E=g[this._row];t.y-E.pos<=y&&(this._edge|=2);var x=E.pos+E.renderSize-t.y;if(x<=y){this._edge|=8;x<=y/2&&(this._edge|=32)}}}}else{var S=closest(e,\".wj-cell\"),H=S?S[GridPanel._INDEX_KEY]:null;if(H){this._target=e;this._row=H.row;this._col=H.col;this._rng=H.rng;this._p=H.panel;this._g=H.panel.grid}}}Object.defineProperty(HitTestInfo.prototype,\"point\",{get:function(){return this._pt},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"cellType\",{get:function(){return this._p?this._p.cellType:CellType.None},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"panel\",{get:function(){return this._p},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"grid\",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"row\",{get:function(){return this._row},enumerable:!0,configurable:!0});HitTestInfo.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null};Object.defineProperty(HitTestInfo.prototype,\"col\",{get:function(){return this._col},enumerable:!0,configurable:!0});HitTestInfo.prototype.getColumn=function(e){var t=this._p,i=t&&this._col>-1?t.columns[this._col]:null;i&&e&&(i=this._g._getBindingColumn(t,this._row,i));return i};Object.defineProperty(HitTestInfo.prototype,\"range\",{get:function(){this._rng||(this._rng=new CellRange(this._row,this._col));return this._rng},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeLeft\",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeTop\",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeRight\",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeFarRight\",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeBottom\",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeFarBottom\",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"target\",{get:function(){return this._target},enumerable:!0,configurable:!0});HitTestInfo._SZEDGE=[6,30];return HitTestInfo}();export{HitTestInfo};export function softInput(){return _getModule(\"wijmo.input\")}var _MASK_PROVIDER=\"$WJ-MSKP\",CellFactory=function(){function CellFactory(){}CellFactory.prototype.updateCell=function(e,t,i,o,n,r){var l=e.grid,s=l.rightToLeft,a=e.rows,d=e.columns,c=a[t],u=d[i],h=t,p=i,g=c instanceof GroupRow?c:null,f=c instanceof _NewRowTemplate?c:null,_=u.renderWidth,m=c.renderHeight,w=e.cellType,C=\"wj-cell\",v=\"\",y={display:\"\"},b=CellType;0!=r&&o.firstElementChild&&(1==o.childNodes.length&&\"checkbox\"==o.firstElementChild.type||(o.textContent=\"\"));if(n&&!n.isSingleCell){t=n.row;i=n.col;h=n.row2;p=n.col2;c=a[t];u=d[i];g=c instanceof GroupRow?c:null;m=(I=n.getRenderSize(e)).height;_=I.width}var R=l._getBindingColumn(e,t,u),E=R.dataType||c.dataType,x=R.dataMap||c.dataMap,S=w==b.Cell?l._getMapEditor(c,R):null,H=w==b.RowHeader||w==b.Cell&&(!g||l.childItemsPath),M=H&&S==DataMapEditor.RadioButtons,F=E==DataType.Boolean&&!x,P=R.isContentHtml||c.isContentHtml,T=u.pos,z=c.pos,G=l._ptScrl;if(l._useFrozenDiv()&&w==b.Cell&&!l.editRange)i<d.frozen&&h>=a.frozen?z+=G.y:t<a.frozen&&p>=d.frozen&&(T+=G.x);else{var I=l._szClient;if(h<a.frozen){z=Math.min(z,I.height);m=Math.min(m,Math.max(0,I.height-z));z-=G.y}if(p<d.frozen){T=Math.min(T,I.width);_=Math.min(_,Math.max(0,I.width-T));T-=G.x}}s?y.right=T+\"px\":y.left=T+\"px\";h>=a.frozen&&(z-=e._getOffsetY());y.top=z+\"px\";y.width=_+\"px\";y.height=m+\"px\";y.zIndex=\"\";(t<a.frozen||i<d.frozen)&&(y.zIndex=t<a.frozen&&i<d.frozen?2:1);var A=!1,D=l.alternatingRowStep;if(D&&(!n||n.row==n.row2)){A=c.visibleIndex%(D+1)==0;1==D&&(A=!A)}if(w==b.Cell){g&&(C+=\" wj-group\");A&&(C+=\" wj-alt\");(t<a.frozen||i<d.frozen)&&(C+=\" wj-frozen\");f&&(C+=\" wj-new\");c.cssClass&&(C+=\" \"+c.cssClass);R.cssClass&&(C+=\" \"+R.cssClass)}else{C+=\" wj-header\";A&&(C+=\" wj-header-alt\");c.cssClass&&w==b.ColumnHeader&&(C+=\" \"+c.cssClass);R.cssClass&&w==b.RowHeader&&(C+=\" \"+R.cssClass);var L=!1;w!=b.ColumnHeader&&w!=b.TopLeft||l.allowResizing&AllowResizing.Columns&&(L=null!=l._mouseHdl._getResizeCol(e,p));L||w!=b.RowHeader||l.allowResizing&AllowResizing.Rows&&(L=null!=l._mouseHdl._getResizeRow(e,h));L&&(C+=\" wj-big-header\")}c.cssClassAll&&(C+=\" \"+c.cssClassAll);R.cssClassAll&&(C+=\" \"+R.cssClassAll);var O=SelectedState,j=e.getSelectedState(t,i,n);j!=O.None&&w==b.Cell&&!F&&l.editRange&&l.editRange.contains(t,i)&&(j=O.None);switch(j){case O.Active:C+=\" wj-state-active\";break;case O.Cursor:C+=\" wj-state-selected wj-state-active\";break;case O.Selected:C+=\" wj-state-multi-selected\"}h==a._lastFrozen&&(C+=\" wj-frozen-row\");p==d._lastFrozen&&(C+=\" wj-frozen-col\");(R.wordWrap||c.wordWrap)&&(C+=\" wj-wrap\");(R.multiLine||c.multiLine)&&(C+=\" wj-multiline\");var k=R.getAlignment(c);k&&(v=\" wj-align-\"+k);var N=w!=b.ColumnHeader&&w!=b.RowHeader||!l._hasColumnGroups()?null:l._getColumnGroup(t,i);N&&N.align&&(v=\" wj-align-\"+N.align);y.paddingLeft=y.paddingRight=y.paddingTop=y.paddingBottom=\"\";if(w==b.Cell&&l.rows.maxGroupLevel>-1&&i==d.firstVisibleIndex&&l.treeIndent){var B=g?Math.max(0,g.level):a.maxGroupLevel+1,V=Math.min(l.treeIndent*B+l._cellPadLeft,_-l._cellPadHorz)+\"px\";s?y.paddingRight=V:y.paddingLeft=V}_<=l._cellPadHorz&&null==o.getAttribute(FlexGrid._WJS_MEASURE)&&(y.paddingLeft=y.paddingRight=0);var K=w==b.Cell&&i==d.firstVisibleIndex&&g&&g.hasChildren&&!_isEditingCell(l,t,i);K&&(v=\"\");if(0!=r){var W=e.getCellData(t,i,!1),q=e.getCellData(t,i,!0);if(K){var U=_getTreeBtn(g);q=g.getGroupHeader()||escapeHtml(q);o.innerHTML=U.outerHTML+\" \"+q}else if(w!=b.ColumnHeader||h!=l._getSortRowIndex()&&R==u)if(w!=b.RowHeader||q)if(w!=b.Cell||E!=DataType.Boolean||x||g&&!isBoolean(W))if(w==b.Cell&&!M&&_isEditingCell(l,t,i)){var J=R.inputType||c.inputType;J||(J=E!=DataType.Number||x?\"text\":\"tel\");if(!x&&!R.mask&&!c.mask){var Y=e.getCellData(t,i,!1);isNumber(Y)&&(q=_getEditString(Y,R.format||c.format))}o.innerHTML=(R.multiLine||c.multiLine)&&\"checkbox\"!=J?'<textarea wrap=\"soft\"></textarea>':'<input type=\"'+J+'\"/>';var X=o.children[0];addClass(X,\"wj-grid-editor wj-form-control\");disableAutoComplete(X);P&&x&&!x.isEditable&&(q=toPlainText(q));X.value=q;X.tabIndex=-1;X.required=R.getIsRequired(c);setAttribute(X,\"aria-required\",X.required);var Z=R.maxLength||c.maxLength;Z&&(X.maxLength=Z);X.style.textAlign=R.getAlignment(c);var $=R.mask||c.mask;$&&(X[_MASK_PROVIDER]=new _MaskProvider(X,$));l.showPlaceholders&&(X.placeholder=R.header);l._edtHdl._edt=X}else{if(M){var Q=[],ee=e.getCellData(t,i,!1);x.getDisplayValues(c.dataItem).forEach((function(e){var t=x.getKeyValue(e)==ee?\" checked\":\"\",i=l.isReadOnly||c.isReadOnly||u.isReadOnly?\" disabled\":\"\",o=escapeHtml(e);Q.push('<label><input type=\"radio\" tabindex=\"-1\"'+t+i+' value=\"'+o+'\"><span>'+o+\"</span></label>\")}));o.innerHTML=Q.join(\" \");C+=\" \"+CellFactory._WJC_RADIOMAP}(le=H?R._tpl:null)?_renderTemplate(le,o,W,q,c,R):M||(w==b.Cell&&P?o.innerHTML=q:o.textContent=q||\"\");if(N&&N.collapseTo){var te=N._rng;if(te&&(w==b.ColumnHeader&&te.columnSpan>1||w==b.RowHeader&&te.rowSpan>1)){var ie=N.isCollapsed;o.innerHTML='<div role=\"button\" class=\"'+CellFactory._WJC_COLLAPSE+'\">'+_getGlyph(ie?\"plus\":\"minus\")+\"</div>&nbsp;\"+o.innerHTML;ie&&addClass(o,\"wj-state-collapsed\")}}}else{var oe=o.firstChild;if(!l._isNativeCheckbox(oe)){o.innerHTML='<label><input type=\"checkbox\" class=\"'+CellFactory._WJC_CHECKBOX+'\" tabindex=\"-1\"/><span></span></label>';oe=o.querySelector(\"input\")}setChecked(oe,W);oe.disabled=!l.canEditCell(t,i);oe.disabled&&(oe.style.cursor=\"default\");l.editRange&&l.editRange.contains(t,i)&&(l._edtHdl._edt=oe)}else{if(i==l._getEditColumnIndex()){var ne=l.editableCollectionView,re=ne?ne.currentEditItem:null;q=o.innerHTML=re&&c.dataItem==re?_getGlyph(\"pencil\"):c instanceof _NewRowTemplate?_getGlyph(\"asterisk\"):\"\"}var le;(le=R._tpl)&&_renderTemplate(le,o,W,q,c,R)}else{o.innerHTML=escapeHtml(q);var se=R.currentSort;if(se&&l.showSort){C+=\" wj-sort-\"+(\"+\"==se?\"asc\":\"desc\");o.innerHTML+=\"&nbsp;\"+_getSortGlyph(R)}l.allowPinning&&contains(l.hostElement,o)&&_addPinButton(o,i<l.frozenColumns)}if(S==DataMapEditor.DropDownList&&l.showDropDown&&l.canEditCell(t,i)&&softInput()){var ae=_getDropDownBtn();o.insertBefore(ae,o.firstChild);_isEditingCell(l,t,i)&&(C+=\" wj-hasdropdown\")}}if(w==b.RowHeader||w==b.ColumnHeader){var de=w==b.RowHeader?!g&&!f&&c.allowDragging&&0!=(l.allowDragging&AllowDragging.Rows):u.allowDragging&&0!=(l.allowDragging&AllowDragging.Columns);setAttribute(o,\"draggable\",de?\"true\":null)}C+=v;o.className!=C&&(o.className=C);var ce=o.style;for(var ue in y)ce[ue]!==y[ue]&&(ce[ue]=y[ue]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==o){var he=l._root,pe=he.getBoundingClientRect(),ge=o.getBoundingClientRect(),fe=pe.top+he.clientHeight-ge.top,_e=pe.left+he.clientWidth-ge.left;ge.height>fe&&(o.style.height=fe+\"px\");ge.width>_e&&(o.style.width=_e+\"px\")}if((w==b.Cell||w==b.RowHeader)&&l._getShowErrors()){var me=l._getError(e,t,i);l._edtHdl._setCellError(o,me)}l.itemFormatter&&l.itemFormatter(e,t,i,o);if(l.formatItem.hasHandlers){var we=CellFactory._fmtItemArgs;if(we){we._p=e;we._rng.setRange(t,i,h,p);we._cell=o}else we=CellFactory._fmtItemArgs=new FormatItemEventArgs(e,new CellRange(t,i,h,p),o);we._updateContent=!1!==r;l.onFormatItem(we)}};CellFactory.prototype.disposeCell=function(e){};CellFactory.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement)switch(t.type){case\"checkbox\":return t.checked;case\"radio\":return t.value}if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var i=t[_MASK_PROVIDER],o=i?i._applyMask():t.value,n=t.maxLength;if(isNumber(n)&&n>-1&&o.length>n){var r=culture.Globalize.numberFormat[\"%\"]||\"%\",l=o.length&&o[o.length-1]==r;o=o.substr(0,n);l&&o.indexOf(r)<0&&(o+=r)}return o}return null};CellFactory._WJC_RADIOMAP=\"wj-radio-map\";CellFactory._WJC_CHECKBOX=\"wj-cell-check\";CellFactory._WJC_COLLAPSE=\"wj-elem-collapse\";CellFactory._WJC_DROPDOWN=\"wj-elem-dropdown\";CellFactory._WJC_PIN=\"wj-elem-pin\";CellFactory._tplDdBtn=_getButton(CellFactory._WJC_DROPDOWN,\"down\");CellFactory._tplCtx={row:null,col:null,value:null,text:null,item:null};return CellFactory}();export{CellFactory};function _renderTemplate(e,t,i,o,n,r){var l=CellFactory._tplCtx;l.value=i;l.text=o;l.item=n.dataItem;l.row=n;l.col=r;var s=isString(e)?evalTemplate(e,l):e(l,t);null!=s&&(t.innerHTML=s)}function _getEditString(e,t){t=t||\"n\";var i=Globalize._parseNumericFormat(t);switch(i.spec){case\"d\":case\"x\":break;case\"e\":t=t.replace(/[0-9]/g,\"\");break;default:t=\"p\"==i.spec?\"P15\":\"r\";i.scale&&(t+=Array(i.scale/3+1).join(\",\"))}return Globalize.formatNumber(e,t,!0)}function _isEditingCell(e,t,i){return e.editRange&&e.editRange.contains(t,i)}function _getDropDownBtn(){var e=CellFactory._ddBtn;if(!e){e=CellFactory._ddBtn=createElement(CellFactory._tplDdBtn);setAriaLabel(e,culture.FlexGrid.ariaLabels.toggleDropDown);setAttribute(e,\"aria-expanded\",!1)}return e.cloneNode(!0)}function _addPinButton(e,t){var i=_getButton(CellFactory._WJC_PIN,\"pin\"),o=createElement(i);toggleClass(o,\"wj-state-pinned\",t);setAttribute(o,\"aria-pressed\",t);e.insertBefore(o,e.firstChild)}function _getSortGlyph(e){var t=_getGlyph(\"+\"==e.currentSort?\"up\":\"down\"),i=e.grid.collectionView;if(i&&i.sortDescriptions.length>1){var o=e.currentSortIndex;o>-1&&(t+='<span class=\"wj-sort-index\">'+(o+1)+\"</span>\")}return t}function _getTreeBtn(e){var t=CellFactory._WJC_COLLAPSE,i=(e.isCollapsed?\"\":\"down-\")+(e.grid.rightToLeft?\"left\":\"right\"),o=createElement('<button class=\"wj-btn wj-btn-glyph '+t+'\" type=\"button\" tabindex=\"-1\">'+_getGlyph(i)+\"</button>\");setAriaLabel(o,culture.FlexGrid.ariaLabels.toggleGroup);setAttribute(o,\"aria-expanded\",!e.isCollapsed);return o}function _getGlyph(e){return'<span class=\"wj-glyph-'+e+'\"></span>'}function _getButton(e,t){return'<button class=\"wj-btn wj-btn-glyph wj-right {cls}\" type=\"button\" tabindex=\"-1\">{glyph}</button>'.replace(\"{cls}\",e).replace(\"{glyph}\",_getGlyph(t))}var _LB_PAGE_SIZE=4,_EditHandler=function(){function _EditHandler(e){var t=this;this._rng=null;this._edt=null;this._edItem=null;this._edtCanceled=!1;this._list=null;this._fullEdit=!1;this._evtInput=null;this._evtChange=null;this._cstEdtValue=null;this._validating=!1;this._g=e;this._evtInput=document.createEvent(\"HTMLEvents\");this._evtInput.initEvent(\"input\",!0,!1);this._evtChange=document.createEvent(\"HTMLEvents\");this._evtChange.initEvent(\"change\",!0,!1);e.selectionChanging.addHandler((function(i,o){if(t.finishEditing()){var n=e._selHdl.selection.row;if(n!=o.row){var r=e.rows.length;(n>-1&&n<r?e.rows[n].dataItem:null)!=(o.row>-1&&o.row<r?e.rows[o.row].dataItem:null)&&t._commitRowEdits()}}else o.cancel=!0}));e.lostFocus.addHandler((function(){var e=getActiveElement();e&&\"fixed\"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()}));var i=e.hostElement;e.addEventListener(i,\"mousedown\",(function(i){if(!i.defaultPrevented&&0==i.button&&!e._mouseHdl._szRowCol){var o=e.hitTest(i);o.cellType!=CellType.Cell&&o.cellType!=CellType.None&&(t.finishEditing()||t.finishEditing(!0))}}),!0);e.addEventListener(i,\"compositionend\",this._keypress.bind(this))}_EditHandler.prototype.startEditing=function(e,t,i,o,n){void 0===e&&(e=!0);var r=this._g,l=r._selHdl.selection;t=asNumber(t,!0,!0);i=isString(i)?r.columns.indexOf(i):asNumber(i,!0,!0);null==t&&(t=l.row);null==i&&(i=l.col);null==o&&(o=!0);if(!this._allowEdit(t,i))return!1;var s=r.getMergedRange(r.cells,t,i,!1);s||(s=new CellRange(t,i));var a=r.rows[t].dataItem;r.scrollIntoView(s.row,s.col,!0);if(!r.select(s,!0))return!1;if(!r.rows[t]||a!=r.rows[t].dataItem)return!1;if(this.activeEditor){if(s.equals(this._rng))return!0;if(!this.finishEditing())return!1}var d=new CellRangeEventArgs(r.cells,s,n);if(!r.onBeginningEdit(d))return!1;var c=r.editableCollectionView,u=!1;if(c){(u=(a=r.rows[t].dataItem)!=c.currentEditItem)&&r.onRowEditStarting(d);c.editItem(a);if(u){r.onRowEditStarted(d);this._edItem=a}}var h=r.rows[t],p=r._getBindingColumn(r.cells,t,r.columns[i]),g=p.dataMap||h.dataMap,f=DataMapEditor.RadioButtons,_=h.dataMap&&h.dataMapEditor==f||p.dataMap&&p.dataMapEditor==f;this._fullEdit=asBoolean(e);this._rng=s;this._list=null;if(g&&!_&&!p.editor){var m=g.getDisplayValues(a);(p.isContentHtml||h.isContentHtml)&&(m=m.map((function(e){return toPlainText(e)})));this._list=m}if(_){var w=r._activeCell||r.hostElement.querySelector(\".wj-cell.wj-state-active\");if(w){var C=n?n.target:null;C instanceof HTMLSpanElement&&(C=closest(C,\"label\"));C instanceof HTMLLabelElement&&(C=C.querySelector(\"input\"));this._edt=C instanceof HTMLInputElement?C:w.querySelector(\"input\");this._updateRowHeaderCell(t)}}else s.isSingleCell?this._updateEditorCell(t,i,u):r.refresh(!1);var v=this._edt;if(v){if(\"checkbox\"==v.type||\"radio\"==v.type)this._fullEdit=!1;else if(o){var y=0,b=v.value.length,R=!1,E=culture.Globalize.numberFormat[\"%\"]||\"%\",x=r.getCellData(t,i,!1);isNumber(x)?R=v.value.indexOf(E)>-1:null==x&&(R=/^p/i.test(p.format))&&v.value.indexOf(E)<0&&(v.value+=E);if(R){var S=v.value;y=0;b=S.length;for(;b>0&&(S[b-1]==E||\" \"==S[b-1]);)b--;for(;y<b&&S[y]==E;)y++}n&&\"keydown\"==n.type&&n.keyCode==Key.Space&&(y=b);setSelectionRange(v,y,b);isIE()&&\"right\"==v.style.textAlign&&(v.style.paddingRight=\"1px\")}r.onPrepareCellForEdit(d)}o&&!r.containsFocus()&&r.focus();return null!=v&&!v.disabled&&!v.readOnly};_EditHandler.prototype.finishEditing=function(e){var t=this._edt;if(!t){this._removeListBox();return!0}var i=this._g,o=this._rng,n=new CellEditEndingEventArgs(i.cells,o),r=i.containsFocus();if(!e){var l=i.hostElement.querySelector(\".wj-control.wj-state-focused\");if(l){var s=Control.getControl(l);s&&s.containsFocus()&&s.onLostFocus(n)}}n.cancel=e;if(!e&&i.validateEdits){if(p=this._getValidationError()){n.cancel=!0;var a=i.cells.getCellElement(o.row,o.col);if(a){this._setCellError(a,p);n.stayInEditMode=!0}}}this._cstEdtValue=null;n.data=i.cells.getCellData(o.topRow,o.leftCol,!1);if(!i.onCellEditEnding(n)&&n.stayInEditMode){r?setTimeout((function(){t.select()})):t.select();this._fullEdit=!0;return!1}if(!n.cancel){for(var d=this._cstEdtValue,c=d&&!isUndefined(d.value)?d.value:i.cellFactory.getEditorValue(i),u=o.topRow;u<=o.bottomRow&&u<i.rows.length;u++)for(var h=o.leftCol;h<=o.rightCol&&h<i.columns.length;h++){if(!i.cells.setCellData(u,h,c,!0,!1)&&i.validateEdits){var p;if(p=this._getValidationError(!0)){n.cancel=!0;var g=i.cells.getCellElement(o.row,o.col);if(g){this._setCellError(g,p);n.stayInEditMode=!0}return!1}}}t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null;this._rng=null;this._list=null;this._edtValue=null;this._edtCanceled=n.cancel;this._removeListBox();var f=closest(t,\".wj-cell\");contains(f,getActiveElement())&&i._setFocusNoScroll(f);!n.cancel&&n.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(o.row,o.col,!1);r&&i.focus();i.onCellEditEnded(n);return!0};_EditHandler.prototype._setCustomEditorValue=function(e){this._cstEdtValue={value:e}};_EditHandler.prototype._setCellError=function(e,t){var i=this._g;\"\"==t&&(t=null);toggleClass(e,\"wj-state-invalid\",null!=t);var o=i.errorTip,n=i.activeEditor;if(o){o.setTooltip(e,t);n&&contains(e,n)&&setAttribute(n,\"title\",\"\")}else setAttribute(e,\"title\",t);n&&e==i.activeCell&&!contains(e,n)&&o&&o.setTooltip(n,t)};Object.defineProperty(_EditHandler.prototype,\"activeEditor\",{get:function(){return this._edt},enumerable:!0,configurable:!0});Object.defineProperty(_EditHandler.prototype,\"editRange\",{get:function(){return this._rng},enumerable:!0,configurable:!0});_EditHandler.prototype.getClipString=function(e,t,i,o){var n,r=this,l=this._g,s=l.selectionMode,a=[],d=0!=(t&ClipStringOptions.CSV),c=d?\"\\r\\n\":\"\\n\",u=d?\",\":\"\\t\",h=0!=(t&ClipStringOptions.InvisibleRows),p=SelectionMode,g=null!=e;if(!e&&s!=p.ListBox)for(var f=l.rows,_=0;_<f.length;_++)if(f[_].isSelected){s=p.ListBox;break}if(!e){l._selHdl._expandSelection();e=l.selection;switch(s){case p.Row:case p.RowRange:case p.ListBox:e.col=0;e.col2=l.columns.length-1;break;case p.MultiRange:var m=l.selectedRanges;if(m.length>1){var w=this._sameCols(m),C=this._sameRows(m);if(w||C){(m=m.slice()).sort((function(e,t){var i=e.topRow-t.topRow;return i||e.leftCol-t.leftCol}));for(var v=0;v<m.length;v++)for(var y=m[v],b=v+1;b<m.length;b++)if(y.contains(m[b])){m.splice(b,1);b--}if(w){var R=[];m.forEach((function(e){R.push(r.getClipString(e,t,i,o));i=!1}));return R.join(c)}if(C){var E;m.forEach((function(e){var n=r.getClipString(e,t,i,o).split(c);if(null==E){E=n;o=!1}else n.forEach((function(e,t){E[t]+=u+e}))}));return E.join(c)}}}}}var x=e.col>-1&&e.col2>-1;i&&x&&(n=l.columnHeaders).rows.forEach((function(i,l){if(h||i.isVisible){var s=r._getRowClipString(n,l,e,t,o);a.push(s)}}));if(e.row>-1&&e.row2>-1){n=l.cells;if(s!=p.ListBox||g){assert(e.bottomRow<n.rows.length,\"Row index must be less than the number of rows.\");for(v=e.topRow;v<=e.bottomRow;v++)if(h||n.rows[v].isVisible){var S=this._getRowClipString(n,v,e,t,o);a.push(S)}}else n.rows.forEach((function(i,l){if(i.isSelected&&(h||i.isVisible)){var s=r._getRowClipString(n,l,e,t,o);a.push(s)}}))}return a.join(c)};_EditHandler.prototype._getRowClipString=function(e,t,i,o,n){var r=[],l=e.rows[t],s=ClipStringOptions,a=0!=(o&s.CSV),d=0!=(o&s.InvisibleColumns),c=0==(o&s.Unformatted),u=0!=(o&s.SkipMerged);if(l.isVisible){if(n)for(var h=e.cellType==CellType.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,p=0;p<h.columns.length;p++)if(d||h.columns[p].isVisible){var g=h.getCellData(t,p,!0);u&&this._skipMergedCell(e,null,t,p)&&(g=\"\");r.push(this._getCellClipString(g,o))}if(i.col>-1&&i.col2>-1){assert(i.rightCol<e.columns.length,\"Column index must be less than the number of columns.\");for(p=i.leftCol;p<=i.rightCol;p++)if(d||e.columns[p].isVisible){!(g=e.getCellData(t,p,c))&&l instanceof GroupRow&&p==e.columns.firstVisibleIndex&&(g=toPlainText(l.getGroupHeader()));u&&this._skipMergedCell(e,null,t,p)&&(g=\"\");r.push(this._getCellClipString(g,o))}}}return r.join(a?\",\":\"\\t\")};_EditHandler.prototype._skipMergedCell=function(e,t,i,o){var n=e.grid.getMergedRange(e,i,o,!1);if(n){if(t){n.row=Math.max(t.topRow,n.row);n.col=Math.max(t.leftCol,n.col)}if(n.row!=i||n.col!=o)return!0}return!1};_EditHandler.prototype._getCellClipString=function(e,t){isString(e)||(e=isDate(e)?e.toJSON():null!=e?e.toString():\"\");e=e.replace(/\\t/g,\" \");var i=0!=(t&ClipStringOptions.QuoteAll);(i=i||/\\n|^\"|\"$/.test(e))||0==(t&ClipStringOptions.CSV)||(i=e.indexOf(\",\")>-1);i&&(e='\"'+(e=e.replace(/\"/g,'\"\"'))+'\"');return e};_EditHandler.prototype._sameRows=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].topRow!=t.topRow||e[i].bottomRow!=t.bottomRow)return!1;return!0};_EditHandler.prototype._sameCols=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].leftCol!=t.leftCol||e[i].rightCol!=t.rightCol)return!1;return!0};_EditHandler.prototype.setClipString=function(e,t){var i=this,o=this._g,n=o.editableCollectionView,r=null==t,l=SelectionMode;if(r){o._selHdl._expandSelection();t=o.selection;switch(o.selectionMode){case l.Row:case l.RowRange:case l.ListBox:t.col=0;t.col2=o.columns.length-1;break;case l.MultiRange:var s=o.selectedRanges;if(s.length>1){n&&n.beginUpdate();s.forEach((function(t){o.setClipString(e,t)}));n&&n.endUpdate();o.selectedRanges=s;return}}}t=asType(t,CellRange);var a=this._parseClipString(asString(e));!r&&a.length>t.rowSpan&&(a=a.slice(0,t.rowSpan));this._expandClipRows(a,t);var d=r?new CellRange(t.topRow,t.leftCol,t.topRow+a.length-1,t.leftCol+a[0].length-1):t,c=new CellRangeEventArgs(o.cells,d,e);if(!o.onPasting(c))return!1;d=new CellRange(t.topRow,t.leftCol);var u=new CellRangeEventArgs(o.cells,new CellRange(t.topRow,-1)),h=!1,p=0,g=t.topRow,f=o.rows,_=o.columns,m=this._deferPaste(t,a.length);o.deferUpdate((function(){var e=-1;if(n&&m){e=n.currentPosition;n.beginUpdate()}for(var r=0;r<a.length&&g<f.length;r++,g++){var l=f[g];if(l.isVisible){var s=l.dataItem,c=n?n.currentEditItem:null;if(c&&s!=c){o.onRowEditEnding(u);o.onRowEditEnded(u)}if(s!=c){u._rng.setRange(g,-1);o.onRowEditStarting(u);o.onRowEditStarted(u)}if(l instanceof _NewRowTemplate&&n){m&&(l.dataItem=n.addNew());u._rng.setRange(o.newRowAtTop?0:g+p,-1);o.onRowEditStarting(u);o.onRowEditStarted(u)}for(var w=a[r],C=t.leftCol,v=0;v<w.length&&C<_.length;v++,C++){var y=_[C];if(y.isVisible){if(i._allowEdit(g,C)){var b=w[v],R=b.length;R>1&&'\"'==b[0]&&'\"'==b[R-1]&&b.indexOf(\"\\n\")>-1&&(b=b.substr(1,R-2));var E=y.maxLength||l.maxLength;E&&(b=b.substr(0,E));var x=new CellRangeEventArgs(o.cells,new CellRange(g+p,C),b);if(o.onPastingCell(x)){if(n){n.editItem(s);i._edItem=n.currentEditItem}var S=o.getCellData(g,C,!1);if(o.setCellData(g,C,x.data)){x.data=S;o.onPastedCell(x);h=!0}}d.row2=Math.max(d.row2,g+p);d.col2=Math.max(d.col2,C)}}else v--}if(i._edItem&&n instanceof CollectionView){var H=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,i._edItem,g);n.onCollectionChanged(H)}if(l instanceof _NewRowTemplate&&n&&m){l.dataItem=null;if(h){u._rng.setRange(o.newRowAtTop?0:g+p,-1);o.onRowEditEnding(u);o.onRowEditEnded(u);g--;p++;n.commitNew()}else n.cancelNew()}}else r--}if(n)if(m){if(n.currentEditItem){n.commitEdit();o.onRowEditEnding(u);o.onRowEditEnded(u)}n.moveCurrentToPosition(e);n.endUpdate(!0)}else{var M=n.currentAddItem;!M&&0==t.row&&o.newRowAtTop&&f[0]instanceof _NewRowTemplate&&(M=f[0].dataItem);if(M){n.editItem(M);i._edItem=M}}d.rowSpan>1&&0==d.topRow&&f[0]instanceof _NewRowTemplate&&(d.row=d.row2=0);o.select(d)}));o.onPasted(c);if(h&&closest(o.hostElement,\"form\")){var w=document.createEvent(\"HTMLEvents\"),C=createElement(\"<input>\",o.hostElement);w.initEvent(\"change\",!0,!1);C.dispatchEvent(w);removeChild(C)}};_EditHandler.prototype._deferPaste=function(e,t){var i=this._g.rows,o=i.length;if(t>1){if(o>1&&i[0].dataItem!=i[1].dataItem)return!0;if(1==o&&i[0]instanceof _NewRowTemplate)return!0}return!1};_EditHandler.prototype._parseClipString=function(e){e=(e=e.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).replace(/\\n$/,\"\");var t=0,i=0,o=[];for(t=0;t<e.length;t++){var n='\"'==e[t],r=!1,l=!1;for(i=t;i<e.length&&!l;i++){var s=e[i];switch(s){case'\"':n&&(r=!r);break;case\"\\t\":case\"\\n\":if(!r){this._parseClipCell(o,e,t,i,\"\\n\"==s);t=i;i==e.length-1&&(t=i+1);l=!0}}}if(i==e.length){this._parseClipCell(o,e,t,i,!1);break}}0==o.length&&o.push([\"\"]);return o};_EditHandler.prototype._parseClipCell=function(e,t,i,o,n){e.length||e.push([]);var r=t.substr(i,o-i),l=r.length;l>2&&'\"'==r[0]&&'\"'==r[l-1]&&r.indexOf('\"\"')>-1?r=(r=r.substr(1,l-2)).replace(/\"\"/g,'\"'):\"\\t\"==r&&(r=\"\");e[e.length-1].push(r);n&&e.push([])};_EditHandler.prototype._expandClipRows=function(e,t){for(var i=e.length,o=0,n=0;n<i;n++)o=Math.max(o,e[n].length);for(var r=this._g,l=0,s=0,a=t.topRow;a<=t.bottomRow;a++)r.rows[a].isVisible&&l++;for(var d=t.leftCol;d<=t.rightCol;d++)r.columns[d].isVisible&&s++;if(l>1||s>1){1==l&&(l=i);1==s&&(s=o);if(s%o==0&&l%i==0){for(d=o;d<s;d++)for(a=0;a<i;a++)e[a].push(e[a%i][d%o]);for(a=i;a<l;a++)e.push(e[a%i])}}};_EditHandler.prototype._updateEditorCell=function(e,t,i){var o=this._g,n=o.cells.getCellElement(e,t),r=o._useFrozenDiv()&&(e<o.frozenRows||t<o.frozenColumns);if(!n||r||o._hasPendingUpdates())o.refresh(!1);else if(o.onUpdatingView(new CancelEventArgs)){this._updateCell(n);(i||o._getHasValidation())&&this._updateRowHeaderCell(e);o.onUpdatedView()}};_EditHandler.prototype._updateRowHeaderCell=function(e){var t=this._g;if(t.headersVisibility&HeadersVisibility.Row){var i=t.rowHeaders,o=t._getEditColumnIndex(),n=i.getCellElement(e,o);n&&this._updateCell(n)}};_EditHandler.prototype._updateCell=function(e){var t=new HitTestInfo(e,null),i=FlexGrid._WJS_UPDATING;if(t.panel){addClass(e,i);t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range);removeClass(e,i)}};_EditHandler.prototype._getValidationError=function(e){var t=this,i=this._g,o=\"\";if(i&&this._rng&&!this._validating){var n=this._rng.row,r=this._rng.col,l=i.activeEditor,s=i.cellFactory.getEditorValue(i),a=i.getCellData(n,r,!1);e&&(o=i._getError(i.cells,n,r,!0));if(!o&&i._getHasValidation()){l&&(o=l.validationMessage);if(!o){var d=i.columns[r],c=i.rows[n];!i._getBindingColumn(i.cells,n,d).getIsRequired(c)||null!=s&&\"\"!=s||(o=this._getRequiredMsg())}if(!o&&i.setCellData(n,r,s,!0,!1)){o=i._getError(i.cells,n,r);i.setCellData(n,r,a,!1,!1)}}if(!o){var u=Control.getControl(closest(l,\".wj-control\"));if(u&&u!=i&&u.invalidInput.hasHandlers){var invInputHandler=function(e,l){if(l.cancel){o=i._getError(i.cells,n,r,!0)||t._getBadInputMsg();l.cancel=!1}};this._validating=!0;var h=l.value;u.invalidInput.addHandler(invInputHandler);u.onLostFocus();u.invalidInput.removeHandler(invInputHandler);l.value=h;l.select();this._validating=!1}}}return o};_EditHandler.prototype._getRequiredMsg=function(){if(!_EditHandler._msgRequired){var e=document.createElement(\"input\");e.required=!0;_EditHandler._msgRequired=e.validationMessage}return _EditHandler._msgRequired};_EditHandler.prototype._getBadInputMsg=function(){if(!_EditHandler._msgBadInput){var e=document.createElement(\"input\");e.pattern=\"x\";e.value=\"a\";_EditHandler._msgBadInput=e.validationMessage||\"Bad Input\"}return _EditHandler._msgBadInput};_EditHandler.prototype._allowEdit=function(e,t){var i=this._g;if(i.isReadOnly||i.selectionMode==SelectionMode.None)return!1;if(i.collectionView&&!i.editableCollectionView)return!1;if(null!=e){if(e<0||e>=i.rows.length)return!1;var o=i.rows[e];if(!o||o.isReadOnly||!o.isVisible)return!1}if(null!=t){if(t<0||t>=i.columns.length)return!1;var n=i._getBindingColumn(i.cells,e,i.columns[t]);if(!n||n.isReadOnly||!n.isVisible)return!1}return!0};_EditHandler.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var i=new CellRangeEventArgs(e.cells,e.selection);e.onRowEditEnding(i);t.commitEdit();e.onRowEditEnded(i)}this._edItem=null}};_EditHandler.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case Key.F2:this._fullEdit=!this._fullEdit;e.preventDefault();return!0;case Key.F4:this._toggleListBox(e);e.preventDefault();return!0;case Key.Space:if(t&&\"checkbox\"==t.type&&!t.disabled&&!t.readOnly){setChecked(t,t.indeterminate||!t.checked);this.finishEditing();e.preventDefault()}return!0;case Key.Enter:e.preventDefault();if(t&&e.altKey){var i=e.target;if(i instanceof HTMLTextAreaElement&&\"soft\"==i.wrap){i.style.setProperty(\"ime-mode\",\"auto\",\"important\");var o=i.value,n=i.selectionStart,r=i.selectionEnd;i.value=o.substr(0,n)+\"\\n\"+o.substr(r);setSelectionRange(i,n+1);i.style.imeMode=\"\"}return!0}if(t&&this._lbx){this._toggleListBox(e);return!0}return!this.finishEditing();case Key.Tab:e.preventDefault();return!this.finishEditing();case Key.Escape:e.preventDefault();this.finishEditing(!0);return!0;case Key.Up:case Key.Down:case Key.Left:case Key.Right:case Key.PageUp:case Key.PageDown:case Key.Home:case Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case Key.Up:case Key.Down:this._toggleListBox(e);e.preventDefault();return!0}if(this._fullEdit)switch(e.keyCode){case Key.PageUp:case Key.PageDown:e.preventDefault()}else if(this.finishEditing())return!1}return!0};_EditHandler.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case Key.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case Key.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case Key.Home:case Key.PageUp:this._lbx.selectedIndex=0;break;case Key.End:case Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}if(t){e.preventDefault();return!0}return!1};_EditHandler.prototype._keypress=function(e){if(\"AltLeft\"!=e.code&&\"AltRight\"!=e.code){var t=this._edt,i=e.charCode||32,o=this._list;if(t&&\"checkbox\"!=t.type&&getActiveElement()==t&&o&&o.length>0&&i>=32){var n=t.selectionStart,r=t.value.substr(0,n);if(e.target==t&&e.charCode){r+=String.fromCharCode(e.charCode);n++}var l=this._findString(o,r,!0);l<0&&!this._g.caseSensitiveSearch&&(l=this._findString(o,r,!1));if(l>-1){var s=this._lbx;s&&(s.selectedIndex=l);t.value=o[l];setSelectionRange(t,n,t.value.length);t.dispatchEvent(this._evtInput);e.preventDefault&&e.preventDefault()}}}else e.preventDefault()};_EditHandler.prototype._findString=function(e,t,i){i||(t=t.toLowerCase());for(var o=0;o<e.length;o++){var n=e[o];if(null!=n){n=n.toString();i||(n=n.toLowerCase());if(0==n.indexOf(t))return o}}return-1};_EditHandler.prototype._toggleListBox=function(e,t){var i=this._g,o=i._selHdl.selection,n=i.isTouching;t||(t=o);if(this._lbx){this._removeListBox();if(o.intersects(t)){i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus();return!0}}if(!t.isValid)return!1;var r=i.rows[t.row],l=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),s=r.dataMap||l.dataMap,a=i._getMapEditor(r,l);if(!s||a!=DataMapEditor.DropDownList||!softInput())return!1;if(null!=l.editor)return!1;if(!t.intersects(i.editRange)&&!this.startEditing(!0,t.row,t.col,!n,e))return!1;var d=this._lbx=this._createListBox();requestAnimationFrame((function(){return d.showSelection()}));n&&d.focus();return!0};_EditHandler.prototype._createListBox=function(){var e=this,t=this._g,i=t.activeEditor,o=this._rng,n=t.rows[o.row],r=t._getBindingColumn(t.cells,o.row,t.columns[o.col]),l=r.isContentHtml||n.isContentHtml,s=r.dataMap||n.dataMap,a=r.dropDownCssClass||n.dropDownCssClass,d=document.createElement(\"div\");this._removeListBox();addClass(d,\"wj-dropdown-panel wj-grid-listbox\");addClass(d,a);var c=i?i.value:t.getCellData(o.row,o.col,!0),u=new mInput.ListBox(d,{maxHeight:n.renderHeight*_LB_PAGE_SIZE,isContentHtml:l,itemsSource:s.getDisplayValues(n.dataItem),selectedValue:c});u.addEventListener(d,\"keydown\",(function(i){switch(i.keyCode){case Key.Enter:case Key.Escape:e._removeListBox();t.focus()}}));u.addEventListener(d,\"click\",(function(){e._removeListBox();t.focus();e.finishEditing()}));u.gotFocus.addHandler((function(){u.containsFocus()&&i&&i.focus()}));u.selectedIndexChanged.addHandler((function(){var i=t.activeEditor;if(i){i.value=e._list[u.selectedIndex];i.dispatchEvent(e._evtInput);setSelectionRange(i,0,i.value.length)}}));var h=t.cells.getCellElement(o.row,o.col);if(h){showPopup(d,h,!1,!1,!1);var p=h.querySelector(\".\"+CellFactory._WJC_DROPDOWN);setAttribute(p,\"aria-expanded\",!0)}else{showPopup(d,t.getCellBoundingRect(o.row,o.col));d[Control._OWNR_KEY]=t.hostElement}return u};_EditHandler.prototype._removeListBox=function(){var e=this._lbx;if(e){this._lbx=null;hidePopup(e.hostElement,(function(){e.dispose()}))}};_EditHandler._msgRequired=\"\";_EditHandler._msgBadInput=\"\";return _EditHandler}();export{_EditHandler};var _CustomEditor=function(){function _CustomEditor(e,t){this._col=asType(e,Column);this._ctl=t;this._tbx=t.hostElement.querySelector(\"input\");assert(this._col instanceof Column,\"Invalid Column\");assert(this._ctl instanceof Control,\"Invalid edit control\");assert(this._tbx instanceof HTMLInputElement,\"Input element not found in editor\");var i=this._ctl;this._prop=isUndefined(i.value)?isUndefined(i.checkedItems)?isUndefined(i.text)?null:\"text\":\"checkedItems\":\"value\";assert(null!=this._prop,\"value, text properties not found in editor\");var o=softInput();if(o){this._isDropDown=i instanceof o.DropDown;this._isComboBox=i instanceof o.ComboBox;this._isAutoComplete=i instanceof o.AutoComplete;this._isInputDateTime=i instanceof o.InputDateTime;this._isInputMask=i instanceof o.InputMask}this._updateFocusBnd=this._updateFocus.bind(this);this._keypressBnd=this._keypress.bind(this);this._keydownBnd=this._keydown.bind(this);this._cmpstartBnd=this._cmpstart.bind(this);this._mousedownBnd=this._mousedown.bind(this);this._connect();this._col.gridChanged.addHandler(this._connect,this);this._hideEditor();this._updateFocus()}Object.defineProperty(_CustomEditor.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(_CustomEditor.prototype,\"column\",{get:function(){return this._col},enumerable:!0,configurable:!0});Object.defineProperty(_CustomEditor.prototype,\"control\",{get:function(){return this._ctl},enumerable:!0,configurable:!0});_CustomEditor.prototype.dispose=function(){this._disconnect();this._isDropDown&&(this._isDropDown=!1);this._g=this._col=this._ctl=this._tbx=null};_CustomEditor.prototype._connect=function(){var e=this._col?this._col.grid:null;if(e!=this._g){this._disconnect();if(e){var t=e.hostElement,i=e.addEventListener.bind(e),o=this._updateFocusBnd;this._g=e;i(t,\"keydown\",this._keydownBnd,!0);i(t,\"keypress\",this._keypressBnd,!0);i(t,\"mousedown\",this._mousedownBnd,!0);i(t,\"mouseup\",o,!0);i(t,\"blur\",o,!0);i(t,\"focus\",o);i(this._tbx,\"compositionstart\",this._cmpstartBnd);e.selectionChanged.addHandler(o,this);e.prepareCellForEdit.addHandler(this._prepareCellForEdit,this);e.cellEditEnding.addHandler(this._cellEditEnding,this);e.cellEditEnded.addHandler(this._cellEditEnded,this)}}};_CustomEditor.prototype._disconnect=function(){var e=this._g;if(e){var t=e.hostElement,i=e.removeEventListener.bind(e),o=this._updateFocusBnd;i(t,\"keydown\",this._keydownBnd);i(t,\"keypress\",this._keypressBnd);i(t,\"mousedown\",this._mousedownBnd);i(t,\"mouseup\",o);i(t,\"blur\",o);i(t,\"focus\",o);i(this._tbx,\"compositionstart\",this._cmpstartBnd);e.selectionChanged.removeHandler(o,this);e.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this);e.cellEditEnding.removeHandler(this._cellEditEnding,this);e.cellEditEnded.removeHandler(this._cellEditEnded,this);this._g=null}};_CustomEditor.prototype._prepareCellForEdit=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,o=this._ctl,n=this._tbx,r=this._prop,l=t.range,s=t.data,a=s?s.type:\"\",d=i.getCellData(l.row,l.col,\"text\"==r||this._isInputMask),c=!1;if(this._isComboBox){o._oldText=\"\";if(!o.isRequired){o.selectedIndex=-1;n.value=\"\"}this._isInputDateTime&&o._setDropdown(o._ddDate)}if(\"checkedItems\"==r){if(o.showFilterInput){o.showFilterInput=!1;o.showFilterInput=!0}if(null==d||0==d.length){o[r]=[];o.selectedIndex=0}}if(null!=d||!o.isRequired){o[r]=d;if(this._isAutoComplete){clearTimeout(o._toSearch);d&&(o.selectedIndex=o._findNext(d,1,-1))}}switch(a){case\"keydown\":case\"mousedown\":if(isUndefined(s.keyCode)||s.keyCode==Key.F4||s.altKey){c=this._isDropDown;if(this._isAutoComplete&&(null==d||isString(d))){var u=o.collectionView;if(u){if(u.filter||o._rxHighlight){o._rxHighlight=null;u.filter=null}o.selectedIndex=d?o._findNext(d,1,-1):-1}}}}i.showPlaceholders&&!o.placeholder&&(n.placeholder=this._col.header);this._showEditor();i._edtHdl._fullEdit=!0;if(0==a.indexOf(\"key\")&&32==s.keyCode){setSelectionRange(n,n.value.length);s.preventDefault()}if(isIE())if(\"keypress\"==a&&s.key){setTimeout((function(){n.value=s.key;setSelectionRange(n,1);var e=document.createEvent(\"HTMLEvents\");e.initEvent(\"input\",!0,!1);n.dispatchEvent(e)}));s.preventDefault()}else if(\"compositionstart\"==a){var h=n.value.length;setSelectionRange(n,h)}this._isDropDown&&(o.isDroppedDown=c)}};_CustomEditor.prototype._cellEditEnding=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,o=this._ctl,n=this._prop;if(this._isAutoComplete){var r=o.selectedIndex;if(isNumber(r)&&r<0){var l=o.collectionView;l&&1==l.items.length?o.selectedIndex=0:this._col.isRequired&&(t.cancel=!0)}}!t.cancel&&n&&i._edtHdl._setCustomEditorValue(o[n])}};_CustomEditor.prototype._cellEditEnded=function(e,t){this._hideEditor();this._updateFocus()};_CustomEditor.prototype._cmpstart=function(e){var t=this;isIE()?setTimeout((function(){t._activateEditor(e)})):this._activateEditor(e)};_CustomEditor.prototype._keypress=function(e){e.defaultPrevented||this.grid.activeEditor||!this._checkColumn(e.target)||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._activateEditor(e)};_CustomEditor.prototype._keydown=function(e){if(!e.defaultPrevented&&this._checkColumn(e.target))if(this.grid.activeEditor){if(e.keyCode==Key.Enter&&this._isDropDown){var t=this._ctl;if(t.isDroppedDown){t.isDroppedDown=!1;e.preventDefault();e.stopImmediatePropagation()}}}else if(this._isDropDown){var i=e.keyCode;switch(i){case Key.F4:case Key.Up:case Key.Down:if(i==Key.F4||e.altKey){this._activateEditor(e);e.preventDefault()}}}};_CustomEditor.prototype._checkColumn=function(e){if(contains(e,this._tbx)){var t=this._g,i=t._selHdl.selection;return t._getBindingColumn(t.cells,i.row,t.columns[i.col])==this._col}return!1};_CustomEditor.prototype._mousedown=function(e){if(!e.defaultPrevented&&0==e.button&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&this._isDropDown&&closestClass(e.target,CellFactory._WJC_DROPDOWN)){var t=this.grid,i=t.hitTest(e);if(i.getColumn(!0)==this._col){t.select(i.range);t.refresh();this._activateEditor(e);e.preventDefault()}}};_CustomEditor.prototype._activateEditor=function(e){var t=this.grid;if(!t.activeEditor){var i=t._selHdl.selection;if(i.isValid)return t.startEditing(!0,i.row,i.col,!0,e)}return!1};_CustomEditor.prototype._showEditor=function(){var e=this.grid,t=e.activeEditor,i=closest(t,\".wj-cell\");if(i){var o=this._tbx,n=this._ctl.hostElement;setCss(n,_CustomEditor._cssVisible);toggleClass(o,\"wj-grid-ime\",!1);i.innerHTML=\"\";i.appendChild(n);e._edtHdl._edt=o;o.select();o.focus();t.value=\"\"}};_CustomEditor.prototype._hideEditor=function(){var e=this.grid,t=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1);i.setCustomValidity(\"\");var o=i.value;i.value=o+\" \";i.value=o;setCss(t,_CustomEditor._cssHidden);toggleClass(i,\"wj-grid-ime\",!0);e&&t.parentElement!=e._root&&e._root.appendChild(t)};_CustomEditor.prototype._updateFocus=function(){var e=this.grid;if(e&&!e.activeEditor){var t=e.hostElement,i=\".wj-flexgrid\",o=this._tbx,n=getActiveElement(),r=e._getTabIndex();if(closest(n,i)==t)if(closest(o,i)!=t)this._hideEditor();else{var l=e._selHdl.selection,s=e._getBindingColumn(e.cells,l.row,e.columns[l.col]);if(s&&s==this._col&&e.canEditCell(l.row,l.col)){o.tabIndex=r;o.select();o.focus()}else if(o.tabIndex>-1){o.tabIndex=-1;n==o&&e.focus(!0)}}}};_CustomEditor._cssHidden={position:\"fixed\",left:-32e3,top:-32e3,width:\"1px\",height:\"1px\",overflow:\"hidden\",border:\"none\"};_CustomEditor._cssVisible={position:\"absolute\",left:0,top:0,width:\"100%\",height:\"100%\"};return _CustomEditor}();export{_CustomEditor};export var KeyAction;!function(e){e[e.None=0]=\"None\";e[e.MoveDown=1]=\"MoveDown\";e[e.MoveAcross=2]=\"MoveAcross\";e[e.Cycle=3]=\"Cycle\";e[e.CycleOut=4]=\"CycleOut\";e[e.CycleEditable=5]=\"CycleEditable\"}(KeyAction||(KeyAction={}));var _KeyboardHandler=function(){function _KeyboardHandler(e){this._kaTab=KeyAction.None;this._kaEnter=KeyAction.MoveDown;this._g=e;var t=e.hostElement;e.addEventListener(t,\"keypress\",this._keypress.bind(this));e.addEventListener(t,\"keydown\",this._keydown.bind(this))}_KeyboardHandler.prototype._keydown=function(e){var t=this._g,i=t._edtHdl,o=t.selection,n=e.ctrlKey||e.metaKey,r=e.shiftKey,l=e.altKey,s=e.target,a=e.char||e.key,d=!0;if(!n&&!l&&a&&1==a.length&&closest(s,\".wj-cell\")&&s.firstElementChild&&(\" \"!=a||!r)){var c=s.querySelectorAll(\".\"+CellFactory._WJC_RADIOMAP+\" label input\");if(c&&c.length){for(var u=-1,h=0;h<c.length;h++)if(c[h].checked){u=h;break}a=a.toLowerCase();for(h=0;h<c.length;h++){var p=c[(u+h+1)%c.length];if(\" \"==a||p.value.toLowerCase()[0]==a){p.click();e.preventDefault();return}}}}if(!t._wantsInput(s)){var g=tryCast(t.rows[o.row],GroupRow),f=t.editableCollectionView,_=t._getKeyCode(e),m=SelMove,w=SelectionMode,C=e.defaultPrevented&&!(s instanceof HTMLInputElement);if((t.isRangeValid(o)&&!C||n&&65==_)&&(!t.activeEditor||!i._keydown(e)||t._isNativeCheckbox(t.activeEditor))){if(t.autoClipboard){if(n&&(67==_||45==_)){var v=new CellRangeEventArgs(t.cells,o);if(t.onCopying(v)){var y=HeadersVisibility,b=0!=(t.copyHeaders&y.Column),R=0!=(t.copyHeaders&y.Row),E=t.getClipString(null,!1,b,R)+\"\\r\\n\";t._eFocus.focus();Clipboard.copy(E);t.onCopied(v)}e.stopPropagation();return}if(n&&86==_||r&&45==_){t.isReadOnly||Clipboard.paste((function(e){t.setClipString(e)}));e.stopPropagation();return}}(r||n)&&\"Space\"==e.code&&(_=Key.Space);switch(_){case Key.Space:if(r&&o.isValid)switch(t.selectionMode){case w.CellRange:case w.MultiRange:case w.Row:case w.RowRange:case w.ListBox:t.select(new CellRange(o.row,0,o.row,t.columns.length-1),!1)}else if(n&&o.isValid)switch(t.selectionMode){case w.CellRange:case w.MultiRange:t.select(new CellRange(0,o.col,t.rows.length-1,o.col),!1)}else{(d=this._startEditing(!0,e))&&setTimeout((function(){var e=t.activeEditor;if(e)if(e.disabled||e.readOnly&&!closest(e,\".wj-control\"))t.finishEditing();else if(\"checkbox\"==e.type){setChecked(e,e.indeterminate||!e.checked);t.finishEditing()}}));d=!0}break;case 65:if(n)switch(t.selectionMode){case w.None:case w.Cell:break;default:t.selectAll()}else d=!1;break;case Key.Left:n||l?d=!1:o.isValid&&0==o.leftCol&&g&&!g.isCollapsed&&g.hasChildren?g.isCollapsed=!0:this._moveSel(m.None,n?m.Home:m.Prev,r);break;case Key.Right:n||e.altKey?d=!1:o.isValid&&0==o.leftCol&&g&&g.isCollapsed?g.isCollapsed=!1:this._moveSel(m.None,n?m.End:m.Next,r);break;case Key.Up:n?d=!1:e.altKey&&i._toggleListBox(e)?d=!0:this._moveSel(m.Prev,m.None,r);break;case Key.Down:n?d=!1:e.altKey&&i._toggleListBox(e)?d=!0:this._moveSel(m.Next,m.None,r);break;case Key.PageUp:this._moveSel(e.altKey?m.Home:m.PrevPage,m.None,r);if(t.rows.frozen&&t.selection.row<t.rows.frozen){var x=t.scrollPosition;x.y&&(t.scrollPosition=new Point(x.x,0))}break;case Key.PageDown:this._moveSel(e.altKey?m.End:m.NextPage,m.None,r);break;case Key.Home:this._moveSel(n?m.Home:m.None,m.Home,r);break;case Key.End:this._moveSel(n?m.End:m.None,m.End,r);break;case Key.Tab:d=this._performKeyAction(t.keyActionTab,r);break;case Key.Enter:d=this._performKeyAction(t.keyActionEnter,r);!r&&f&&null!=f.currentEditItem&&i._commitRowEdits();break;case Key.Escape:d=!1;if(f&&(f.currentAddItem||f.currentEditItem)){var S=new CellRangeEventArgs(t.cells,t.selection);S.cancel=!0;t.onRowEditEnding(S);f.currentAddItem&&f.cancelNew();f.currentEditItem&&f.cancelEdit();t.onRowEditEnded(S);d=!0}t._mouseHdl.resetMouseState();break;case Key.Delete:case Key.Back:d=this._deleteSel(e);break;case Key.F2:d=this._startEditing(!0,e);break;case Key.F4:d=i._toggleListBox(e);break;default:d=!1}if(d){t.containsFocus()||t.focus();e.preventDefault();e.stopPropagation()}}}};_KeyboardHandler.prototype._performKeyAction=function(e,t){var i=KeyAction,o=SelMove;switch(e){case i.MoveDown:this._moveSel(t?o.Prev:o.Next,o.None,!1);return!0;case i.MoveAcross:this._moveSel(o.None,t?o.Prev:o.Next,!1);return!0;case i.Cycle:this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1);return!0;case i.CycleEditable:this._moveSel(o.None,t?o.PrevEditableCell:o.NextEditableCell,!1);return!0;case i.CycleOut:var n=this._g.selection;this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1);return!n.equals(this._g.selection)}return!1};_KeyboardHandler.prototype._keypress=function(e){var t=this,i=this._g;if(!i._wantsInput(e.target)&&!e.defaultPrevented){var o=i._edtHdl;if(i.activeEditor)o._keypress(e);else if(e.charCode>Key.Space&&\"AltLeft\"!=e.code&&\"AltRight\"!=e.code)if(this._startEditing(!1,e)&&i.activeEditor){var n=getActiveElement();if(n instanceof HTMLInputElement&&\"checkbox\"!=n.type||n instanceof HTMLTextAreaElement){var r=i._selHdl.selection,l=i.getCellData(r.row,r.col,!0),s=i.getCellData(r.row,r.col,!1),a=culture.Globalize.numberFormat[\"%\"]||\"%\",d=String.fromCharCode(e.charCode),c=isNumber(s)&&l.indexOf(a)>-1||\"\"==l&&n.value==a;n.value=c?d+a:d;setSelectionRange(n,1);n.dispatchEvent(o._evtInput);o._keypress(e);o._edtValue=n.value!=l?n.value:null;e.preventDefault()}}else if(i.autoSearch){var u=!1;r=i._selHdl.selection;if(e.charCode>32||32==e.charCode&&this._search){e.preventDefault();this._search+=String.fromCharCode(e.charCode);this._toSearch&&clearTimeout(this._toSearch);this._toSearch=setTimeout((function(){t._toSearch=null;t._search=\"\"}),Control._SEARCH_DELAY);var h=this._findNext(r.row,r.col);if(h<0&&this._search.length>1){this._search=this._search[this._search.length-1];h=this._findNext(r.row,r.col)}if(h>-1){u=!0;i.select(h,r.col)}}u||(this._search=\"\")}}};_KeyboardHandler.prototype._findNext=function(e,t){var i=this._g,o=i.rows.length;(e<0||1==this._search.length)&&e++;var n=this._search,r=i.caseSensitiveSearch;r||(n=n.toLowerCase());for(var l=i.columns[t].isContentHtml,s=0;s<o;s++){var a=(e+s)%o,d=i.getCellData(a,t,!0).trim();l&&(d=toPlainText(d));r||(d=d.toLowerCase());if(0==d.indexOf(n))return a}return-1};_KeyboardHandler.prototype._moveSel=function(e,t,i){var o=this._g;o.selectionMode!=SelectionMode.None&&o._selHdl.moveSelection(e,t,i)};_KeyboardHandler.prototype._deleteSel=function(e){var t=this,i=this._g,o=i.rows,n=i.editableCollectionView,r=i.selection,l=[],s=new CellRange,a=new CellEditEndingEventArgs(i.cells,s,e),d=SelectionMode;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==n||n.canRemove&&!n.isAddingNew&&!n.isEditingItem)&&0==(l=o.filter((function(e){return e.isSelected}))).length)switch(i.selectionMode){case d.CellRange:case d.MultiRange:var c=i._getDeleteColumnIndex();i.selectedRanges.forEach((function(e){if(e.leftCol==c&&e.rightCol==i.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var n=o[t];l.indexOf(n)<0&&l.push(n)}}));break;case d.Row:r.topRow>-1&&l.push(o[r.topRow]);break;case d.RowRange:for(var u=r.topRow;u>-1&&u<=r.bottomRow;u++)l.push(o[u])}if(l.length>0){var h=0;i.deferUpdate((function(){n&&n.beginUpdate();for(var e=l.length-1;e>=0;e--){var t=l[e];if(!(t instanceof _NewRowTemplate)){s.setRange(t.index,-1);if(i.onDeletingRow(a)){n&&t.dataItem?n.remove(t.dataItem):i.rows.removeAt(t.index);h++;i.onDeletedRow(a)}}}n&&n.endUpdate(!1)}));if(h>0){var p=r.topRow;p=Math.min(p,i.rows.length-1);for(;p>0&&i.rows[p]instanceof _NewRowTemplate;)p--;r.row=r.row2=p;i.select(r,!1);i.childItemsPath&&n&&n.refresh()}return!0}if(0==l.length){i.deferUpdate((function(){var s=i.scrollPosition,a=-1;l=o.filter((function(e){return e.isSelected}));var c=i.selectedRanges.length>1||l.length>1||r.isValid&&o[r.row].dataItem!=o[r.row2].dataItem;n&&n.beginUpdate();if(l.length){var u=new CellRange(0,0,0,i.columns.length-1);l.forEach((function(i){u.row=u.row2=i.index;t._deleteRange(e,u);a=u.bottomRow}))}else{t._deleteRange(e,r);a=r.bottomRow;i.selectionMode==d.MultiRange&&i._selHdl.extendedSelection.forEach((function(i){t._deleteRange(e,i);a=i.bottomRow}))}i.select(r,!1);i.scrollPosition=s;if(n){if(c&&n.currentEditItem){n.commitEdit();var h=new CellRangeEventArgs(i.cells,new CellRange(a,-1));i.onRowEditEnding(h);i.onRowEditEnded(h)}n.endUpdate(!1)}}));return!0}return!1};_KeyboardHandler.prototype._deleteRange=function(e,t){for(var i=this._g,o=i.editableCollectionView,n=new CellRange,r=new CellEditEndingEventArgs(i.cells,n,e),l=new CellRangeEventArgs(i.cells,new CellRange(t.topRow,-1)),s=t.topRow;s<=t.bottomRow;s++){var a=i.rows[s];if(!a.isReadOnly)for(var d=t.leftCol;d<=t.rightCol;d++){var c=i._getBindingColumn(i.cells,s,i.columns[d]);if(!c.getIsRequired(a)&&!c.isReadOnly&&i.getCellData(s,d,!0)){n.setRange(s,d);r.cancel=!1;if(i.onBeginningEdit(r)){var u=a.dataItem,h=o?o.currentEditItem:null;if(h&&u!=h){i.onRowEditEnding(l);i.onRowEditEnded(l)}if(u!=h){l._rng.setRange(s,-1);i.onRowEditStarting(l);i.onRowEditStarted(l)}if(o){o.editItem(u);i._edtHdl._edItem=u}i.setCellData(s,d,\"\",!0,!1);i.onCellEditEnding(r);i.onCellEditEnded(r)}}}}};_KeyboardHandler.prototype._startEditing=function(e,t,i,o){return this._g._edtHdl.startEditing(e,i,o,!0,t)};return _KeyboardHandler}();export{_KeyboardHandler};var _AR_ALLCELLS=4,_WJC_DRAGSRC=\"wj-state-dragsrc\",_WJC_FLEXGRID=\"wj-flexgrid\";export var AllowResizing;!function(e){e[e.None=0]=\"None\";e[e.Columns=1]=\"Columns\";e[e.Rows=2]=\"Rows\";e[e.Both=3]=\"Both\";e[e.ColumnsAllCells=e.Columns|_AR_ALLCELLS]=\"ColumnsAllCells\";e[e.RowsAllCells=e.Rows|_AR_ALLCELLS]=\"RowsAllCells\";e[e.BothAllCells=e.Both|_AR_ALLCELLS]=\"BothAllCells\"}(AllowResizing||(AllowResizing={}));export var AutoSizeMode;!function(e){e[e.None=0]=\"None\";e[e.Headers=1]=\"Headers\";e[e.Cells=2]=\"Cells\";e[e.Both=3]=\"Both\"}(AutoSizeMode||(AutoSizeMode={}));export var AllowDragging;!function(e){e[e.None=0]=\"None\";e[e.Columns=1]=\"Columns\";e[e.Rows=2]=\"Rows\";e[e.Both=3]=\"Both\"}(AllowDragging||(AllowDragging={}));var _MouseHandler=function(){function _MouseHandler(e){var t=this,i=e.hostElement,o=e.addEventListener.bind(e),n=e.removeEventListener.bind(e);this._g=e;this._dvMarker=createElement('<div class=\"wj-marker\">&nbsp;</div>');o(i,\"mousedown\",(function(i){e._rcBounds=null;if(!i.defaultPrevented&&0==i.button){var r=i.target;if(!e.containsFocus()){var l=r instanceof HTMLElement&&r.tabIndex>-1?r:e._eFocus;e._setFocusNoScroll(l)}setTimeout((function(){i.defaultPrevented||e.focus()}));var s=closestClass(r,_WJC_FLEXGRID);if(s&&s!=e.hostElement||!e.activeEditor&&e._isInputElement(r)&&!t._hasRadioMap(i)&&!e._isNativeCheckbox(r)){var a=e.hitTest(i),d=CellType;switch(a.cellType){case d.Cell:e.select(a.range,!1);r instanceof HTMLElement&&\"root\"!=r.getAttribute(\"wj-part\")&&r.focus();break;case d.ColumnHeader:case d.ColumnFooter:e.scrollIntoView(-1,a.col);break;case d.RowHeader:e.scrollIntoView(a.row,-1)}isIE()&&a.cellType!=d.Cell&&e._isInputElement(r)&&r.focus();return}var c=document;n(c,\"mousemove\");n(c,\"mouseup\");o(c,\"mousemove\",mouseMove);o(c,\"mouseup\",mouseUp);t._isDown=!0;t._mousedown(i)}}));var mouseMove=function(e){t._mousemove(e)},mouseUp=function(e){t._isDown=!1;n(document,\"mousemove\");n(document,\"mouseup\");t._mouseup(e)};o(i,\"mouseenter\",(function(t){e._rcBounds=null}));o(i,\"mousemove\",this._hover.bind(this));o(i,\"dblclick\",this._dblclick.bind(this));o(i,\"click\",this._click.bind(this));o(i,\"selectstart\",(function(t){e._isInputElement(t.target)||t.preventDefault()}));o(i,\"wheel\",(function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var i=e._root,o=t.deltaY;if((t.shiftKey?i.scrollWidth>i.clientWidth:i.scrollHeight>i.clientHeight)&&closestClass(t.target,_WJC_FLEXGRID)==e.hostElement){switch(t.deltaMode){case 1:o=e.rows.defaultSize*(o<0?-1:1);break;case 2:o=(t.shiftKey?i.clientWidth:i.clientHeight)*(o<0?-1:1);break;case 0:default:isSafari()&&(o=clamp(o,-150,150))}e.containsFocus()||e._eFocus.focus();e.finishEditing(!1)&&(t.shiftKey?i.scrollLeft+=o:i.scrollTop+=o);t.preventDefault();t.stopImmediatePropagation()}}}));o(i,\"dragstart\",this._dragstart.bind(this));o(i,\"dragover\",this._dragover.bind(this));o(i,\"dragleave\",this._dragover.bind(this));o(i,\"drop\",this._drop.bind(this));o(i,\"dragend\",this._dragend.bind(this))}_MouseHandler.prototype.resetMouseState=function(){var e=this._g,t=e.hostElement;if(this._updating){this._updating=!1;e.endUpdate()}this._dragSrc&&removeClass(this._dragSrc,_WJC_DRAGSRC);this._showDragMarker(null);t&&(t.style.cursor=\"\");isSafari()&&this._szRowCol&&e.invalidate();e.removeEventListener(document,\"mousemove\");e.removeEventListener(document,\"mouseup\");this._eMouse=null;this._isDown=null;this._htDown=null;this._lbSelState=null;this._szRowCol=null;this._szArgs=null;e._rcBounds=null};_MouseHandler.prototype._mousedown=function(e){var t=this._g,i=e.target,o=t.hitTest(e),n=o.cellType,r=CellType,l=e.ctrlKey||e.metaKey;this._selDown=t.selection;this._ignoreClick=!1;if(o.panel==t.cells){if(closestClass(i,CellFactory._WJC_DROPDOWN)){var s=t.hitTest(i);t._edtHdl._toggleListBox(e,s.range);e.preventDefault();this._ignoreClick=!0;return}var a=t.editRange;if(a&&a.contains(o.range))return}var d=getActiveElement();if(i!=d||!t._isInputElement(i))if(n!=r.None){this._htDown=o;this._eMouse=e;if(null==this._szRowCol){var c=t.allowResizing,u=AllowResizing;if((n==r.RowHeader||n==r.TopLeft)&&o.edgeBottom&&c&u.Rows&&this._getResizeRowHt(o))this._ignoreClick=!0;else if((n==r.ColumnHeader||n==r.TopLeft)&&o.edgeRight&&c&u.Columns&&this._getResizeColHt(o))this._ignoreClick=!0;else{var h=t.allowDragging,p=AllowDragging;switch(n){case r.Cell:case r.RowHeader:if(l&&t.selectionMode==SelectionMode.ListBox){this._lbSelState=t.rows[o.row].isSelected;closest(i,\".wj-elem-collapse\")&&(this._lbSelState=!1)}this._mouseSelect(e,e.shiftKey);if(n==r.RowHeader&&!(h&p.Rows)){e.preventDefault();t.focus()}break;case r.ColumnHeader:t.allowSorting||h&p.Columns||closest(i,\"button\")||this._mouseSelect(e,e.shiftKey)}}}else{var g=t._eFocus;if(d!=g){g.tabIndex=0;g.focus()}this._ignoreClick=!0;this._handleResizing(e)}}else{t.finishEditing();i!=t._root&&i!=t._fCt&&t._edtHdl._commitRowEdits()}};_MouseHandler.prototype._mousemove=function(e){if(this._htDown&&!e.defaultPrevented){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600){this.resetMouseState();return}this._eMouse=e;if(this._szRowCol)this._handleResizing(e);else{var t=this._g,i=t.allowDragging,o=AllowDragging,n=CellType;switch(this._htDown.cellType){case n.Cell:this._mouseSelect(e,!0);break;case n.RowHeader:i&o.Rows||this._mouseSelect(e,!0);break;case n.ColumnHeader:i&o.Columns||t.allowSorting||this._mouseSelect(e,!0)}}}};_MouseHandler.prototype._mouseup=function(e){var t=this._g;if(!t.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var i=t.hitTest(e),o=this._htDown;if(o&&!e.defaultPrevented){this._szArgs&&this._finishResizing(e);if(!this._szArgs&&i.panel==o.panel&&i.row==o.row&&i.col==o.col){var n=i.getColumn();if(n){if(!(n._getFlag(RowColFlags.HasTemplate)&&!n.cellTemplate)){var r=i.target;if(r!=o.target&&r instanceof HTMLElement){if(o.target instanceof HTMLInputElement){var l=i.point,s=o.point;Math.abs(l.x-s.x)+Math.abs(l.y-s.y)<10&&(r=r.querySelector(\"input\")||r)}var a=document.createEvent(\"Event\");a.initEvent(\"click\",!0,!0);for(var d in e)/Key$|X$|Y$|^button|^(x|y|which)$/.test(d)&&(a[d]=e[d]);r.dispatchEvent(a)}}}}}this.resetMouseState()}};_MouseHandler.prototype._click=function(e){if(this._ignoreClick){this._ignoreClick=!1;e.preventDefault()}if(!e.defaultPrevented){var t=this._g,i=e.target,o=t.hitTest(i),n=tryCast(i,HTMLInputElement),r=\"input.\"+CellFactory._WJC_CHECKBOX;if(!n){var l=closest(i,\"label\");l&&(n=l.querySelector(r))}!n&&t.bigCheckboxes&&(n=i.querySelector(r));if(n!=t.activeEditor&&t._isNativeCheckbox(n)){if(o.panel==t.cells){var s=t.getCellData(o.row,o.col,!1);if(t.startEditing(!1,o.row,o.col,!1,e)){t.activeEditor.checked=!s;t.finishEditing();t.focus()}else n.checked=s}return}if(this._hasRadioMap(e)){this._handleClick(e);return}var a=e.ctrlKey||e.metaKey;if(t.rows.maxGroupLevel>-1&&closestClass(i,CellFactory._WJC_COLLAPSE)){var d=t.rows[o.row];if(o.panel==t.cells&&d instanceof GroupRow){a?t.collapseGroupsToLevel(d.isCollapsed?d.level+1:d.level):d.isCollapsed=!d.isCollapsed;return}}if(!a&&!e.shiftKey&&!t.activeEditor&&o.panel==t.cells){var c=t._selHdl.selection;if(c.equals(this._selDown)&&o.range.contains(c)){t.startEditing(!0,null,null,!0,e);return}}this._handleClick(e)}};_MouseHandler.prototype._handleClick=function(e){var t=this._g,i=e.target,o=t.hitTest(i),n=e.ctrlKey||e.metaKey,r=o.panel;if(!e.defaultPrevented&&o.grid==t){if(r==t.cells&&this._hasRadioMap(e)){var l=closest(i,\"label\"),s=l&&l.querySelector(\"input\");s&&!s.disabled&&t.startEditing(!1,o.row,o.col,!1,e)&&t.finishEditing()&&(t._edtHdl._edtCanceled?e.preventDefault():t.setCellData(o.row,o.col,l.textContent,!0,t.refreshOnEdit));return}if(!t._isInputElement(i)){if(r==t.topLeftCells){var a=SelectionMode;switch(t.selectionMode){case a.None:case a.Cell:break;default:t.selectAll()}return}if(r==t.columnHeaders){if(t.allowPinning&&closestClass(i,CellFactory._WJC_PIN))this._clickPin(e,o);else if(closestClass(e.target,CellFactory._WJC_COLLAPSE)){if(p=t._getColumnGroup(o.row,o.col))if(n){for(var d=p.isCollapsed,c=p.level,u=[],h=0;h<t.columns.length;h++)if((p=t._getColumnGroup(o.row,h))&&p.collapseTo&&p.level==c&&u.indexOf(p)<0){u.push(p);p.isCollapsed=!d}}else p.isCollapsed=!p.isCollapsed}else{i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector(\"input\"));i instanceof HTMLInputElement||this._clickSort(e,o);t.focus()}return}if(r==t.rowHeaders){if(closestClass(e.target,CellFactory._WJC_COLLAPSE)){var p;if(p=t._getColumnGroup(o.row,o.col))if(n){d=p.isCollapsed,c=p.level,u=[];for(var g=0;g<t.rows.length;g++)if((p=t._getColumnGroup(g,o.col))&&p.collapseTo&&p.level==c&&u.indexOf(p)<0){u.push(p);p.isCollapsed=!d}}else p.isCollapsed=!p.isCollapsed}return}if(r==t.cells){if(o.row<0){this._clickSort(e,o);return}if(closestClass(i,CellFactory._WJC_COLLAPSE)){var f=t.rows[o.row];f instanceof GroupRow&&(n?t.collapseGroupsToLevel(f.isCollapsed?f.level+1:f.level):f.isCollapsed=!f.isCollapsed);return}closestClass(i,CellFactory._WJC_DROPDOWN)&&t._edtHdl._toggleListBox(e,o.range)}}}};_MouseHandler.prototype._hasRadioMap=function(e){var t=e.target;if(closest(t,\"label\")){var i=closestClass(t,CellFactory._WJC_RADIOMAP);return closestClass(i,_WJC_FLEXGRID)==this._g.hostElement}return!1};_MouseHandler.prototype._clickSort=function(e,t){var i=this._g,o=i.allowSorting,n=i.collectionView,r=n?n.sortDescriptions:null,l=e.ctrlKey||e.metaKey,s=e.shiftKey;if(n&&n.canSort&&o!=AllowSorting.None){var a=t.panel.columns[t.col],d=i._getBindingColumn(t.panel,t.row,a),c=d?d._getBindingSort():null;if(d.allowSorting&&c){if(a==d){var u=i.getMergedRange(t.panel,t.row,t.col,!1);if(u&&u.columnSpan>1)return}var h=new CellRangeEventArgs(t.panel,t.range,e);if(i.onSortingColumn(h)){i._edtHdl._commitRowEdits();for(var p=-1,g=null,f=0;f<r.length;f++)if(r[f].property==c){p=f;g=r[f];break}r.deferUpdate((function(){if(l&&s)r.clear();else if(g){var e=l;!e&&i.isTouching&&(e=0==g.ascending);e?r.removeAt(p):r[p]=new SortDescription(c,!g.ascending)}else{o!=AllowSorting.MultiColumn&&r.clear();var t=new SortDescription(c,!0);r.push(t)}}));i.onSortedColumn(h)}}}};_MouseHandler.prototype._clickPin=function(e,t){var i=this._g,o=i.columns,n=o.frozen,r=i.allowPinning;r==AllowPinning.Both&&(r=e.shiftKey?AllowPinning.ColumnRange:AllowPinning.SingleColumn);var l=new CellRangeEventArgs(i.cells,t.range);if(i.onPinningColumn(l)){if(r==AllowPinning.SingleColumn)if(t.col>=n){o.moveElement(t.col,n,!1);o.frozen++}else{o.moveElement(t.col,n-1,!1);o.frozen--}r==AllowPinning.ColumnRange&&(t.col+1!=n?o.frozen=t.col+1:o.frozen=0);i.onPinnedColumn(l)}};_MouseHandler.prototype._dblclick=function(e){if(!e.defaultPrevented){var t,i=this._g,o=i.hitTest(e),n=e.ctrlKey||e.metaKey,r=o.range,l=o.cellType,s=CellType,a=i.selection,d=i.allowResizing,c=AllowResizing;if(o.edgeRight&&d&c.Columns){if(l==s.TopLeft){if(o.panel.columns[o.col].allowResizing){t=new CellRangeEventArgs(o.panel,new CellRange(-1,o.col));if(i.onAutoSizingColumn(t)&&i.onResizingColumn(t)){this._ignoreClick=!0;i.autoSizeColumn(o.col,!0);i.onAutoSizedColumn(t);i.onResizedColumn(t);e.preventDefault()}}}else if(l==s.ColumnHeader||d&_AR_ALLCELLS){l==s.ColumnHeader&&n&&a.containsColumn(o.col)&&(r=a);for(var u=l==s.RowHeader||l==s.BottomLeft,h=r.leftCol;h<=r.rightCol;h++)if(o.panel.columns[h].allowResizing){t=new CellRangeEventArgs(o.panel,new CellRange(-1,h));if(i.onAutoSizingColumn(t)&&i.onResizingColumn(t)){this._ignoreClick=!0;i.autoSizeColumn(h,u);i.onResizedColumn(t);i.onAutoSizedColumn(t);e.preventDefault()}}}this.resetMouseState()}else if(o.edgeBottom&&d&c.Rows){if(l==s.TopLeft||l==s.BottomLeft){if(o.getRow().allowResizing){u=l==s.TopLeft||null;t=new CellRangeEventArgs(o.panel,new CellRange(o.row,-1));if(i.onAutoSizingRow(t)&&i.onResizingRow(t)){this._ignoreClick=!0;i.autoSizeRow(o.row,u);i.onResizedRow(t);i.onAutoSizedRow(t);e.preventDefault()}}}else if(l==s.RowHeader||d&_AR_ALLCELLS){var p=o.panel;u=p==i.columnHeaders||p==i.columnFooters&&null;n&&a.containsRow(o.row)&&p==i.cells&&(r=a);for(var g=r.topRow;g<=r.bottomRow;g++)if(p.rows[g].allowResizing){t=new CellRangeEventArgs(p,new CellRange(g,-1));if(i.onAutoSizingRow(t)&&i.onResizingRow(t)){this._ignoreClick=!0;i.autoSizeRow(g,u);i.onResizedRow(t);i.onAutoSizedRow(t);e.preventDefault()}}}this.resetMouseState()}else;}};_MouseHandler.prototype._hover=function(e){if(!this._isDown){var t=this._g,i=t.hitTest(e),o=\"\";this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i);this._szRowCol instanceof Column?o=\"col-resize\":this._szRowCol instanceof Row&&(o=\"row-resize\");this._szStart=this._szRowCol?this._szRowCol.renderSize:0;t.hostElement.style.cursor=o;return i}return null};_MouseHandler.prototype._getResizeColHt=function(e){var t,i=this._g.allowResizing,o=e.cellType,n=CellType;if(i&AllowResizing.Columns&&(o==n.ColumnHeader||o==n.TopLeft||i&_AR_ALLCELLS)){e.edgeRight&&(t=e.getColumn());e.edgeFarRight&&(t=this._getResizeCol(e.panel,e.col)||e.getColumn());e.edgeLeft&&(t=this._getResizeCol(e.panel,e.col,!0)||t)}return t&&t.allowResizing?t:null};_MouseHandler.prototype._getResizeRowHt=function(e){var t,i=this._g.allowResizing,o=AllowResizing,n=e.cellType,r=CellType;if(i&o.Rows&&(n==r.RowHeader||n==r.TopLeft||i&_AR_ALLCELLS)){e.edgeBottom&&(t=e.getRow());e.edgeFarBottom&&(t=this._getResizeRow(e.panel,e.row)||e.getRow());e.edgeTop&&(t=this._getResizeRow(e.panel,e.row,!0)||t)}return t&&t.allowResizing?t:null};_MouseHandler.prototype._getResizeCol=function(e,t,i){void 0===i&&(i=!1);var o=this._g,n=e.columns;if(i){for(var r=t-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}if(n==o.columns&&0!=(o.headersVisibility&HeadersVisibility.Row))for(r=(n=o.rowHeaders.columns).length-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}return null}for(r=t+1;r<n.length;r++){if((l=n[r]).isVisible)return this._asResizable(l)}if(t==n.length-1&&n==o.rowHeaders.columns){n=o.columns;for(r=0;r<n.length;r++){var l;if((l=n[r]).isVisible)return this._asResizable(l)}}return null};_MouseHandler.prototype._getResizeRow=function(e,t,i){void 0===i&&(i=!1);var o=this._g,n=e.rows;if(i){for(var r=t-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}if(n==o.rows&&0!=(o.headersVisibility&HeadersVisibility.Column))for(r=(n=o.columnHeaders.rows).length-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}return null}for(r=t+1;r<n.length;r++){if((l=n[r]).isVisible)return this._asResizable(l)}if(t==n.length-1&&n==o.columnHeaders.rows){n=o.rows;for(r=0;r<n.length;r++){var l;if((l=n[r]).isVisible)return this._asResizable(l)}}return null};_MouseHandler.prototype._asResizable=function(e){return 0==e.renderSize&&e.allowResizing?e:null};_MouseHandler.prototype._mouseSelect=function(e,t){var i=this,o=this._g;if(e&&this._htDown&&this._htDown.panel&&o.selectionMode!=SelectionMode.None){var n=new HitTestInfo(this._htDown.panel,e);this._handleSelection(n,t);!isIE9()&&e.button>=0&&e.target!=o._root&&((n=new HitTestInfo(o,e)).panel||setTimeout((function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,t)}),100))}};_MouseHandler.prototype._handleResizing=function(e){\"mousedown\"==e.type&&(isSafari()?setAttribute(e.target,\"draggable\",null):e.preventDefault());var t=this._szRowCol;if(t instanceof Column){var i=this._g,o=mouseToPage(e).x,n=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(t.renderSize!=n){if(null==this._szArgs){var r=i.rowHeaders.columns.indexOf(t)>-1?i.rowHeaders:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(-1,t.index))}this._szArgs.cancel=!1;i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):t.width=n)}}var l=this._szRowCol;if(l instanceof Row){i=this._g;var s=mouseToPage(e).y;n=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(s-this._htDown.point.y)));if(l.renderSize!=n){if(null==this._szArgs){r=i.columnHeaders.rows.indexOf(l)>-1?i.columnHeaders:i.columnFooters.rows.indexOf(l)>-1?i.columnFooters:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(l.index,-1))}this._szArgs.cancel=!1;i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):l.height=n)}}this._szArgs&&e.preventDefault()};_MouseHandler.prototype._dragstart=function(e){var t=this._g,i=this._htDown,o=AllowDragging,n=CellType;if(i){this._dragSrc=null;this._htDrag=null;if(!this._szRowCol){var r=new CellRangeEventArgs(i.panel,i.range),l=t.allowDragging,s=i.cellType,a=i.panel.rows,d=i.panel.columns;i.col>-1&&d[i.col].allowDragging&&(s==n.ColumnHeader||s==n.TopLeft)&&l&o.Columns&&(t.onDraggingColumn(r)?this._dragSrc=e.target:e.preventDefault());if(!this._dragSrc&&i.row>-1&&a[i.row].allowDragging){var c=a[i.row];c instanceof GroupRow||c instanceof _NewRowTemplate||s==n.RowHeader&&l&o.Rows&&(t.onDraggingRow(r)?this._dragSrc=e.target:e.preventDefault())}}if(this._dragSrc&&e.dataTransfer&&!e.defaultPrevented){this._htDrag=i;_startDrag(e.dataTransfer,\"move\");e.stopPropagation();addClass(this._dragSrc,_WJC_DRAGSRC);t.beginUpdate();this._updating=!0}}};_MouseHandler.prototype._dragend=function(e){this._dragSrc=null;this._htDrag=null;this.resetMouseState()};_MouseHandler.prototype._dragover=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType,r=!1;if(o&&i.cellType==o.cellType){var l=new CellRangeEventArgs(i.panel,i.range,o);if(i.cellType==n.ColumnHeader){l.cancel=!t.columns.canMoveElement(o.col,i.col);r=t.onDraggingColumnOver(l)}else if(i.cellType==n.RowHeader){l.cancel=!t.rows.canMoveElement(o.row,i.row);r=t.onDraggingRowOver(l)}else if(i.cellType==n.TopLeft){l.cancel=!t.topLeftCells.columns.canMoveElement(o.col,i.col);r=t.onDraggingColumnOver(l)}}if(r){e.dataTransfer.dropEffect=\"move\";e.preventDefault();e.stopPropagation();this._showDragMarker(i)}else this._showDragMarker(null);if(o&&t.autoScroll){var s=t.controlRect,a=t.scrollPosition,d=Control._DRAG_SCROLL_EDGE,c=Control._DRAG_SCROLL_STEP;if(o.panel==t.columnHeaders){e.pageX-s.left<d&&(a.x+=c);s.right-e.pageX<d&&(a.x-=c)}else if(o.panel==t.rowHeaders){e.pageY-s.top<d&&(a.y+=c);s.bottom-e.pageY<d&&(a.y-=c)}if(!a.equals(t._ptScrl)){t.scrollPosition=a;t._rcBounds=null}}};_MouseHandler.prototype._drop=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType;if(o&&i.cellType==o.cellType){var r=t.selection,l=new CellRangeEventArgs(i.panel,i.range,o);if(i.cellType==n.ColumnHeader){t.columns.moveElement(o.col,i.col);t.select(r.row,i.col);t.onDraggedColumn(l)}else if(i.cellType==n.RowHeader){t.rows.moveElement(o.row,i.row);t.select(i.row,r.col);t.onDraggedRow(l)}else if(i.cellType==n.TopLeft){t.topLeftCells.columns.moveElement(o.col,i.col);t.onDraggedColumn(l)}}this.resetMouseState()};_MouseHandler.prototype._hitTest=function(e){var t=this._g;t._rcBounds=null;return t.hitTest(e)};_MouseHandler.prototype._showResizeMarker=function(e){var t,i=this._g,o=i._ptScrl,n=this._szArgs.panel.cellType,r=CellType,l=this._dvMarker,s=i.cells.hostElement;l.parentElement!=s&&s.appendChild(l);if(this._szRowCol instanceof Column){t={left:this._szRowCol.pos+e-1,top:-1e3,right:\"\",bottom:0,width:3,height:\"\"};n!=r.TopLeft&&n!=r.RowHeader||(t.left-=i._eTL.offsetWidth+o.x);n==r.Cell&&this._szRowCol.index<i.frozenColumns&&(t.left-=o.x);i.rightToLeft&&(t.left=s.clientWidth-t.left-t.width)}else{t={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:\"\",width:\"\",height:3};n!=r.TopLeft&&n!=r.ColumnHeader||(t.top-=i._eTL.offsetHeight+o.y);n==r.Cell&&this._szRowCol.index<i.frozenRows&&(t.top-=o.y)}setCss(l,t)};_MouseHandler.prototype._showDragMarker=function(e){var t=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var i=e.panel.hostElement;t.parentElement!=i&&i.appendChild(t);var o=this._g,n=o._ptScrl,r=CellType,l={left:0,top:0,width:6,height:6,right:\"\",bottom:\"\"};switch(e.cellType){case r.TopLeft:case r.ColumnHeader:var s=e.panel.columns[e.col];l.left=s.pos-l.width/2;l.height=e.panel.height;this._htDown&&e.col>this._htDown.col&&(l.left+=s.renderWidth);e.cellType==r.ColumnHeader&&e.col<o.frozenColumns&&(l.left-=n.x);o.rightToLeft&&(l.left=t.parentElement.clientWidth-l.left-l.width);break;case r.RowHeader:var a=e.getRow();l.top=a.pos-l.height/2;l.width=e.panel.width;e.row>this._htDown.row&&(l.top+=a.renderHeight);e.row<o.frozenRows&&(l.top-=n.y)}setCss(t,l)}}else{removeChild(t);this._rngTarget=null}};_MouseHandler.prototype._finishResizing=function(e){var t=this._g,i=t.selection,o=this._szArgs,n=this._eMouse,r=n&&(n.ctrlKey||n.metaKey),l=CellType;if(o&&!o.cancel){if(o.col>-1){var s=o.col,a=mouseToPage(e).x,d=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(a-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));o.panel.columns[s].width=Math.round(d);t.onResizedColumn(o);if(r&&this._htDown.cellType==l.ColumnHeader&&i.containsColumn(s))for(var c=i.leftCol;c<=i.rightCol;c++)if(t.columns[c].allowResizing&&c!=s){o=new CellRangeEventArgs(t.cells,new CellRange(-1,c));if(t.onResizingColumn(o)){t.columns[c].size=t.columns[s].size;t.onResizedColumn(o)}}e.preventDefault()}if(o.row>-1){var u=o.row,h=mouseToPage(e).y;d=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(h-this._htDown.point.y)));o.getRow().height=Math.round(d);t.onResizedRow(o);if(r&&this._htDown.cellType==l.RowHeader&&i.containsRow(u))for(var p=i.topRow;p<=i.bottomRow;p++)if(t.rows[p].allowResizing&&p!=u){o=new CellRangeEventArgs(t.cells,new CellRange(p,-1));if(t.onResizingRow(o)){t.rows[p].size=t.rows[u].size;t.onResizedRow(o)}}e.preventDefault()}}};_MouseHandler.prototype._handleSelection=function(e,t){var i=this._g,o=i._selHdl.selection,n=new CellRange(e.row,e.col),r=CellType,l=SelectionMode;if(n.isValid)if(null==this._lbSelState){switch(e.cellType){case r.RowHeader:n.col=0;n.col2=i.columns.length-1;break;case r.ColumnHeader:switch(i.selectionMode){case l.Row:case l.Cell:n.row=n.row2=o.row;t=!1;break;default:n.row=0;n.row2=i.rows.length-1}}if(t){if(i.anchorCursor){n.row=o.row;n.col=o.col}else{n.row2=o.row2;n.col2=o.col2}if(!n.isValid){var s=this._htDown;s&&(n=new CellRange(s.row,s.col))}}if(i.selectionMode==SelectionMode.MultiRange){var a=i._mouseHdl._eMouse,d=a&&(a.ctrlKey||a.metaKey),c=i._selHdl,u=c.selection,h=c.extendedSelection,p=e.panel!=i.cells;closest(a.target,\".wj-elem-collapse\")&&(d=!1);if(d){if(!t&&c._deselectRange(n))c.selection.isValid&&(n=null);else if(u.isValid&&(p||!u.intersects(n))){(p?this._splitRange(u):[u.clone()]).forEach((function(e){for(var t=!1,i=0;i<h.length&&!t;i++)h[i].equals(e)&&(t=!0);t||h.push(e)}))}}else h.clear()}if(n){i.select(n,!1);switch(e.cellType){case r.RowHeader:i.scrollIntoView(e.row,-1);break;case r.ColumnHeader:i.scrollIntoView(-1,e.col);break;default:i.scrollIntoView(e.row,e.col)}}else{var g=new CellRangeEventArgs(i.cells,new CellRange(e.row,e.col));i.onSelectionChanging(g);i.onSelectionChanged(g);i.invalidate()}}else{i.rows[e.row].isSelected=!this._lbSelState;i.scrollIntoView(e.row,e.col)}};_MouseHandler.prototype._splitRange=function(e){var t=this._g,i=t.columns.length,o=t.rows.length,n=[];if(e.columnSpan==i)for(var r=e.topRow;r<=e.bottomRow;r++)n.push(new CellRange(r,0,r,i-1));else if(e.rowSpan==o)for(var l=e.leftCol;l<=e.rightCol;l++)n.push(new CellRange(0,l,o-1,l));else n.push(e.clone());return n};_MouseHandler._SZ_MIN=0;return _MouseHandler}();export{_MouseHandler};_registerModule(\"wijmo.grid\",selfModule);"]},"metadata":{},"sourceType":"module"}